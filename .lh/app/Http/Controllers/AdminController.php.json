{
    "sourceFile": "app/Http/Controllers/AdminController.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 435,
            "patches": [
                {
                    "date": 1719492549189,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1719492560276,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -12,9 +12,11 @@\n      * @return \\Illuminate\\Http\\Response\n      */\n     public function index()\n     {\n-        if(Session::has('user'))\n+        if(Session::has('superadmin')){\n+            \n+        }\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719492610210,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -13,9 +13,9 @@\n      */\n     public function index()\n     {\n         if(Session::has('superadmin')){\n-            \n+            return view('admin.index');\n         }\n     }\n \n     /**\n"
                },
                {
                    "date": 1719492615666,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,8 +14,10 @@\n     public function index()\n     {\n         if(Session::has('superadmin')){\n             return view('admin.index');\n+        }else{\n+            return view('admin.index');\n         }\n     }\n \n     /**\n"
                },
                {
                    "date": 1719492621432,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n     {\n         if(Session::has('superadmin')){\n             return view('admin.index');\n         }else{\n-            return view('admin.index');\n+            return view('admin.login');\n         }\n     }\n \n     /**\n"
                },
                {
                    "date": 1719492719388,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,8 +2,9 @@\n \n namespace App\\Http\\Controllers;\n \n use Illuminate\\Http\\Request;\n+use Session;\n \n class AdminController extends Controller\n {\n     /**\n"
                },
                {
                    "date": 1719493260793,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,8 +19,11 @@\n         }else{\n             return view('admin.login');\n         }\n     }\n+    public function loginadmincheck(){\n+        \n+    }\n \n     /**\n      * Show the form for creating a new resource.\n      *\n"
                },
                {
                    "date": 1719493274580,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,10 @@\n             return view('admin.login');\n         }\n     }\n     public function loginadmincheck(){\n-        \n+        user\n+        pass\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719493389718,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,11 +19,12 @@\n         }else{\n             return view('admin.login');\n         }\n     }\n-    public function loginadmincheck(){\n-        user\n-        pass\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+       \n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719493408940,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,8 +2,10 @@\n \n namespace App\\Http\\Controllers;\n \n use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use Hash;\n use Session;\n \n class AdminController extends Controller\n {\n@@ -22,9 +24,9 @@\n     }\n     public function loginadmincheck(Request $request){\n         $username = $request->user;\n         $password = $request->pass;\n-       \n+        \n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719493459602,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,8 +24,9 @@\n     }\n     public function loginadmincheck(Request $request){\n         $username = $request->user;\n         $password = $request->pass;\n+        $user = Superadmin::->where(\"\");\n         \n     }\n \n     /**\n"
                },
                {
                    "date": 1719493580401,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,8 +3,9 @@\n namespace App\\Http\\Controllers;\n \n use Illuminate\\Http\\Request;\n use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n use Hash;\n use Session;\n \n class AdminController extends Controller\n"
                },
                {
                    "date": 1719493597181,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,8 +25,24 @@\n     }\n     public function loginadmincheck(Request $request){\n         $username = $request->user;\n         $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myvisitor = Visitor::where(\"username\",\"=\",$myemail)->get();\n+        if($myvisitor->count() > 0){\n+            if(Hash::check($mypwd, $myvisitor[0]->password)) {\n+                Session::put('id_user',$myvisitor[0]->id);\n+                Session::put('user',$myvisitor[0]->username);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n         $user = Superadmin::->where(\"\");\n         \n     }\n \n"
                },
                {
                    "date": 1719493606382,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n         $username = $request->user;\n         $password = $request->pass;\n \n         $myhashpassword = bcrypt(\"mypwd\");\n-        $myvisitor = Visitor::where(\"username\",\"=\",$myemail)->get();\n+        $myvisitor = Superadmin::where(\"user\",\"=\",$myemail)->get();\n         if($myvisitor->count() > 0){\n             if(Hash::check($mypwd, $myvisitor[0]->password)) {\n                 Session::put('id_user',$myvisitor[0]->id);\n                 Session::put('user',$myvisitor[0]->username);\n"
                },
                {
                    "date": 1719493635169,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,11 +27,11 @@\n         $username = $request->user;\n         $password = $request->pass;\n \n         $myhashpassword = bcrypt(\"mypwd\");\n-        $myvisitor = Superadmin::where(\"user\",\"=\",$myemail)->get();\n+        $myvisitor = Superadmin::where(\"user\",\"=\",$username)->get();\n         if($myvisitor->count() > 0){\n-            if(Hash::check($mypwd, $myvisitor[0]->password)) {\n+            if(Hash::check($password, $myvisitor[0]->password)) {\n                 Session::put('id_user',$myvisitor[0]->id);\n                 Session::put('user',$myvisitor[0]->username);\n                 return \"cocok\";\n             }\n@@ -41,9 +41,9 @@\n         }\n         else{\n             return \"tidak ada data\";\n         }\n-        $user = Superadmin::->where(\"\");\n+      \n         \n     }\n \n     /**\n"
                },
                {
                    "date": 1719493646304,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         $myhashpassword = bcrypt(\"mypwd\");\n         $myvisitor = Superadmin::where(\"user\",\"=\",$username)->get();\n         if($myvisitor->count() > 0){\n             if(Hash::check($password, $myvisitor[0]->password)) {\n-                Session::put('id_user',$myvisitor[0]->id);\n+                Session::put('superadmin',$myvisitor[0]->id);\n                 Session::put('user',$myvisitor[0]->username);\n                 return \"cocok\";\n             }\n             else{\n"
                },
                {
                    "date": 1719493656441,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,12 +27,12 @@\n         $username = $request->user;\n         $password = $request->pass;\n \n         $myhashpassword = bcrypt(\"mypwd\");\n-        $myvisitor = Superadmin::where(\"user\",\"=\",$username)->get();\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n         if($myvisitor->count() > 0){\n             if(Hash::check($password, $myvisitor[0]->password)) {\n-                Session::put('superadmin',$myvisitor[0]->id);\n+                Session::put('id_superadmin',$myvisitor[0]->id);\n                 Session::put('user',$myvisitor[0]->username);\n                 return \"cocok\";\n             }\n             else{\n"
                },
                {
                    "date": 1719493667597,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,10 +30,10 @@\n         $myhashpassword = bcrypt(\"mypwd\");\n         $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n         if($myvisitor->count() > 0){\n             if(Hash::check($password, $myvisitor[0]->password)) {\n-                Session::put('id_superadmin',$myvisitor[0]->id);\n-                Session::put('user',$myvisitor[0]->username);\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('user',$myadmin[0]->name);\n                 return \"cocok\";\n             }\n             else{\n                 return \"tidak cocok\";\n"
                },
                {
                    "date": 1719493673223,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n         $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n         if($myvisitor->count() > 0){\n             if(Hash::check($password, $myvisitor[0]->password)) {\n                 Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('user',$myadmin[0]->name);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n                 return \"cocok\";\n             }\n             else{\n                 return \"tidak cocok\";\n"
                },
                {
                    "date": 1719493684590,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,114 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use Hash;\n+use Session;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+        if(Session::has('superadmin')){\n+            return view('admin.index');\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719493750421,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,8 +16,9 @@\n      * @return \\Illuminate\\Http\\Response\n      */\n     public function index()\n     {\n+        $myhashpassword = bcrypt(\"superadmin12345\");\n         if(Session::has('superadmin')){\n             return view('admin.index');\n         }else{\n             return view('admin.login');\n@@ -110,119 +111,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use Hash;\n-use Session;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-        if(Session::has('superadmin')){\n-            return view('admin.index');\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myvisitor->count() > 0){\n-            if(Hash::check($password, $myvisitor[0]->password)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n-        \n-    }\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719493854550,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,13 +16,13 @@\n      * @return \\Illuminate\\Http\\Response\n      */\n     public function index()\n     {\n-        $myhashpassword = bcrypt(\"superadmin12345\");\n+        $myhashpassword = bcrypt(\"superadminsupplierflorist123\");\n         if(Session::has('superadmin')){\n             return view('admin.index');\n         }else{\n-            return view('admin.login');\n+            return view('admin.login', compact(\"myhashpassword\"));\n         }\n     }\n     public function loginadmincheck(Request $request){\n         $username = $request->user;\n"
                },
                {
                    "date": 1719493950224,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,9 +16,9 @@\n      * @return \\Illuminate\\Http\\Response\n      */\n     public function index()\n     {\n-        $myhashpassword = bcrypt(\"superadminsupplierflorist123\");\n+        // $myhashpassword = bcrypt(\"superadminsupplierflorist123\");\n         if(Session::has('superadmin')){\n             return view('admin.index');\n         }else{\n             return view('admin.login', compact(\"myhashpassword\"));\n"
                },
                {
                    "date": 1719493975041,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,13 +16,13 @@\n      * @return \\Illuminate\\Http\\Response\n      */\n     public function index()\n     {\n-        // $myhashpassword = bcrypt(\"superadminsupplierflorist123\");\n+\n         if(Session::has('superadmin')){\n             return view('admin.index');\n         }else{\n-            return view('admin.login', compact(\"myhashpassword\"));\n+            return view('admin.login');\n         }\n     }\n     public function loginadmincheck(Request $request){\n         $username = $request->user;\n"
                },
                {
                    "date": 1719494143640,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n      */\n     public function index()\n     {\n \n-        if(Session::has('superadmin')){\n+        if(Session::has('id_superadmin')){\n             return view('admin.index');\n         }else{\n             return view('admin.login');\n         }\n"
                },
                {
                    "date": 1719496024495,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,8 +4,10 @@\n \n use Illuminate\\Http\\Request;\n use App\\Models\\Visitor;\n use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n use Hash;\n use Session;\n \n class AdminController extends Controller\n"
                },
                {
                    "date": 1719496075908,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,8 +6,9 @@\n use App\\Models\\Visitor;\n use App\\Models\\Superadmin;\n use App\\Models\\Product;\n use App\\Models\\Transaction;\n+\n use Hash;\n use Session;\n \n class AdminController extends Controller\n@@ -20,8 +21,11 @@\n     public function index()\n     {\n \n         if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n             return view('admin.index');\n         }else{\n             return view('admin.login');\n         }\n"
                },
                {
                    "date": 1719496097802,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,121 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n+\n+use Hash;\n+use Session;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719497072115,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -51,127 +51,9 @@\n         }\n       \n         \n     }\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use App\\Models\\Product;\n-use App\\Models\\Transaction;\n-\n-use Hash;\n-use Session;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-\n-        if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index');\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myadmin->count() > 0){\n-            if(Hash::check($password, $myadmin[0]->pass)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n+    public function listproduk(){\n         \n     }\n \n     /**\n"
                },
                {
                    "date": 1719497083674,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,16 @@\n       \n         \n     }\n     public function listproduk(){\n-        \n+        if(Session::has('id_superadmin')){\n+            $visitor = Visitor::all();\n+            $product = Product::all();\n+            $transaction = Transaction::all();\n+             return view('admin.index', compact('visitor','product','transaction'));\n+         }else{\n+             return view('admin.login');\n+         }\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719497093099,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,8 +52,9 @@\n       \n         \n     }\n     public function listproduk(){\n+        \n         if(Session::has('id_superadmin')){\n             $visitor = Visitor::all();\n             $product = Product::all();\n             $transaction = Transaction::all();\n"
                },
                {
                    "date": 1719497632230,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,8 +7,9 @@\n use App\\Models\\Superadmin;\n use App\\Models\\Product;\n use App\\Models\\Transaction;\n \n+use DataTables;\n use Hash;\n use Session;\n \n class AdminController extends Controller\n"
                },
                {
                    "date": 1719497646959,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,12 +55,14 @@\n     }\n     public function listproduk(){\n         \n         if(Session::has('id_superadmin')){\n-            $visitor = Visitor::all();\n-            $product = Product::all();\n-            $transaction = Transaction::all();\n-             return view('admin.index', compact('visitor','product','transaction'));\n+            $data = KlipingModel::select('*')\n+            ->join('tb_kat_berita', 'tb_kliping.id_kat_berita', '=', 'tb_kat_berita.id_kat_berita')\n+            ->where('tb_kliping.id_stat_kliping', 2)\n+            ->limit(100)\n+            ->get();\n+    return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n     }\n"
                },
                {
                    "date": 1719497670050,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,14 +55,14 @@\n     }\n     public function listproduk(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = KlipingModel::select('*')\n+            $data = Product::select('*')\n             ->join('tb_kat_berita', 'tb_kliping.id_kat_berita', '=', 'tb_kat_berita.id_kat_berita')\n             ->where('tb_kliping.id_stat_kliping', 2)\n             ->limit(100)\n             ->get();\n-    return DataTables::of($data)->make(true);\n+             return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n     }\n"
                },
                {
                    "date": 1719497753703,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -55,13 +55,9 @@\n     }\n     public function listproduk(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Product::select('*')\n-            ->join('tb_kat_berita', 'tb_kliping.id_kat_berita', '=', 'tb_kat_berita.id_kat_berita')\n-            ->where('tb_kliping.id_stat_kliping', 2)\n-            ->limit(100)\n-            ->get();\n+            $data = Product::latest();\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1719497947553,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,9 +52,9 @@\n         }\n       \n         \n     }\n-    public function listproduk(){\n+    public function getlistproduk(){\n         \n         if(Session::has('id_superadmin')){\n             $data = Product::latest();\n              return DataTables::of($data)->make(true);\n"
                },
                {
                    "date": 1719498058588,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -52,8 +52,11 @@\n         }\n       \n         \n     }\n+    public function listproduk(){\n+        \n+    }\n     public function getlistproduk(){\n         \n         if(Session::has('id_superadmin')){\n             $data = Product::latest();\n"
                },
                {
                    "date": 1719498070884,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -53,9 +53,9 @@\n       \n         \n     }\n     public function listproduk(){\n-        \n+        return view('admin.login');\n     }\n     public function getlistproduk(){\n         \n         if(Session::has('id_superadmin')){\n"
                },
                {
                    "date": 1719498081393,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -53,9 +53,9 @@\n       \n         \n     }\n     public function listproduk(){\n-        return view('admin.login');\n+        return view('admin.product');\n     }\n     public function getlistproduk(){\n         \n         if(Session::has('id_superadmin')){\n"
                },
                {
                    "date": 1719501856273,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -64,8 +64,20 @@\n          }else{\n              return view('admin.login');\n          }\n     }\n+    public function listproduk(){\n+        return view('admin.product');\n+    }\n+    public function getlistproduk(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Product::latest();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n \n     /**\n      * Show the form for creating a new resource.\n      *\n"
                },
                {
                    "date": 1719501868832,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -53,9 +53,14 @@\n       \n         \n     }\n     public function listproduk(){\n-        return view('admin.product');\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n+   \n     }\n     public function getlistproduk(){\n         \n         if(Session::has('id_superadmin')){\n"
                },
                {
                    "date": 1719501878390,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,9 +70,13 @@\n              return view('admin.login');\n          }\n     }\n     public function listproduk(){\n-        return view('admin.product');\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n     }\n     public function getlistproduk(){\n         \n         if(Session::has('id_superadmin')){\n"
                },
                {
                    "date": 1719501883690,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,16 +69,16 @@\n          }else{\n              return view('admin.login');\n          }\n     }\n-    public function listproduk(){\n+    public function listuser(){\n         if(Session::has('id_superadmin')){\n             return view('admin.product');\n          }else{\n              return view('admin.login');\n          }\n     }\n-    public function getlistproduk(){\n+    public function getlistuser(){\n         \n         if(Session::has('id_superadmin')){\n             $data = Product::latest();\n              return DataTables::of($data)->make(true);\n"
                },
                {
                    "date": 1719501892863,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,17 +71,17 @@\n          }\n     }\n     public function listuser(){\n         if(Session::has('id_superadmin')){\n-            return view('admin.product');\n+            return view('admin.user');\n          }else{\n              return view('admin.login');\n          }\n     }\n     public function getlistuser(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n+            $data = Visitor::latest();\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1719501999676,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,9 +79,9 @@\n     }\n     public function getlistuser(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Visitor::latest();\n+            $data = Visitor::all();\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1719502368703,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,9 +85,27 @@\n          }else{\n              return view('admin.login');\n          }\n     }\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.user');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Visitor::all();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    \n \n+\n     /**\n      * Show the form for creating a new resource.\n      *\n      * @return \\Illuminate\\Http\\Response\n"
                },
                {
                    "date": 1719502375007,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,9 +87,9 @@\n          }\n     }\n     public function listtrx(){\n         if(Session::has('id_superadmin')){\n-            return view('admin.user');\n+            return view('admin.transaction');\n          }else{\n              return view('admin.login');\n          }\n     }\n"
                },
                {
                    "date": 1719502381994,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -95,9 +95,9 @@\n     }\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Visitor::all();\n+            $data = Transaction::latest();\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1719502452210,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -95,9 +95,9 @@\n     }\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Transaction::latest();\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')latest();\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1719502528104,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -95,9 +95,9 @@\n     }\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')latest();\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.names\")->latest();\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1719502537626,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -95,9 +95,9 @@\n     }\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.names\")->latest();\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1719502577137,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -95,9 +95,9 @@\n     }\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->get();\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1719502591921,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -95,9 +95,9 @@\n     }\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->get();\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1719502598250,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -95,9 +95,9 @@\n     }\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\");\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1719502724174,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -10,8 +10,9 @@\n \n use DataTables;\n use Hash;\n use Session;\n+use DB;\n \n class AdminController extends Controller\n {\n     /**\n@@ -95,9 +96,9 @@\n     }\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\");\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"));\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1719502752409,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -96,9 +96,9 @@\n     }\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"));\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1719505262870,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,178 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n+\n+use DataTables;\n+use Hash;\n+use Session;\n+use DB;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+    public function listproduk(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n+   \n+    }\n+    public function getlistproduk(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Product::latest();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listuser(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.user');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistuser(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Visitor::all();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.transaction');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n+             return DataTables::of($data)->filterColumn('fullname', function($query, $keyword) {\n+                $sql = \"CONCAT(users.first_name,'-',users.last_name)  like ?\";\n+                $query->whereRaw($sql, [\"%{$keyword}%\"]);\n+            })\n+            ->toJson();\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    \n+\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719505273752,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,9 +97,9 @@\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n-             return DataTables::of($data)->filterColumn('fullname', function($query, $keyword) {\n+             return DataTables::of($data)->filterColumn('date_invoice', function($query, $keyword) {\n                 $sql = \"CONCAT(users.first_name,'-',users.last_name)  like ?\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n@@ -174,179 +174,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use App\\Models\\Product;\n-use App\\Models\\Transaction;\n-\n-use DataTables;\n-use Hash;\n-use Session;\n-use DB;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-\n-        if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index', compact('visitor','product','transaction'));\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myadmin->count() > 0){\n-            if(Hash::check($password, $myadmin[0]->pass)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n-        \n-    }\n-    public function listproduk(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.product');\n-         }else{\n-             return view('admin.login');\n-         }\n-   \n-    }\n-    public function getlistproduk(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listuser(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.user');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistuser(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Visitor::all();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listtrx(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.transaction');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlisttrx(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    \n-\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719505312215,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->filterColumn('date_invoice', function($query, $keyword) {\n-                $sql = \"CONCAT(users.first_name,'-',users.last_name)  like ?\";\n+                $sql = \"transaction.created_at  like ?\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n          }else{\n"
                },
                {
                    "date": 1719505452265,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->filterColumn('date_invoice', function($query, $keyword) {\n-                $sql = \"transaction.created_at  like ?\";\n+                $sql = \"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice  like ?\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n          }else{\n"
                },
                {
                    "date": 1719505582216,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->filterColumn('date_invoice', function($query, $keyword) {\n-                $sql = \"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice  like ?\";\n+                $sql = \" transaction.created_at  like ?\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n          }else{\n"
                },
                {
                    "date": 1719505727262,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,11 +97,16 @@\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n-             return DataTables::of($data)->filterColumn('date_invoice', function($query, $keyword) {\n-                $sql = \" transaction.created_at  like ?\";\n-                $query->whereRaw($sql, [\"%{$keyword}%\"]);\n+             return DataTables::of($data)->filter(function ($query) {\n+                if (request()->has('name')) {\n+                    $query->where('name', 'like', \"%\" . request('name') . \"%\");\n+                }\n+\n+                if (request()->has('email')) {\n+                    $query->where('email', 'like', \"%\" . request('email') . \"%\");\n+                }\n             })\n             ->toJson();\n          }else{\n              return view('admin.login');\n"
                },
                {
                    "date": 1719505736892,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,15 +98,13 @@\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->filter(function ($query) {\n-                if (request()->has('name')) {\n+                if (request()->has('data_invoice')) {\n                     $query->where('name', 'like', \"%\" . request('name') . \"%\");\n                 }\n \n-                if (request()->has('email')) {\n-                    $query->where('email', 'like', \"%\" . request('email') . \"%\");\n-                }\n+               \n             })\n             ->toJson();\n          }else{\n              return view('admin.login');\n"
                },
                {
                    "date": 1719505745570,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -99,9 +99,9 @@\n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->filter(function ($query) {\n                 if (request()->has('data_invoice')) {\n-                    $query->where('name', 'like', \"%\" . request('name') . \"%\");\n+                    $query->where('transaction.created_at', 'like', \"%\" . request('name') . \"%\");\n                 }\n \n                \n             })\n"
                },
                {
                    "date": 1719505768170,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,14 +97,11 @@\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n-             return DataTables::of($data)->filter(function ($query) {\n-                if (request()->has('data_invoice')) {\n-                    $query->where('transaction.created_at', 'like', \"%\" . request('name') . \"%\");\n-                }\n-\n-               \n+             return DataTables::of($data)->filterColumn('date_invoice', function($query, $keyword) {\n+                $sql = \" transaction.created_at  like ?\";\n+                $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n          }else{\n              return view('admin.login');\n"
                },
                {
                    "date": 1719505839547,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,178 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n+\n+use DataTables;\n+use Hash;\n+use Session;\n+use DB;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+    public function listproduk(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n+   \n+    }\n+    public function getlistproduk(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Product::latest();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listuser(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.user');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistuser(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Visitor::all();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.transaction');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n+             return DataTables::of($data)->filterColumn('date_invoice', function($query, $keyword) {\n+                $sql = \" DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice like ?\";\n+                $query->whereRaw($sql, [\"%{$keyword}%\"]);\n+            })\n+            ->toJson();\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    \n+\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719505845713,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->filterColumn('date_invoice', function($query, $keyword) {\n-                $sql = \" DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice like ?\";\n+                $sql = \" DATE_FORMAT(transaction.created_at, '%d %b %Y') like ?\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n          }else{\n@@ -174,183 +174,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use App\\Models\\Product;\n-use App\\Models\\Transaction;\n-\n-use DataTables;\n-use Hash;\n-use Session;\n-use DB;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-\n-        if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index', compact('visitor','product','transaction'));\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myadmin->count() > 0){\n-            if(Hash::check($password, $myadmin[0]->pass)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n-        \n-    }\n-    public function listproduk(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.product');\n-         }else{\n-             return view('admin.login');\n-         }\n-   \n-    }\n-    public function getlistproduk(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listuser(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.user');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistuser(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Visitor::all();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listtrx(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.transaction');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlisttrx(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n-             return DataTables::of($data)->filterColumn('date_invoice', function($query, $keyword) {\n-                $sql = \" transaction.created_at  like ?\";\n-                $query->whereRaw($sql, [\"%{$keyword}%\"]);\n-            })\n-            ->toJson();\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    \n-\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719506131737,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->filterColumn('date_invoice', function($query, $keyword) {\n-                $sql = \" DATE_FORMAT(transaction.created_at, '%d %b %Y') like ?\";\n+                $sql = \" DATE_FORMAT(transaction.created_at, '%d %b %Y') like '?'\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n          }else{\n"
                },
                {
                    "date": 1719506238112,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,178 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n+\n+use DataTables;\n+use Hash;\n+use Session;\n+use DB;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+    public function listproduk(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n+   \n+    }\n+    public function getlistproduk(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Product::latest();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listuser(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.user');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistuser(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Visitor::all();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.transaction');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n+             return DataTables::of($data)->filterColumn('date_invoice', function($query, $keyword) {\n+                $sql = \" date_invoice, '%d %b %Y') like '?'\";\n+                $query->whereRaw($sql, [\"%{$keyword}%\"]);\n+            })\n+            ->toJson();\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    \n+\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719506244274,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -174,183 +174,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use App\\Models\\Product;\n-use App\\Models\\Transaction;\n-\n-use DataTables;\n-use Hash;\n-use Session;\n-use DB;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-\n-        if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index', compact('visitor','product','transaction'));\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myadmin->count() > 0){\n-            if(Hash::check($password, $myadmin[0]->pass)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n-        \n-    }\n-    public function listproduk(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.product');\n-         }else{\n-             return view('admin.login');\n-         }\n-   \n-    }\n-    public function getlistproduk(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listuser(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.user');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistuser(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Visitor::all();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listtrx(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.transaction');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlisttrx(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n-             return DataTables::of($data)->filterColumn('date_invoice', function($query, $keyword) {\n-                $sql = \" DATE_FORMAT(transaction.created_at, '%d %b %Y') like '?'\";\n-                $query->whereRaw($sql, [\"%{$keyword}%\"]);\n-            })\n-            ->toJson();\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    \n-\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719506251434,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->filterColumn('date_invoice', function($query, $keyword) {\n-                $sql = \" date_invoice, '%d %b %Y') like '?'\";\n+                $sql = \" date_invoice, like '?'\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n          }else{\n"
                },
                {
                    "date": 1719506286986,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -96,11 +96,11 @@\n     }\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') \"))->latest();\n              return DataTables::of($data)->filterColumn('date_invoice', function($query, $keyword) {\n-                $sql = \" date_invoice, like '?'\";\n+                $sql = \" date_invoice like '?'\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n          }else{\n"
                },
                {
                    "date": 1719506304072,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') \"))->latest();\n              return DataTables::of($data)->filterColumn('date_invoice', function($query, $keyword) {\n-                $sql = \" date_invoice like '?'\";\n+                $sql = \" DATE_FORMAT(transaction.created_at, '%d %b %Y')  like '?'\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n          }else{\n"
                },
                {
                    "date": 1719506342369,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') \"))->latest();\n              return DataTables::of($data)->filterColumn('date_invoice', function($query, $keyword) {\n-                $sql = \" DATE_FORMAT(transaction.created_at, '%d %b %Y')  like '?'\";\n+                $sql = \" date_invoice like '?'\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n          }else{\n"
                },
                {
                    "date": 1719506357118,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,10 +97,10 @@\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') \"))->latest();\n-             return DataTables::of($data)->filterColumn('date_invoice', function($query, $keyword) {\n-                $sql = \" date_invoice like '?'\";\n+             return DataTables::of($data)->filterColumn('DATE_FORMAT(transaction.created_at, '%d %b %Y') ', function($query, $keyword) {\n+                $sql = \" DATE_FORMAT(transaction.created_at, '%d %b %Y')  like '?'\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n          }else{\n"
                },
                {
                    "date": 1719506363131,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,9 +97,9 @@\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') \"))->latest();\n-             return DataTables::of($data)->filterColumn('DATE_FORMAT(transaction.created_at, '%d %b %Y') ', function($query, $keyword) {\n+             return DataTables::of($data)->filterColumn(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') \", function($query, $keyword) {\n                 $sql = \" DATE_FORMAT(transaction.created_at, '%d %b %Y')  like '?'\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n"
                },
                {
                    "date": 1719506374344,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -96,9 +96,9 @@\n     }\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') \"))->latest();\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->filterColumn(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') \", function($query, $keyword) {\n                 $sql = \" DATE_FORMAT(transaction.created_at, '%d %b %Y')  like '?'\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n"
                },
                {
                    "date": 1719506413192,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,9 +97,9 @@\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n-             return DataTables::of($data)->filterColumn(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') \", function($query, $keyword) {\n+             return DataTables::of($data)->filterColumn(\"transaction.date_invoice, '%d %b %Y') \", function($query, $keyword) {\n                 $sql = \" DATE_FORMAT(transaction.created_at, '%d %b %Y')  like '?'\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n"
                },
                {
                    "date": 1719506420872,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,9 +97,9 @@\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n-             return DataTables::of($data)->filterColumn(\"transaction.date_invoice, '%d %b %Y') \", function($query, $keyword) {\n+             return DataTables::of($data)->filterColumn(\"transaction.date_invoice\", function($query, $keyword) {\n                 $sql = \" DATE_FORMAT(transaction.created_at, '%d %b %Y')  like '?'\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n"
                },
                {
                    "date": 1719506433627,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->filterColumn(\"transaction.date_invoice\", function($query, $keyword) {\n-                $sql = \" DATE_FORMAT(transaction.created_at, '%d %b %Y')  like '?'\";\n+                $sql = \" transaction.date  like '?'\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n          }else{\n"
                },
                {
                    "date": 1719506439415,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->filterColumn(\"transaction.date_invoice\", function($query, $keyword) {\n-                $sql = \" transaction.date  like '?'\";\n+                $sql = \" transaction.created_invoice  like '?'\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n          }else{\n"
                },
                {
                    "date": 1719506469093,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->filterColumn(\"transaction.date_invoice\", function($query, $keyword) {\n-                $sql = \" transaction.created_invoice  like '?'\";\n+                $sql = \" transaction.created_at  like '?'\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n          }else{\n"
                },
                {
                    "date": 1719506482899,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,9 +97,9 @@\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n-             return DataTables::of($data)->filterColumn(\"transaction.date_invoice\", function($query, $keyword) {\n+             return DataTables::of($data)->filterColumn(\"date_invoice\", function($query, $keyword) {\n                 $sql = \" transaction.created_at  like '?'\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n"
                },
                {
                    "date": 1719506532897,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->filterColumn(\"date_invoice\", function($query, $keyword) {\n-                $sql = \" transaction.created_at  like '?'\";\n+                $sql = \" transaction.created_at  like ?\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->toJson();\n          }else{\n"
                },
                {
                    "date": 1719506577504,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -101,9 +101,9 @@\n              return DataTables::of($data)->filterColumn(\"date_invoice\", function($query, $keyword) {\n                 $sql = \" transaction.created_at  like ?\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n-            ->toJson();\n+            ->make(true);\n          }else{\n              return view('admin.login');\n          }\n     }\n"
                },
                {
                    "date": 1719506697435,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->filterColumn(\"date_invoice\", function($query, $keyword) {\n-                $sql = \" transaction.created_at  like ?\";\n+                $sql = \" DATE_FORMAT(transaction.created_at, '%d %b %Y')  like ?\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->make(true);\n          }else{\n"
                },
                {
                    "date": 1719506718181,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -98,9 +98,9 @@\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->filterColumn(\"date_invoice\", function($query, $keyword) {\n-                $sql = \" DATE_FORMAT(transaction.created_at, '%d %b %Y')  like ?\";\n+                $sql = \" transaction.created_at like ?\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->make(true);\n          }else{\n"
                },
                {
                    "date": 1719506843403,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -100,8 +100,11 @@\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->filterColumn(\"date_invoice\", function($query, $keyword) {\n                 $sql = \" transaction.created_at like ?\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n+            })->filterColumn(\"date_invoice\", function($query, $keyword) {\n+                $sql = \" transaction.created_at like ?\";\n+                $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->make(true);\n          }else{\n              return view('admin.login');\n"
                },
                {
                    "date": 1719506850655,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -100,9 +100,9 @@\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n              return DataTables::of($data)->filterColumn(\"date_invoice\", function($query, $keyword) {\n                 $sql = \" transaction.created_at like ?\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n-            })->filterColumn(\"date_invoice\", function($query, $keyword) {\n+            })->filterColumn(\"DATE_FORMAT(transaction.created_at, '%d %b %Y')\", function($query, $keyword) {\n                 $sql = \" transaction.created_at like ?\";\n                 $query->whereRaw($sql, [\"%{$keyword}%\"]);\n             })\n             ->make(true);\n"
                },
                {
                    "date": 1719506887033,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,16 +97,9 @@\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n-             return DataTables::of($data)->filterColumn(\"date_invoice\", function($query, $keyword) {\n-                $sql = \" transaction.created_at like ?\";\n-                $query->whereRaw($sql, [\"%{$keyword}%\"]);\n-            })->filterColumn(\"DATE_FORMAT(transaction.created_at, '%d %b %Y')\", function($query, $keyword) {\n-                $sql = \" transaction.created_at like ?\";\n-                $query->whereRaw($sql, [\"%{$keyword}%\"]);\n-            })\n-            ->make(true);\n+             return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n     }\n"
                },
                {
                    "date": 1719507050393,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,8 +97,9 @@\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n+            $mydatalast = $user->created_at->format('d M Y');\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1719507056371,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,175 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n+\n+use DataTables;\n+use Hash;\n+use Session;\n+use DB;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+    public function listproduk(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n+   \n+    }\n+    public function getlistproduk(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Product::latest();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listuser(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.user');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistuser(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Visitor::all();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.transaction');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n+            $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($mydatalast)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    \n+\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719507066010,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -96,9 +96,9 @@\n     }\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n             $mydatalast = $data->created_at->format('d M Y');\n              return DataTables::of($mydatalast)->make(true);\n          }else{\n              return view('admin.login');\n@@ -171,180 +171,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use App\\Models\\Product;\n-use App\\Models\\Transaction;\n-\n-use DataTables;\n-use Hash;\n-use Session;\n-use DB;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-\n-        if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index', compact('visitor','product','transaction'));\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myadmin->count() > 0){\n-            if(Hash::check($password, $myadmin[0]->pass)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n-        \n-    }\n-    public function listproduk(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.product');\n-         }else{\n-             return view('admin.login');\n-         }\n-   \n-    }\n-    public function getlistproduk(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listuser(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.user');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistuser(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Visitor::all();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listtrx(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.transaction');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlisttrx(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\", DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->latest();\n-            $mydatalast = $user->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    \n-\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719508240104,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,14 +97,23 @@\n     public function getlisttrx(){\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n-            $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($mydatalast)->make(true);\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n     }\n+    public function getInvoiceDetail(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+        return response()->json(['output' => $myproduct]);\n+    }\n     \n \n \n     /**\n"
                },
                {
                    "date": 1719508566390,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -103,16 +103,21 @@\n          }else{\n              return view('admin.login');\n          }\n     }\n-    public function getInvoiceDetail(Request $request ){\n+    public function getInvoiceDetailAdmin(Request $request ){\n         $id_transaction = $request->idtrans;\n         $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n                     ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n                     ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-        return response()->json(['output' => $myproduct]);\n+                    $hasil = \"\";\n+      \n+                    foreach($myproduct as $mp){\n+                        $hasil .= '<td>'+$mp->product_name+'</td>'.'<td>'+$mp->variant_descriptions+'</td>'.'<td>'+$mp->buy_qty+'</td>'.'<td>'+$mp->buy_subtotal+'</td>';\n+                    }\n+        return response()->json(['output' => $hasil]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719508616578,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,8 +6,10 @@\n use App\\Models\\Visitor;\n use App\\Models\\Superadmin;\n use App\\Models\\Product;\n use App\\Models\\Transaction;\n+use App\\Models\\Transaction;\n+TransactionHistory\n \n use DataTables;\n use Hash;\n use Session;\n"
                },
                {
                    "date": 1719508640927,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,11 +6,11 @@\n use App\\Models\\Visitor;\n use App\\Models\\Superadmin;\n use App\\Models\\Product;\n use App\\Models\\Transaction;\n-use App\\Models\\Transaction;\n-TransactionHistory\n+use App\\Models\\TransactionHistory;\n \n+\n use DataTables;\n use Hash;\n use Session;\n use DB;\n@@ -115,9 +115,9 @@\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n                     $hasil = \"\";\n       \n                     foreach($myproduct as $mp){\n-                        $hasil .= '<td>'+$mp->product_name+'</td>'.'<td>'+$mp->variant_descriptions+'</td>'.'<td>'+$mp->buy_qty+'</td>'.'<td>'+$mp->buy_subtotal+'</td>';\n+                        $hasil .= ('<td>'+$mp->product_name+'</td>'.'<td>'+$mp->variant_descriptions+'</td>'.'<td>'+$mp->buy_qty+'</td>'.'<td>'+$mp->buy_subtotal+'</td>');\n                     }\n         return response()->json(['output' => $hasil]);\n     }\n     \n"
                },
                {
                    "date": 1719508659542,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n                     $hasil = \"\";\n       \n                     foreach($myproduct as $mp){\n-                        $hasil .= ('<td>'+$mp->product_name+'</td>'.'<td>'+$mp->variant_descriptions+'</td>'.'<td>'+$mp->buy_qty+'</td>'.'<td>'+$mp->buy_subtotal+'</td>');\n+                        $hasil .= ('<tr><td>'+$mp->product_name+'</td>'.'<td>'+$mp->variant_descriptions+'</td>'.'<td>'+$mp->buy_qty+'</td>'.'<td>'+$mp->buy_subtotal+'</td></tr>');\n                     }\n         return response()->json(['output' => $hasil]);\n     }\n     \n"
                },
                {
                    "date": 1719508681896,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n                     $hasil = \"\";\n       \n                     foreach($myproduct as $mp){\n-                        $hasil .= ('<tr><td>'+$mp->product_name+'</td>'.'<td>'+$mp->variant_descriptions+'</td>'.'<td>'+$mp->buy_qty+'</td>'.'<td>'+$mp->buy_subtotal+'</td></tr>');\n+                        $hasil .= ('<tr><td>'.$mp->product_name+'</td>'.'<td>'+$mp->variant_descriptions+'</td>'.'<td>'+$mp->buy_qty+'</td>'.'<td>'+$mp->buy_subtotal+'</td></tr>');\n                     }\n         return response()->json(['output' => $hasil]);\n     }\n     \n"
                },
                {
                    "date": 1719508688692,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n                     $hasil = \"\";\n       \n                     foreach($myproduct as $mp){\n-                        $hasil .= ('<tr><td>'.$mp->product_name+'</td>'.'<td>'+$mp->variant_descriptions+'</td>'.'<td>'+$mp->buy_qty+'</td>'.'<td>'+$mp->buy_subtotal+'</td></tr>');\n+                        $hasil .= ('<tr><td>'.$mp->product_name.'</td>'.'<td>'.$mp->variant_descriptions+'</td>'.'<td>'+$mp->buy_qty+'</td>'.'<td>'+$mp->buy_subtotal+'</td></tr>');\n                     }\n         return response()->json(['output' => $hasil]);\n     }\n     \n"
                },
                {
                    "date": 1719508694513,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n                     $hasil = \"\";\n       \n                     foreach($myproduct as $mp){\n-                        $hasil .= ('<tr><td>'.$mp->product_name.'</td>'.'<td>'.$mp->variant_descriptions+'</td>'.'<td>'+$mp->buy_qty+'</td>'.'<td>'+$mp->buy_subtotal+'</td></tr>');\n+                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$mp->variant_descriptions+'</td>'.'<td>'+$mp->buy_qty.'</td>'.'<td>'+$mp->buy_subtotal+'</td></tr>');\n                     }\n         return response()->json(['output' => $hasil]);\n     }\n     \n"
                },
                {
                    "date": 1719508700460,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n                     $hasil = \"\";\n       \n                     foreach($myproduct as $mp){\n-                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$mp->variant_descriptions+'</td>'.'<td>'+$mp->buy_qty.'</td>'.'<td>'+$mp->buy_subtotal+'</td></tr>');\n+                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$mp->variant_descriptions.'</td>'.'<td>'+$mp->buy_qty.'</td>'.'<td>'+$mp->buy_subtotal+'</td></tr>';\n                     }\n         return response()->json(['output' => $hasil]);\n     }\n     \n"
                },
                {
                    "date": 1719508707089,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n                     $hasil = \"\";\n       \n                     foreach($myproduct as $mp){\n-                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$mp->variant_descriptions.'</td>'.'<td>'+$mp->buy_qty.'</td>'.'<td>'+$mp->buy_subtotal+'</td></tr>';\n+                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$mp->variant_descriptions.'</td>'.'<td>'+$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n                     }\n         return response()->json(['output' => $hasil]);\n     }\n     \n"
                },
                {
                    "date": 1719508739960,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n                     $hasil = \"\";\n       \n                     foreach($myproduct as $mp){\n-                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$mp->variant_descriptions.'</td>'.'<td>'+$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$mp->variant_descriptions.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n                     }\n         return response()->json(['output' => $hasil]);\n     }\n     \n"
                },
                {
                    "date": 1719508861371,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,8 +115,9 @@\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n                     $hasil = \"\";\n       \n                     foreach($myproduct as $mp){\n+                        $variant = \"\";\n                         $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$mp->variant_descriptions.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n                     }\n         return response()->json(['output' => $hasil]);\n     }\n"
                },
                {
                    "date": 1719508878912,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,8 +116,11 @@\n                     $hasil = \"\";\n       \n                     foreach($myproduct as $mp){\n                         $variant = \"\";\n+                        if($mp != null){\n+                            \n+                        }\n                         $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$mp->variant_descriptions.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n                     }\n         return response()->json(['output' => $hasil]);\n     }\n"
                },
                {
                    "date": 1719508905505,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -116,10 +116,10 @@\n                     $hasil = \"\";\n       \n                     foreach($myproduct as $mp){\n                         $variant = \"\";\n-                        if($mp != null){\n-                            \n+                        if($mp->variant_descriptions != null){\n+                            $variant = $mp->\n                         }\n                         $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$mp->variant_descriptions.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n                     }\n         return response()->json(['output' => $hasil]);\n"
                },
                {
                    "date": 1719508914029,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -117,11 +117,11 @@\n       \n                     foreach($myproduct as $mp){\n                         $variant = \"\";\n                         if($mp->variant_descriptions != null){\n-                            $variant = $mp->\n+                            $variant = $mp->variant_descriptions;\n                         }\n-                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$mp->variant_descriptions.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n                     }\n         return response()->json(['output' => $hasil]);\n     }\n     \n"
                },
                {
                    "date": 1719508925556,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -115,9 +115,9 @@\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n                     $hasil = \"\";\n       \n                     foreach($myproduct as $mp){\n-                        $variant = \"\";\n+                        $variant = \"Tidak Ada\";\n                         if($mp->variant_descriptions != null){\n                             $variant = $mp->variant_descriptions;\n                         }\n                         $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n"
                },
                {
                    "date": 1719512563084,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -123,8 +123,11 @@\n                         $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n                     }\n         return response()->json(['output' => $hasil]);\n     }\n+    public function getdetailproduct(Request $request){\n+        \n+    }\n     \n \n \n     /**\n"
                },
                {
                    "date": 1719512587360,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,198 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n+use App\\Models\\TransactionHistory;\n+\n+\n+use DataTables;\n+use Hash;\n+use Session;\n+use DB;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+    public function listproduk(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n+   \n+    }\n+    public function getlistproduk(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Product::latest();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listuser(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.user');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistuser(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Visitor::all();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.transaction');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getInvoiceDetailAdmin(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+                    $hasil = \"\";\n+      \n+                    foreach($myproduct as $mp){\n+                        $variant = \"Tidak Ada\";\n+                        if($mp->variant_descriptions != null){\n+                            $variant = $mp->variant_descriptions;\n+                        }\n+                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+                    }\n+        return response()->json(['output' => $hasil]);\n+    }\n+    public function getdetailproduct(Request $request){\n+        $id_product = $request->idtrans;\n+    }\n+    \n+\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719512629073,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,8 +7,9 @@\n use App\\Models\\Superadmin;\n use App\\Models\\Product;\n use App\\Models\\Transaction;\n use App\\Models\\TransactionHistory;\n+use App\\Models\\ProductVariant;\n \n \n use DataTables;\n use Hash;\n@@ -124,9 +125,10 @@\n                     }\n         return response()->json(['output' => $hasil]);\n     }\n     public function getdetailproduct(Request $request){\n-        $id_product = $request->idtrans;\n+        $id_product = $request->idproduct;\n+        $myproduct = ProductVar\n     }\n     \n \n \n@@ -194,203 +196,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use App\\Models\\Product;\n-use App\\Models\\Transaction;\n-use App\\Models\\TransactionHistory;\n-\n-\n-use DataTables;\n-use Hash;\n-use Session;\n-use DB;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-\n-        if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index', compact('visitor','product','transaction'));\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myadmin->count() > 0){\n-            if(Hash::check($password, $myadmin[0]->pass)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n-        \n-    }\n-    public function listproduk(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.product');\n-         }else{\n-             return view('admin.login');\n-         }\n-   \n-    }\n-    public function getlistproduk(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listuser(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.user');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistuser(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Visitor::all();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listtrx(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.transaction');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlisttrx(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getInvoiceDetailAdmin(Request $request ){\n-        $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n-                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n-                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n-                    ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-                    $hasil = \"\";\n-      \n-                    foreach($myproduct as $mp){\n-                        $variant = \"Tidak Ada\";\n-                        if($mp->variant_descriptions != null){\n-                            $variant = $mp->variant_descriptions;\n-                        }\n-                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n-                    }\n-        return response()->json(['output' => $hasil]);\n-    }\n-    public function getdetailproduct(Request $request){\n-        \n-    }\n-    \n-\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719512659880,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -126,9 +126,9 @@\n         return response()->json(['output' => $hasil]);\n     }\n     public function getdetailproduct(Request $request){\n         $id_product = $request->idproduct;\n-        $myproduct = ProductVar\n+        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"\");\n     }\n     \n \n \n"
                },
                {
                    "date": 1719512690264,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -126,9 +126,9 @@\n         return response()->json(['output' => $hasil]);\n     }\n     public function getdetailproduct(Request $request){\n         $id_product = $request->idproduct;\n-        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"\");\n+        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->get();\n     }\n     \n \n \n"
                },
                {
                    "date": 1719512697146,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -127,8 +127,15 @@\n     }\n     public function getdetailproduct(Request $request){\n         $id_product = $request->idproduct;\n         $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->get();\n+        foreach($myproduct as $mp){\n+            $variant = \"Tidak Ada\";\n+            if($mp->variant_descriptions != null){\n+                $variant = $mp->variant_descriptions;\n+            }\n+            $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+        }\n     }\n     \n \n \n"
                },
                {
                    "date": 1719512705498,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -128,9 +128,8 @@\n     public function getdetailproduct(Request $request){\n         $id_product = $request->idproduct;\n         $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n-            $variant = \"Tidak Ada\";\n             if($mp->variant_descriptions != null){\n                 $variant = $mp->variant_descriptions;\n             }\n             $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n"
                },
                {
                    "date": 1719512780019,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -126,9 +126,9 @@\n         return response()->json(['output' => $hasil]);\n     }\n     public function getdetailproduct(Request $request){\n         $id_product = $request->idproduct;\n-        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->get();\n+        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images\")->get();\n         foreach($myproduct as $mp){\n             if($mp->variant_descriptions != null){\n                 $variant = $mp->variant_descriptions;\n             }\n"
                },
                {
                    "date": 1719512834417,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -126,14 +126,14 @@\n         return response()->json(['output' => $hasil]);\n     }\n     public function getdetailproduct(Request $request){\n         $id_product = $request->idproduct;\n-        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images\")->get();\n+        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\")->get();\n         foreach($myproduct as $mp){\n             if($mp->variant_descriptions != null){\n                 $variant = $mp->variant_descriptions;\n             }\n-            $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n         }\n     }\n     \n \n"
                },
                {
                    "date": 1719512864017,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -131,9 +131,9 @@\n         foreach($myproduct as $mp){\n             if($mp->variant_descriptions != null){\n                 $variant = $mp->variant_descriptions;\n             }\n-            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n         }\n     }\n     \n \n"
                },
                {
                    "date": 1719512884079,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -131,9 +131,9 @@\n         foreach($myproduct as $mp){\n             if($mp->variant_descriptions != null){\n                 $variant = $mp->variant_descriptions;\n             }\n-            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->$discounts.'</td>'.'<td>'.$mp->pricess.'</td></tr>';\n         }\n     }\n     \n \n"
                },
                {
                    "date": 1719512891056,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -131,10 +131,11 @@\n         foreach($myproduct as $mp){\n             if($mp->variant_descriptions != null){\n                 $variant = $mp->variant_descriptions;\n             }\n-            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->$discounts.'</td>'.'<td>'.$mp->pricess.'</td></tr>';\n+            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->$discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n+        return response()->json(['output' => $hasil]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719512898595,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -124,9 +124,9 @@\n                         $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n                     }\n         return response()->json(['output' => $hasil]);\n     }\n-    public function getdetailproduct(Request $request){\n+    public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\")->get();\n         foreach($myproduct as $mp){\n             if($mp->variant_descriptions != null){\n"
                },
                {
                    "date": 1719512969980,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -126,8 +126,9 @@\n         return response()->json(['output' => $hasil]);\n     }\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n+        $hasil = \"\";\n         $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\")->get();\n         foreach($myproduct as $mp){\n             if($mp->variant_descriptions != null){\n                 $variant = $mp->variant_descriptions;\n"
                },
                {
                    "date": 1719512996200,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -129,11 +129,9 @@\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n         $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\")->get();\n         foreach($myproduct as $mp){\n-            if($mp->variant_descriptions != null){\n-                $variant = $mp->variant_descriptions;\n-            }\n+           \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->$discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n         return response()->json(['output' => $hasil]);\n     }\n"
                },
                {
                    "date": 1719513077029,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -132,9 +132,9 @@\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->$discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n-        return response()->json(['output' => $hasil]);\n+        return response()->json(['output' => $id_product]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719513096421,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -132,9 +132,9 @@\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->$discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n-        return response()->json(['output' => $id_product]);\n+        return response()->json(['output' => $myproduct]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719513196968,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -130,9 +130,9 @@\n         $hasil = \"\";\n         $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\")->get();\n         foreach($myproduct as $mp){\n            \n-            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->$discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n         return response()->json(['output' => $myproduct]);\n     }\n     \n"
                },
                {
                    "date": 1719513242543,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -127,9 +127,9 @@\n     }\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n-        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\")->get();\n+        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->select(\"product_variant.*\",\"product.images as gambar_produk\")->get();\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n"
                },
                {
                    "date": 1719513262076,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -127,9 +127,9 @@\n     }\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n-        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->select(\"product_variant.*\",\"product.images as gambar_produk\")->get();\n+        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\")->get();\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n"
                },
                {
                    "date": 1719513299151,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,206 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n+use App\\Models\\TransactionHistory;\n+use App\\Models\\ProductVariant;\n+\n+\n+use DataTables;\n+use Hash;\n+use Session;\n+use DB;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+    public function listproduk(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n+   \n+    }\n+    public function getlistproduk(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Product::latest();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listuser(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.user');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistuser(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Visitor::all();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.transaction');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getInvoiceDetailAdmin(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+                    $hasil = \"\";\n+      \n+                    foreach($myproduct as $mp){\n+                        $variant = \"Tidak Ada\";\n+                        if($mp->variant_descriptions != null){\n+                            $variant = $mp->variant_descriptions;\n+                        }\n+                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+                    }\n+        return response()->json(['output' => $hasil]);\n+    }\n+    public function getdetailproductadmin(Request $request){\n+        $id_product = $request->idproduct;\n+        $hasil = \"\";\n+        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\")->get();\n+        foreach($myproduct as $mp){\n+           \n+            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        }\n+        return response()->json(['output' => $hasil]);\n+    }\n+    \n+\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719513791285,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -127,9 +127,9 @@\n     }\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n-        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\")->get();\n+        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"produk.names as nama_produk\")->get();\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n@@ -202,211 +202,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use App\\Models\\Product;\n-use App\\Models\\Transaction;\n-use App\\Models\\TransactionHistory;\n-use App\\Models\\ProductVariant;\n-\n-\n-use DataTables;\n-use Hash;\n-use Session;\n-use DB;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-\n-        if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index', compact('visitor','product','transaction'));\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myadmin->count() > 0){\n-            if(Hash::check($password, $myadmin[0]->pass)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n-        \n-    }\n-    public function listproduk(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.product');\n-         }else{\n-             return view('admin.login');\n-         }\n-   \n-    }\n-    public function getlistproduk(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listuser(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.user');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistuser(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Visitor::all();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listtrx(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.transaction');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlisttrx(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getInvoiceDetailAdmin(Request $request ){\n-        $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n-                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n-                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n-                    ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-                    $hasil = \"\";\n-      \n-                    foreach($myproduct as $mp){\n-                        $variant = \"Tidak Ada\";\n-                        if($mp->variant_descriptions != null){\n-                            $variant = $mp->variant_descriptions;\n-                        }\n-                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n-                    }\n-        return response()->json(['output' => $hasil]);\n-    }\n-    public function getdetailproductadmin(Request $request){\n-        $id_product = $request->idproduct;\n-        $hasil = \"\";\n-        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\")->get();\n-        foreach($myproduct as $mp){\n-           \n-            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        }\n-        return response()->json(['output' => $myproduct]);\n-    }\n-    \n-\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719513808241,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -127,9 +127,9 @@\n     }\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n-        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"produk.names as nama_produk\")->get();\n+        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"produk.names as nama_produk\", \"produk.names as nama_produk\")->get();\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n"
                },
                {
                    "date": 1719513814499,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -127,9 +127,9 @@\n     }\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n-        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"produk.names as nama_produk\", \"produk.names as nama_produk\")->get();\n+        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"produk.names as nama_produk\", \"produk.prices as nama_produk\")->get();\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n"
                },
                {
                    "date": 1719513825215,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -127,9 +127,9 @@\n     }\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n-        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"produk.names as nama_produk\", \"produk.prices as nama_produk\")->get();\n+        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"produk.names as nama_produk\", \"produk.prices as harga_produk\")->get();\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n"
                },
                {
                    "date": 1719513844513,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -127,9 +127,9 @@\n     }\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n-        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"produk.names as nama_produk\", \"produk.prices as harga_produk\")->get();\n+        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"produk.names as nama_produk\", \"produk.prices as harga_produk\", \"produk.discounts as harga_produk\")->get();\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n"
                },
                {
                    "date": 1719513949559,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -127,9 +127,9 @@\n     }\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n-        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"produk.names as nama_produk\", \"produk.prices as harga_produk\", \"produk.discounts as harga_produk\")->get();\n+        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n"
                },
                {
                    "date": 1719513976297,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -127,9 +127,9 @@\n     }\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n-        $myproduct = ProductVariant::join(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n"
                },
                {
                    "date": 1719514029624,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -128,8 +128,9 @@\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n         $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = Product::where(\"id\",'=',$id_product);\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n"
                },
                {
                    "date": 1719514048990,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -133,9 +133,9 @@\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n-        return response()->json(['output' => $hasil]);\n+        return response()->json(['output' => $hasil, \"output_proudct\"=>]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719514054932,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -133,9 +133,9 @@\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n-        return response()->json(['output' => $hasil, \"output_proudct\"=>]);\n+        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719514144172,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -133,9 +133,9 @@\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n-        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n+        return response()->json(['output' => $hasil]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719514154369,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -133,9 +133,9 @@\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n-        return response()->json(['output' => $hasil]);\n+        return response()->json(['output' => $hasil,, \"output_proudct\"=>$products]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719514194009,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -133,9 +133,9 @@\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n-        return response()->json(['output' => $hasil,, \"output_proudct\"=>$products]);\n+        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719515012834,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -128,15 +128,18 @@\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n         $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = Product::where(\"id\",'=',$id_product);\n+        $products = Product::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n+    public function editproductadmin(){\n+        \n+    }\n     \n \n \n     /**\n"
                },
                {
                    "date": 1719515020503,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -135,9 +135,9 @@\n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n-    public function editproductadmin(){\n+    public function editproductadmin(Request $request){\n         \n     }\n     \n \n"
                },
                {
                    "date": 1719515045074,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -136,9 +136,9 @@\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n     public function editproductadmin(Request $request){\n-        \n+        $id_product = $request->id_product;\n     }\n     \n \n \n"
                },
                {
                    "date": 1719515078134,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -137,8 +137,12 @@\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n     public function editproductadmin(Request $request){\n         $id_product = $request->id_product;\n+        $nama_product = $edit_gambarproduk;\n+        $edit_namaproduk = \n+        edit_hargaproduk\n+        edit_discountproduk\n     }\n     \n \n \n"
                },
                {
                    "date": 1719515116505,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -137,12 +137,15 @@\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n     public function editproductadmin(Request $request){\n         $id_product = $request->id_product;\n-        $nama_product = $edit_gambarproduk;\n-        $edit_namaproduk = \n-        edit_hargaproduk\n-        edit_discountproduk\n+        $nama_product = $request->nama_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+        gbr_produk\n+        nama_produk\n+        hrg_produk\n+        dsc_produk\n     }\n     \n \n \n"
                },
                {
                    "date": 1719515137760,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,8 +140,9 @@\n         $id_product = $request->id_product;\n         $nama_product = $request->nama_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n+        $image_product = $request-> gbr_produk;\n         gbr_produk\n         nama_produk\n         hrg_produk\n         dsc_produk\n"
                },
                {
                    "date": 1719515149471,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -141,12 +141,8 @@\n         $nama_product = $request->nama_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n         $image_product = $request-> gbr_produk;\n-        gbr_produk\n-        nama_produk\n-        hrg_produk\n-        dsc_produk\n     }\n     \n \n \n"
                },
                {
                    "date": 1719515189336,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,9 +140,9 @@\n         $id_product = $request->id_product;\n         $nama_product = $request->nama_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n-        $image_product = $request-> gbr_produk;\n+        $image_product = $request->file(gbr_produk);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719515216616,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,9 +140,14 @@\n         $id_product = $request->id_product;\n         $nama_product = $request->nama_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n-        $image_product = $request->file(gbr_produk);\n+        $image_product = $request->file('gbr_produk');\n+         // isi dengan nama folder tempat kemana file diupload\n+\t\t$tujuan_upload = 'data_file';\n+ \n+        // upload file\n+$file->move($tujuan_upload,$file->getClientOriginalName());\n     }\n     \n \n \n"
                },
                {
                    "date": 1719515227460,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -141,13 +141,10 @@\n         $nama_product = $request->nama_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n         $image_product = $request->file('gbr_produk');\n-         // isi dengan nama folder tempat kemana file diupload\n \t\t$tujuan_upload = 'data_file';\n- \n-        // upload file\n-$file->move($tujuan_upload,$file->getClientOriginalName());\n+        $file->move($tujuan_upload,$file->getClientOriginalName());\n     }\n     \n \n \n"
                },
                {
                    "date": 1719515245940,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,9 +140,9 @@\n         $id_product = $request->id_product;\n         $nama_product = $request->nama_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n-        $image_product = $request->file('gbr_produk');\n+        $file_product = $request->file('gbr_produk');\n \t\t$tujuan_upload = 'data_file';\n         $file->move($tujuan_upload,$file->getClientOriginalName());\n     }\n     \n"
                },
                {
                    "date": 1719515252360,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -142,9 +142,9 @@\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n         $file_product = $request->file('gbr_produk');\n \t\t$tujuan_upload = 'data_file';\n-        $file->move($tujuan_upload,$file->getClientOriginalName());\n+        $file_product->move($tujuan_upload,$file->getClientOriginalName());\n     }\n     \n \n \n"
                },
                {
                    "date": 1719515373149,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -141,9 +141,9 @@\n         $nama_product = $request->nama_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n         $file_product = $request->file('gbr_produk');\n-\t\t$tujuan_upload = 'data_file';\n+\t\t$tujuan_upload = public_path('images');\n         $file_product->move($tujuan_upload,$file->getClientOriginalName());\n     }\n     \n \n"
                },
                {
                    "date": 1719515388575,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -141,9 +141,9 @@\n         $nama_product = $request->nama_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n         $file_product = $request->file('gbr_produk');\n-\t\t$tujuan_upload = public_path('images');\n+\t\t$tujuan_upload = public_path('images/product');\n         $file_product->move($tujuan_upload,$file->getClientOriginalName());\n     }\n     \n \n"
                },
                {
                    "date": 1719515394164,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,216 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n+use App\\Models\\TransactionHistory;\n+use App\\Models\\ProductVariant;\n+\n+\n+use DataTables;\n+use Hash;\n+use Session;\n+use DB;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+    public function listproduk(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n+   \n+    }\n+    public function getlistproduk(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Product::latest();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listuser(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.user');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistuser(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Visitor::all();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.transaction');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getInvoiceDetailAdmin(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+                    $hasil = \"\";\n+      \n+                    foreach($myproduct as $mp){\n+                        $variant = \"Tidak Ada\";\n+                        if($mp->variant_descriptions != null){\n+                            $variant = $mp->variant_descriptions;\n+                        }\n+                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+                    }\n+        return response()->json(['output' => $hasil]);\n+    }\n+    public function getdetailproductadmin(Request $request){\n+        $id_product = $request->idproduct;\n+        $hasil = \"\";\n+        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = Product::where(\"id\",'=',$id_product)->get();\n+        foreach($myproduct as $mp){\n+           \n+            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        }\n+        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n+    }\n+    public function editproductadmin(Request $request){\n+        $id_product = $request->id_product;\n+        $nama_product = $request->nama_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+        $file_product = $request->file('gbr_produk');\n+\t\t$tujuan_upload = public_path('images/product');\n+        $file_product->move($tujuan_upload,$file->getClientOriginalName());\n+    }\n+    \n+\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719515394260,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -212,221 +212,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use App\\Models\\Product;\n-use App\\Models\\Transaction;\n-use App\\Models\\TransactionHistory;\n-use App\\Models\\ProductVariant;\n-\n-\n-use DataTables;\n-use Hash;\n-use Session;\n-use DB;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-\n-        if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index', compact('visitor','product','transaction'));\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myadmin->count() > 0){\n-            if(Hash::check($password, $myadmin[0]->pass)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n-        \n-    }\n-    public function listproduk(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.product');\n-         }else{\n-             return view('admin.login');\n-         }\n-   \n-    }\n-    public function getlistproduk(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listuser(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.user');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistuser(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Visitor::all();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listtrx(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.transaction');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlisttrx(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getInvoiceDetailAdmin(Request $request ){\n-        $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n-                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n-                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n-                    ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-                    $hasil = \"\";\n-      \n-                    foreach($myproduct as $mp){\n-                        $variant = \"Tidak Ada\";\n-                        if($mp->variant_descriptions != null){\n-                            $variant = $mp->variant_descriptions;\n-                        }\n-                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n-                    }\n-        return response()->json(['output' => $hasil]);\n-    }\n-    public function getdetailproductadmin(Request $request){\n-        $id_product = $request->idproduct;\n-        $hasil = \"\";\n-        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = Product::where(\"id\",'=',$id_product)->get();\n-        foreach($myproduct as $mp){\n-           \n-            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        }\n-        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n-    }\n-    public function editproductadmin(Request $request){\n-        $id_product = $request->id_product;\n-        $nama_product = $request->nama_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n-        $file_product = $request->file('gbr_produk');\n-\t\t$tujuan_upload = public_path('images/product');\n-        $file_product->move($tujuan_upload,$file->getClientOriginalName());\n-    }\n-    \n-\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719516086614,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -142,9 +142,9 @@\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n         $file_product = $request->file('gbr_produk');\n \t\t$tujuan_upload = public_path('images/product');\n-        $file_product->move($tujuan_upload,$file->getClientOriginalName());\n+        $file_product->move($tujuan_upload,$file_product->getClientOriginalName());\n     }\n     \n \n \n"
                },
                {
                    "date": 1719516135381,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,11 +140,13 @@\n         $id_product = $request->id_product;\n         $nama_product = $request->nama_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n+        $status_gbr_product = \"\";\n         $file_product = $request->file('gbr_produk');\n \t\t$tujuan_upload = public_path('images/product');\n         $file_product->move($tujuan_upload,$file_product->getClientOriginalName());\n+        Product::update()\n     }\n     \n \n \n"
                },
                {
                    "date": 1719516183716,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,227 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n+use App\\Models\\TransactionHistory;\n+use App\\Models\\ProductVariant;\n+\n+\n+use DataTables;\n+use Hash;\n+use Session;\n+use DB;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+    public function listproduk(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n+   \n+    }\n+    public function getlistproduk(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Product::latest();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listuser(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.user');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistuser(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Visitor::all();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.transaction');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getInvoiceDetailAdmin(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+                    $hasil = \"\";\n+      \n+                    foreach($myproduct as $mp){\n+                        $variant = \"Tidak Ada\";\n+                        if($mp->variant_descriptions != null){\n+                            $variant = $mp->variant_descriptions;\n+                        }\n+                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+                    }\n+        return response()->json(['output' => $hasil]);\n+    }\n+    public function getdetailproductadmin(Request $request){\n+        $id_product = $request->idproduct;\n+        $hasil = \"\";\n+        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = Product::where(\"id\",'=',$id_product)->get();\n+        foreach($myproduct as $mp){\n+           \n+            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        }\n+        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n+    }\n+    public function editproductadmin(Request $request){\n+        $id_product = $request->id_product;\n+        $nama_product = $request->nama_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('image')) {\n+            $file = $request->file('image');\n+\n+            $name = $request['phone_number'].$request['phone_number'].'.'.$file->getClientOriginalExtension();\n+\n+            $image['filePath'] = $name;\n+            $file->move('uploads', $name);\n+\n+        }\n+        $file_product = $request->file('gbr_produk');\n+\t\t$tujuan_upload = public_path('images/product');\n+        $file_product->move($tujuan_upload,$file_product->getClientOriginalName());\n+        Product::update()\n+    }\n+    \n+\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719516190742,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -141,10 +141,10 @@\n         $nama_product = $request->nama_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n         $status_gbr_product = \"\";\n-        if($request->hasFile('image')) {\n-            $file = $request->file('image');\n+        if($request->hasFile('gbr_produk')) {\n+            $file = $request->file('gbr_produk');\n \n             $name = $request['phone_number'].$request['phone_number'].'.'.$file->getClientOriginalExtension();\n \n             $image['filePath'] = $name;\n@@ -223,223 +223,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use App\\Models\\Product;\n-use App\\Models\\Transaction;\n-use App\\Models\\TransactionHistory;\n-use App\\Models\\ProductVariant;\n-\n-\n-use DataTables;\n-use Hash;\n-use Session;\n-use DB;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-\n-        if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index', compact('visitor','product','transaction'));\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myadmin->count() > 0){\n-            if(Hash::check($password, $myadmin[0]->pass)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n-        \n-    }\n-    public function listproduk(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.product');\n-         }else{\n-             return view('admin.login');\n-         }\n-   \n-    }\n-    public function getlistproduk(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listuser(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.user');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistuser(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Visitor::all();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listtrx(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.transaction');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlisttrx(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getInvoiceDetailAdmin(Request $request ){\n-        $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n-                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n-                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n-                    ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-                    $hasil = \"\";\n-      \n-                    foreach($myproduct as $mp){\n-                        $variant = \"Tidak Ada\";\n-                        if($mp->variant_descriptions != null){\n-                            $variant = $mp->variant_descriptions;\n-                        }\n-                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n-                    }\n-        return response()->json(['output' => $hasil]);\n-    }\n-    public function getdetailproductadmin(Request $request){\n-        $id_product = $request->idproduct;\n-        $hasil = \"\";\n-        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = Product::where(\"id\",'=',$id_product)->get();\n-        foreach($myproduct as $mp){\n-           \n-            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        }\n-        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n-    }\n-    public function editproductadmin(Request $request){\n-        $id_product = $request->id_product;\n-        $nama_product = $request->nama_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n-        $status_gbr_product = \"\";\n-        $file_product = $request->file('gbr_produk');\n-\t\t$tujuan_upload = public_path('images/product');\n-        $file_product->move($tujuan_upload,$file_product->getClientOriginalName());\n-        Product::update()\n-    }\n-    \n-\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719516196203,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -142,19 +142,14 @@\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n         $status_gbr_product = \"\";\n         if($request->hasFile('gbr_produk')) {\n-            $file = $request->file('gbr_produk');\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            $file_product->move($tujuan_upload,$file_product->getClientOriginalName());\n \n-            $name = $request['phone_number'].$request['phone_number'].'.'.$file->getClientOriginalExtension();\n-\n-            $image['filePath'] = $name;\n-            $file->move('uploads', $name);\n-\n         }\n-        $file_product = $request->file('gbr_produk');\n-\t\t$tujuan_upload = public_path('images/product');\n-        $file_product->move($tujuan_upload,$file_product->getClientOriginalName());\n+     \n         Product::update()\n     }\n     \n \n"
                },
                {
                    "date": 1719516206248,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -145,9 +145,8 @@\n         if($request->hasFile('gbr_produk')) {\n             $file_product = $request->file('gbr_produk');\n             $tujuan_upload = public_path('images/product');\n             $file_product->move($tujuan_upload,$file_product->getClientOriginalName());\n-\n         }\n      \n         Product::update()\n     }\n"
                },
                {
                    "date": 1719516243821,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -145,9 +145,13 @@\n         if($request->hasFile('gbr_produk')) {\n             $file_product = $request->file('gbr_produk');\n             $tujuan_upload = public_path('images/product');\n             $file_product->move($tujuan_upload,$file_product->getClientOriginalName());\n+            $status_gbr_product = \"ada\";\n         }\n+        else{\n+            \n+        }\n      \n         Product::update()\n     }\n     \n"
                },
                {
                    "date": 1719516249118,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -147,11 +147,9 @@\n             $tujuan_upload = public_path('images/product');\n             $file_product->move($tujuan_upload,$file_product->getClientOriginalName());\n             $status_gbr_product = \"ada\";\n         }\n-        else{\n-            \n-        }\n+       \n      \n         Product::update()\n     }\n     \n"
                },
                {
                    "date": 1719516278358,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -149,9 +149,10 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n      \n-        Product::update()\n+        Product::->where(['name' => 'old name', 'language' => 'english'])\n+        ->update(['name' => 'new name']);;\n     }\n     \n \n \n"
                },
                {
                    "date": 1719516290520,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -148,10 +148,10 @@\n             $file_product->move($tujuan_upload,$file_product->getClientOriginalName());\n             $status_gbr_product = \"ada\";\n         }\n        \n-     \n-        Product::->where(['name' => 'old name', 'language' => 'english'])\n+        \n+        Product::where(['name' => 'old name', 'language' => 'english'])\n         ->update(['name' => 'new name']);;\n     }\n     \n \n"
                },
                {
                    "date": 1719516296116,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -149,9 +149,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         \n-        Product::where(['name' => 'old name', 'language' => 'english'])\n+        Product::where(['name' => 'old name', ])\n         ->update(['name' => 'new name']);;\n     }\n     \n \n"
                },
                {
                    "date": 1719516311962,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -149,9 +149,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         \n-        Product::where(['name' => 'old name', ])\n+        Product::where(['id' => $request, ])\n         ->update(['name' => 'new name']);;\n     }\n     \n \n"
                },
                {
                    "date": 1719516322161,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -149,10 +149,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         \n-        Product::where(['id' => $request, ])\n-        ->update(['name' => 'new name']);;\n+        Product::where(['id' => $request, ])->update(['name' => 'new name']);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719516426215,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,8 +140,9 @@\n         $id_product = $request->id_product;\n         $nama_product = $request->nama_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n+        $desc_produk = $request->desc_produk;\n         $status_gbr_product = \"\";\n         if($request->hasFile('gbr_produk')) {\n             $file_product = $request->file('gbr_produk');\n             $tujuan_upload = public_path('images/product');\n@@ -149,9 +150,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         \n-        Product::where(['id' => $request, ])->update(['name' => 'new name']);\n+        Product::where(['id' => $request, ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719516436902,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,9 +150,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         \n-        Product::where(['id' => $request, ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n+        Product::where(['id' => $request, ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719516478537,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -149,9 +149,13 @@\n             $file_product->move($tujuan_upload,$file_product->getClientOriginalName());\n             $status_gbr_product = \"ada\";\n         }\n        \n-        \n+        if($status_gbr_product == \"ada\"){\n+\n+        }else{\n+            \n+        }\n         Product::where(['id' => $request, ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n     }\n     \n \n"
                },
                {
                    "date": 1719516500651,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,13 +150,14 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n+            Product::where(['id' => $request, ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $file_product->getClientOriginalName())]);\n \n         }else{\n-            \n+            Product::where(['id' => $request, ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n+\n         }\n-        Product::where(['id' => $request, ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719516507774,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -150,9 +150,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            Product::where(['id' => $request, ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $file_product->getClientOriginalName())]);\n+            Product::where(['id' => $request, ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $file_product->getClientOriginalName()]);\n \n         }else{\n             Product::where(['id' => $request, ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n \n"
                },
                {
                    "date": 1719516547855,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -127,9 +127,9 @@\n     }\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n-        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\", \"product.discounts as discount_produk\")->get();\n         $products = Product::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n"
                },
                {
                    "date": 1719516570020,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -127,9 +127,9 @@\n     }\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n-        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\", \"product.discounts as discount_produk\")->get();\n+        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\", \"product.descriptions as desc_produk\")->get();\n         $products = Product::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n"
                },
                {
                    "date": 1719516626352,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -127,9 +127,9 @@\n     }\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n-        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\", \"product.descriptions as desc_produk\")->get();\n+        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n         $products = Product::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n"
                },
                {
                    "date": 1719516787232,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -145,9 +145,10 @@\n         $status_gbr_product = \"\";\n         if($request->hasFile('gbr_produk')) {\n             $file_product = $request->file('gbr_produk');\n             $tujuan_upload = public_path('images/product');\n-            $file_product->move($tujuan_upload,$file_product->getClientOriginalName());\n+            $nama_file = \"product\".$id_product.$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload,\"$file_product->getClientOriginalName()\");\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n"
                },
                {
                    "date": 1719516794832,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -146,9 +146,9 @@\n         if($request->hasFile('gbr_produk')) {\n             $file_product = $request->file('gbr_produk');\n             $tujuan_upload = public_path('images/product');\n             $nama_file = \"product\".$id_product.$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload,\"$file_product->getClientOriginalName()\");\n+            $file_product->move($tujuan_upload, $nama_file);\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n"
                },
                {
                    "date": 1719516806799,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -151,9 +151,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            Product::where(['id' => $request, ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $file_product->getClientOriginalName()]);\n+            Product::where(['id' => $request, ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n \n         }else{\n             Product::where(['id' => $request, ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n \n"
                },
                {
                    "date": 1719516833414,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -145,9 +145,9 @@\n         $status_gbr_product = \"\";\n         if($request->hasFile('gbr_produk')) {\n             $file_product = $request->file('gbr_produk');\n             $tujuan_upload = public_path('images/product');\n-            $nama_file = \"product\".$id_product.$file_product->getClientOriginalExtension();\n+            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             $status_gbr_product = \"ada\";\n         }\n        \n"
                },
                {
                    "date": 1719516877950,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -151,12 +151,12 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            Product::where(['id' => $request, ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n \n         }else{\n-            Product::where(['id' => $request, ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n \n         }\n     }\n     \n"
                },
                {
                    "date": 1719540798427,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -158,8 +158,12 @@\n             Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n \n         }\n     }\n+\n+    public function listvariantprodut(){\n+        \n+    }\n     \n \n \n     /**\n"
                },
                {
                    "date": 1719540806073,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -160,9 +160,15 @@\n         }\n     }\n \n     public function listvariantprodut(){\n-        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n     }\n     \n \n \n"
                },
                {
                    "date": 1719540820292,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -161,9 +161,9 @@\n     }\n \n     public function listvariantprodut(){\n         if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            $data = Product::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n             // $mydatalast = $data->created_at->format('d M Y');\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n"
                },
                {
                    "date": 1719540828031,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -159,11 +159,11 @@\n \n         }\n     }\n \n-    public function listvariantprodut(){\n+    public function listvariantproduct(){\n         if(Session::has('id_superadmin')){\n-            $data = Product::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            $data = ProductVariant::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n             // $mydatalast = $data->created_at->format('d M Y');\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n"
                },
                {
                    "date": 1719540872070,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -168,8 +168,26 @@\n          }else{\n              return view('admin.login');\n          }\n     }\n+\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.variant_product');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n     \n \n \n     /**\n"
                },
                {
                    "date": 1719540880074,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -169,9 +169,9 @@\n              return view('admin.login');\n          }\n     }\n \n-    public function listtrx(){\n+    public function listvariant(){\n         if(Session::has('id_superadmin')){\n             return view('admin.variant_product');\n          }else{\n              return view('admin.login');\n"
                },
                {
                    "date": 1719540885486,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -176,9 +176,9 @@\n          }else{\n              return view('admin.login');\n          }\n     }\n-    public function getlisttrx(){\n+    public function getlistvariant(){\n         \n         if(Session::has('id_superadmin')){\n             $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n             // $mydatalast = $data->created_at->format('d M Y');\n"
                },
                {
                    "date": 1719540909031,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -159,18 +159,10 @@\n \n         }\n     }\n \n-    public function listvariantproduct(){\n-        if(Session::has('id_superadmin')){\n-            $data = ProductVariant::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n \n+\n     public function listvariant(){\n         if(Session::has('id_superadmin')){\n             return view('admin.variant_product');\n          }else{\n@@ -179,9 +171,9 @@\n     }\n     public function getlistvariant(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            $data = ProductVariant::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n             // $mydatalast = $data->created_at->format('d M Y');\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n"
                },
                {
                    "date": 1719540933495,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -171,9 +171,9 @@\n     }\n     public function getlistvariant(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = ProductVariant::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            $data = ProductVariant::join(\"product\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n             // $mydatalast = $data->created_at->format('d M Y');\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n"
                },
                {
                    "date": 1719540948080,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -171,9 +171,9 @@\n     }\n     public function getlistvariant(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = ProductVariant::join(\"product\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"transaction.*\",\"visitor.nama\")->latest();\n             // $mydatalast = $data->created_at->format('d M Y');\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n"
                },
                {
                    "date": 1719540956023,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -171,9 +171,9 @@\n     }\n     public function getlistvariant(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"transaction.*\",\"product.nama\")->latest();\n             // $mydatalast = $data->created_at->format('d M Y');\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n"
                },
                {
                    "date": 1719540966882,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -171,9 +171,9 @@\n     }\n     public function getlistvariant(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"transaction.*\",\"product.nama\")->latest();\n+            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\")->latest();\n             // $mydatalast = $data->created_at->format('d M Y');\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n"
                },
                {
                    "date": 1719541400870,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -171,9 +171,9 @@\n     }\n     public function getlistvariant(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\")->latest();\n+            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\", \"product.images\")->latest();\n             // $mydatalast = $data->created_at->format('d M Y');\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n"
                },
                {
                    "date": 1719541676016,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -159,10 +159,22 @@\n \n         }\n     }\n \n+    public function getdetailproductadmin(Request $request){\n+        $id_product = $request->idproduct;\n+        $hasil = \"\";\n+        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = Product::where(\"id\",'=',$id_product)->get();\n+        foreach($myproduct as $mp){\n+           \n+            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        }\n+        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n+    }\n \n \n+\n     public function listvariant(){\n         if(Session::has('id_superadmin')){\n             return view('admin.variant_product');\n          }else{\n"
                },
                {
                    "date": 1719541692707,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -159,9 +159,9 @@\n \n         }\n     }\n \n-    public function getdetailproductadmin(Request $request){\n+    public function getdetailvariantproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n         $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n         $products = Product::where(\"id\",'=',$id_product)->get();\n"
                },
                {
                    "date": 1719541704292,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -160,9 +160,9 @@\n         }\n     }\n \n     public function getdetailvariantproductadmin(Request $request){\n-        $id_product = $request->idproduct;\n+        $id_product = $request->idproductvariant;\n         $hasil = \"\";\n         $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n         $products = Product::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n"
                },
                {
                    "date": 1719541710070,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -160,12 +160,12 @@\n         }\n     }\n \n     public function getdetailvariantproductadmin(Request $request){\n-        $id_product = $request->idproductvariant;\n+        $id_productvariant = $request->idproductvariant;\n         $hasil = \"\";\n         $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = Product::where(\"id\",'=',$id_product)->get();\n+        $products = ProductVariant::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n            \n             $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n"
                },
                {
                    "date": 1719541718451,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -162,14 +162,14 @@\n \n     public function getdetailvariantproductadmin(Request $request){\n         $id_productvariant = $request->idproductvariant;\n         $hasil = \"\";\n-        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n         $products = ProductVariant::where(\"id\",'=',$id_product)->get();\n-        foreach($myproduct as $mp){\n+        // foreach($myproduct as $mp){\n            \n-            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        }\n+        //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        // }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n \n \n"
                },
                {
                    "date": 1719541723625,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -168,9 +168,9 @@\n         // foreach($myproduct as $mp){\n            \n         //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         // }\n-        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n+        return response()->json(['output' => \"-\", \"output_proudct\"=>$products]);\n     }\n \n \n \n"
                },
                {
                    "date": 1719541734898,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -163,9 +163,9 @@\n     public function getdetailvariantproductadmin(Request $request){\n         $id_productvariant = $request->idproductvariant;\n         $hasil = \"\";\n         // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = ProductVariant::where(\"id\",'=',$id_product)->get();\n+        $products = ProductVariant::where(\"id\",'=',$id_productvariant)->get();\n         // foreach($myproduct as $mp){\n            \n         //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         // }\n"
                },
                {
                    "date": 1719548684613,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -159,8 +159,32 @@\n \n         }\n     }\n \n+    public function editproductadmin(Request $request){\n+        $id_product = $request->id_product;\n+        $nama_product = $request->nama_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+        $desc_produk = $request->desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n+\n+        }else{\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n+\n+        }\n+    }\n+\n     public function getdetailvariantproductadmin(Request $request){\n         $id_productvariant = $request->idproductvariant;\n         $hasil = \"\";\n         // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n"
                },
                {
                    "date": 1719548690414,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -159,9 +159,9 @@\n \n         }\n     }\n \n-    public function editproductadmin(Request $request){\n+    public function editproductvariantadmin(Request $request){\n         $id_product = $request->id_product;\n         $nama_product = $request->nama_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n"
                },
                {
                    "date": 1719548704450,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -160,9 +160,9 @@\n         }\n     }\n \n     public function editproductvariantadmin(Request $request){\n-        $id_product = $request->id_product;\n+        $id_productvariant = $request->id_product;\n         $nama_product = $request->nama_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n         $desc_produk = $request->desc_produk;\n"
                },
                {
                    "date": 1719548735432,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -160,13 +160,13 @@\n         }\n     }\n \n     public function editproductvariantadmin(Request $request){\n-        $id_productvariant = $request->id_product;\n-        $nama_product = $request->nama_produk;\n+        $id_productvariant = $request->id_variant_product;\n+        $nama_product = $request->desc_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n-        $desc_produk = $request->desc_produk;\n+    \n         $status_gbr_product = \"\";\n         if($request->hasFile('gbr_produk')) {\n             $file_product = $request->file('gbr_produk');\n             $tujuan_upload = public_path('images/product');\n"
                },
                {
                    "date": 1719548782892,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -169,9 +169,9 @@\n         $status_gbr_product = \"\";\n         if($request->hasFile('gbr_produk')) {\n             $file_product = $request->file('gbr_produk');\n             $tujuan_upload = public_path('images/product');\n-            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n+            $nama_file = \"product_variant\".$id_product.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             $status_gbr_product = \"ada\";\n         }\n        \n"
                },
                {
                    "date": 1719548819647,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -168,9 +168,9 @@\n     \n         $status_gbr_product = \"\";\n         if($request->hasFile('gbr_produk')) {\n             $file_product = $request->file('gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n+            $tujuan_upload = public_path('images/variant');\n             $nama_file = \"product_variant\".$id_product.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             $status_gbr_product = \"ada\";\n         }\n"
                },
                {
                    "date": 1719548839366,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -175,9 +175,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n+            ProductVariant::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n \n         }else{\n             Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n \n"
                },
                {
                    "date": 1719548846680,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -178,9 +178,9 @@\n         if($status_gbr_product == \"ada\"){\n             ProductVariant::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n \n         }else{\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n+            ProductVariant::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n \n         }\n     }\n \n"
                },
                {
                    "date": 1719548931548,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -175,12 +175,12 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            ProductVariant::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n \n         }else{\n-            ProductVariant::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n \n         }\n     }\n \n"
                },
                {
                    "date": 1719548940779,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -175,9 +175,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['description' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n \n         }else{\n             ProductVariant::where(['id' => $id_productvariant ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n \n"
                },
                {
                    "date": 1719548946216,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -175,12 +175,12 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['description' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n \n         }else{\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n \n         }\n     }\n \n"
                },
                {
                    "date": 1719548961220,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -175,12 +175,12 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images\" => $nama_file]);\n \n         }else{\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n \n         }\n     }\n \n"
                },
                {
                    "date": 1719549007686,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -175,9 +175,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images\" => $nama_file]);\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n \n         }else{\n             ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n \n"
                },
                {
                    "date": 1719549213262,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -169,9 +169,9 @@\n         $status_gbr_product = \"\";\n         if($request->hasFile('gbr_produk')) {\n             $file_product = $request->file('gbr_produk');\n             $tujuan_upload = public_path('images/variant');\n-            $nama_file = \"product_variant\".$id_product.\".\".$file_product->getClientOriginalExtension();\n+            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             $status_gbr_product = \"ada\";\n         }\n        \n"
                },
                {
                    "date": 1719565268671,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,289 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n+use App\\Models\\TransactionHistory;\n+use App\\Models\\ProductVariant;\n+\n+\n+use DataTables;\n+use Hash;\n+use Session;\n+use DB;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+    public function listproduk(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n+   \n+    }\n+    public function getlistproduk(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Product::latest();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listuser(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.user');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistuser(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Visitor::all();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.transaction');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getInvoiceDetailAdmin(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+                    $hasil = \"\";\n+      \n+                    foreach($myproduct as $mp){\n+                        $variant = \"Tidak Ada\";\n+                        if($mp->variant_descriptions != null){\n+                            $variant = $mp->variant_descriptions;\n+                        }\n+                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+                    }\n+        return response()->json(['output' => $hasil]);\n+    }\n+    public function getdetailproductadmin(Request $request){\n+        $id_product = $request->idproduct;\n+        $hasil = \"\";\n+        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = Product::where(\"id\",'=',$id_product)->get();\n+        foreach($myproduct as $mp){\n+           \n+            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        }\n+        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n+    }\n+    public function editproductadmin(Request $request){\n+        $id_product = $request->id_product;\n+        $nama_product = $request->nama_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+        $desc_produk = $request->desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n+\n+        }else{\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n+\n+        }\n+    }\n+\n+    public function editproductvariantadmin(Request $request){\n+        $id_productvariant = $request->id_variant_product;\n+        $nama_product = $request->desc_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+    \n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/variant');\n+            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n+\n+        }else{\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n+\n+        }\n+    }\n+\n+    public function getdetailvariantproductadmin(Request $request){\n+        $id_productvariant = $request->idproductvariant;\n+        $hasil = \"\";\n+        // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = ProductVariant::where(\"id\",'=',$id_productvariant)->get();\n+        // foreach($myproduct as $mp){\n+           \n+        //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        // }\n+        return response()->json(['output' => \"-\", \"output_proudct\"=>$products]);\n+    }\n+\n+\n+\n+    public function listvariant(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.variant_product');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistvariant(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\", \"product.images\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function addproductadmin(){\n+        \n+    }\n+    \n+\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719565283108,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -215,296 +215,13 @@\n              return view('admin.login');\n          }\n     }\n     public function addproductadmin(){\n-        \n-    }\n-    \n-\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use App\\Models\\Product;\n-use App\\Models\\Transaction;\n-use App\\Models\\TransactionHistory;\n-use App\\Models\\ProductVariant;\n-\n-\n-use DataTables;\n-use Hash;\n-use Session;\n-use DB;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-\n-        if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index', compact('visitor','product','transaction'));\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myadmin->count() > 0){\n-            if(Hash::check($password, $myadmin[0]->pass)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n-        \n-    }\n-    public function listproduk(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.product');\n-         }else{\n-             return view('admin.login');\n-         }\n-   \n-    }\n-    public function getlistproduk(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listuser(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.user');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistuser(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Visitor::all();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listtrx(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.transaction');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlisttrx(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getInvoiceDetailAdmin(Request $request ){\n-        $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n-                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n-                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n-                    ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-                    $hasil = \"\";\n-      \n-                    foreach($myproduct as $mp){\n-                        $variant = \"Tidak Ada\";\n-                        if($mp->variant_descriptions != null){\n-                            $variant = $mp->variant_descriptions;\n-                        }\n-                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n-                    }\n-        return response()->json(['output' => $hasil]);\n-    }\n-    public function getdetailproductadmin(Request $request){\n-        $id_product = $request->idproduct;\n-        $hasil = \"\";\n-        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = Product::where(\"id\",'=',$id_product)->get();\n-        foreach($myproduct as $mp){\n-           \n-            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        }\n-        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n-    }\n-    public function editproductadmin(Request $request){\n-        $id_product = $request->id_product;\n-        $nama_product = $request->nama_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n-        $desc_produk = $request->desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('gbr_produk')) {\n-            $file_product = $request->file('gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n-            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n-\n-        }else{\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n-\n-        }\n-    }\n-\n-    public function editproductvariantadmin(Request $request){\n         $id_productvariant = $request->id_variant_product;\n         $nama_product = $request->desc_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n-    \n-        $status_gbr_product = \"\";\n-        if($request->hasFile('gbr_produk')) {\n-            $file_product = $request->file('gbr_produk');\n-            $tujuan_upload = public_path('images/variant');\n-            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n-\n-        }else{\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n-\n-        }\n     }\n-\n-    public function getdetailvariantproductadmin(Request $request){\n-        $id_productvariant = $request->idproductvariant;\n-        $hasil = \"\";\n-        // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = ProductVariant::where(\"id\",'=',$id_productvariant)->get();\n-        // foreach($myproduct as $mp){\n-           \n-        //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        // }\n-        return response()->json(['output' => \"-\", \"output_proudct\"=>$products]);\n-    }\n-\n-\n-\n-    public function listvariant(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.variant_product');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistvariant(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\", \"product.images\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n     \n \n \n     /**\n"
                },
                {
                    "date": 1719565299350,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -215,12 +215,28 @@\n              return view('admin.login');\n          }\n     }\n     public function addproductadmin(){\n-        $id_productvariant = $request->id_variant_product;\n+        // $id_productvariant = $request->id_variant_product;\n         $nama_product = $request->desc_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/variant');\n+            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n+\n+        }else{\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n+\n+        }\n     }\n     \n \n \n"
                },
                {
                    "date": 1719565305333,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -216,9 +216,9 @@\n          }\n     }\n     public function addproductadmin(){\n         // $id_productvariant = $request->id_variant_product;\n-        $nama_product = $request->desc_produk;\n+        $nama_product = $request->add_desc_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n         $status_gbr_product = \"\";\n         if($request->hasFile('gbr_produk')) {\n"
                },
                {
                    "date": 1719565330518,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -217,15 +217,15 @@\n     }\n     public function addproductadmin(){\n         // $id_productvariant = $request->id_variant_product;\n         $nama_product = $request->add_desc_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n+        $harga_product = $request->add_hrg_produk;\n+        $discount_product = $request->add_dsc_produk;\n         $status_gbr_product = \"\";\n-        if($request->hasFile('gbr_produk')) {\n-            $file_product = $request->file('gbr_produk');\n+        if($request->hasFile('add_gbr_produk')) {\n+            $file_product = $request->file('add_gbr_produk');\n             $tujuan_upload = public_path('images/variant');\n-            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+            $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             $status_gbr_product = \"ada\";\n         }\n        \n"
                },
                {
                    "date": 1719565337098,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -222,9 +222,9 @@\n         $discount_product = $request->add_dsc_produk;\n         $status_gbr_product = \"\";\n         if($request->hasFile('add_gbr_produk')) {\n             $file_product = $request->file('add_gbr_produk');\n-            $tujuan_upload = public_path('images/variant');\n+            $tujuan_upload = public_path('images/product');\n             $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             $status_gbr_product = \"ada\";\n         }\n"
                },
                {
                    "date": 1719565363535,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,310 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n+use App\\Models\\TransactionHistory;\n+use App\\Models\\ProductVariant;\n+\n+\n+use DataTables;\n+use Hash;\n+use Session;\n+use DB;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+    public function listproduk(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n+   \n+    }\n+    public function getlistproduk(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Product::latest();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listuser(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.user');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistuser(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Visitor::all();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.transaction');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getInvoiceDetailAdmin(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+                    $hasil = \"\";\n+      \n+                    foreach($myproduct as $mp){\n+                        $variant = \"Tidak Ada\";\n+                        if($mp->variant_descriptions != null){\n+                            $variant = $mp->variant_descriptions;\n+                        }\n+                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+                    }\n+        return response()->json(['output' => $hasil]);\n+    }\n+    public function getdetailproductadmin(Request $request){\n+        $id_product = $request->idproduct;\n+        $hasil = \"\";\n+        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = Product::where(\"id\",'=',$id_product)->get();\n+        foreach($myproduct as $mp){\n+           \n+            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        }\n+        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n+    }\n+    public function editproductadmin(Request $request){\n+        $id_product = $request->id_product;\n+        $nama_product = $request->nama_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+        $desc_produk = $request->desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n+\n+        }else{\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n+\n+        }\n+    }\n+\n+    public function editproductvariantadmin(Request $request){\n+        $id_productvariant = $request->id_variant_product;\n+        $nama_product = $request->desc_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+    \n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/variant');\n+            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n+\n+        }else{\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n+\n+        }\n+    }\n+\n+    public function getdetailvariantproductadmin(Request $request){\n+        $id_productvariant = $request->idproductvariant;\n+        $hasil = \"\";\n+        // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = ProductVariant::where(\"id\",'=',$id_productvariant)->get();\n+        // foreach($myproduct as $mp){\n+           \n+        //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        // }\n+        return response()->json(['output' => \"-\", \"output_proudct\"=>$products]);\n+    }\n+\n+\n+\n+    public function listvariant(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.variant_product');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistvariant(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\", \"product.images\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function addproductadmin(){\n+        // $id_productvariant = $request->id_variant_product;\n+        $nama_product = $request->add_desc_produk;\n+        $harga_product = $request->add_hrg_produk;\n+        $discount_product = $request->add_dsc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('add_gbr_produk')) {\n+            $file_product = $request->file('add_gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            Visitor::insert([\"nama\" => $myname, \"username\" => $myemail, \"password\" => $encrypted_password, \"address\" => $myaddress, \"whatsapp_number\" => $mwa]);\n+\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n+\n+        }else{\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n+\n+        }\n+    }\n+    \n+\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719565384537,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -229,14 +229,14 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            Visitor::insert([\"nama\" => $myname, \"username\" => $myemail, \"password\" => $encrypted_password, \"address\" => $myaddress, \"whatsapp_number\" => $mwa]);\n+            Product::insert([\"names\" => $myname, \"username\" => $myemail, \"password\" => $encrypted_password, \"address\" => $myaddress, \"whatsapp_number\" => $mwa]);\n \n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n+            // ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n \n         }else{\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n+            // ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n \n         }\n     }\n     \n@@ -306,313 +306,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use App\\Models\\Product;\n-use App\\Models\\Transaction;\n-use App\\Models\\TransactionHistory;\n-use App\\Models\\ProductVariant;\n-\n-\n-use DataTables;\n-use Hash;\n-use Session;\n-use DB;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-\n-        if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index', compact('visitor','product','transaction'));\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myadmin->count() > 0){\n-            if(Hash::check($password, $myadmin[0]->pass)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n-        \n-    }\n-    public function listproduk(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.product');\n-         }else{\n-             return view('admin.login');\n-         }\n-   \n-    }\n-    public function getlistproduk(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listuser(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.user');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistuser(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Visitor::all();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listtrx(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.transaction');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlisttrx(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getInvoiceDetailAdmin(Request $request ){\n-        $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n-                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n-                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n-                    ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-                    $hasil = \"\";\n-      \n-                    foreach($myproduct as $mp){\n-                        $variant = \"Tidak Ada\";\n-                        if($mp->variant_descriptions != null){\n-                            $variant = $mp->variant_descriptions;\n-                        }\n-                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n-                    }\n-        return response()->json(['output' => $hasil]);\n-    }\n-    public function getdetailproductadmin(Request $request){\n-        $id_product = $request->idproduct;\n-        $hasil = \"\";\n-        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = Product::where(\"id\",'=',$id_product)->get();\n-        foreach($myproduct as $mp){\n-           \n-            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        }\n-        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n-    }\n-    public function editproductadmin(Request $request){\n-        $id_product = $request->id_product;\n-        $nama_product = $request->nama_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n-        $desc_produk = $request->desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('gbr_produk')) {\n-            $file_product = $request->file('gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n-            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n-\n-        }else{\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n-\n-        }\n-    }\n-\n-    public function editproductvariantadmin(Request $request){\n-        $id_productvariant = $request->id_variant_product;\n-        $nama_product = $request->desc_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n-    \n-        $status_gbr_product = \"\";\n-        if($request->hasFile('gbr_produk')) {\n-            $file_product = $request->file('gbr_produk');\n-            $tujuan_upload = public_path('images/variant');\n-            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n-\n-        }else{\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n-\n-        }\n-    }\n-\n-    public function getdetailvariantproductadmin(Request $request){\n-        $id_productvariant = $request->idproductvariant;\n-        $hasil = \"\";\n-        // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = ProductVariant::where(\"id\",'=',$id_productvariant)->get();\n-        // foreach($myproduct as $mp){\n-           \n-        //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        // }\n-        return response()->json(['output' => \"-\", \"output_proudct\"=>$products]);\n-    }\n-\n-\n-\n-    public function listvariant(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.variant_product');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistvariant(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\", \"product.images\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function addproductadmin(){\n-        // $id_productvariant = $request->id_variant_product;\n-        $nama_product = $request->add_desc_produk;\n-        $harga_product = $request->add_hrg_produk;\n-        $discount_product = $request->add_dsc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('add_gbr_produk')) {\n-            $file_product = $request->file('add_gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n-            $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n-\n-        }else{\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n-\n-        }\n-    }\n-    \n-\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719565433454,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,312 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n+use App\\Models\\TransactionHistory;\n+use App\\Models\\ProductVariant;\n+\n+\n+use DataTables;\n+use Hash;\n+use Session;\n+use DB;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+    public function listproduk(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n+   \n+    }\n+    public function getlistproduk(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Product::latest();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listuser(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.user');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistuser(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Visitor::all();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.transaction');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getInvoiceDetailAdmin(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+                    $hasil = \"\";\n+      \n+                    foreach($myproduct as $mp){\n+                        $variant = \"Tidak Ada\";\n+                        if($mp->variant_descriptions != null){\n+                            $variant = $mp->variant_descriptions;\n+                        }\n+                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+                    }\n+        return response()->json(['output' => $hasil]);\n+    }\n+    public function getdetailproductadmin(Request $request){\n+        $id_product = $request->idproduct;\n+        $hasil = \"\";\n+        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = Product::where(\"id\",'=',$id_product)->get();\n+        foreach($myproduct as $mp){\n+           \n+            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        }\n+        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n+    }\n+    public function editproductadmin(Request $request){\n+        $id_product = $request->id_product;\n+        $nama_product = $request->nama_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+        $desc_produk = $request->desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n+\n+        }else{\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n+\n+        }\n+    }\n+\n+    public function editproductvariantadmin(Request $request){\n+        $id_productvariant = $request->id_variant_product;\n+        $nama_product = $request->desc_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+    \n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/variant');\n+            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n+\n+        }else{\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n+\n+        }\n+    }\n+\n+    public function getdetailvariantproductadmin(Request $request){\n+        $id_productvariant = $request->idproductvariant;\n+        $hasil = \"\";\n+        // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = ProductVariant::where(\"id\",'=',$id_productvariant)->get();\n+        // foreach($myproduct as $mp){\n+           \n+        //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        // }\n+        return response()->json(['output' => \"-\", \"output_proudct\"=>$products]);\n+    }\n+\n+\n+\n+    public function listvariant(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.variant_product');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistvariant(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\", \"product.images\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function addproductadmin(){\n+        // $id_productvariant = $request->id_variant_product;\n+        $nama_product = $request->add_nama_produk;\n+        $harga_product = $request->add_hrg_produk;\n+        $discount_product = $request->add_dsc_produk;\n+        $desc_productadd =  $request->add_desc_produk;\n+        add_desc_produk\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('add_gbr_produk')) {\n+            $file_product = $request->file('add_gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            Product::insert([\"names\" => $nama_product, \"username\" => $myemail, \"password\" => $encrypted_password, \"address\" => $myaddress, \"whatsapp_number\" => $mwa]);\n+\n+            // ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n+\n+        }else{\n+            // ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n+\n+        }\n+    }\n+    \n+\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719565442464,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -219,10 +219,9 @@\n         // $id_productvariant = $request->id_variant_product;\n         $nama_product = $request->add_nama_produk;\n         $harga_product = $request->add_hrg_produk;\n         $discount_product = $request->add_dsc_produk;\n-        $desc_productadd =  $request->add_desc_produk;\n-        add_desc_produk\n+        $desc_product =  $request->add_desc_produk;\n         $status_gbr_product = \"\";\n         if($request->hasFile('add_gbr_produk')) {\n             $file_product = $request->file('add_gbr_produk');\n             $tujuan_upload = public_path('images/product');\n@@ -308,315 +307,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use App\\Models\\Product;\n-use App\\Models\\Transaction;\n-use App\\Models\\TransactionHistory;\n-use App\\Models\\ProductVariant;\n-\n-\n-use DataTables;\n-use Hash;\n-use Session;\n-use DB;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-\n-        if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index', compact('visitor','product','transaction'));\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myadmin->count() > 0){\n-            if(Hash::check($password, $myadmin[0]->pass)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n-        \n-    }\n-    public function listproduk(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.product');\n-         }else{\n-             return view('admin.login');\n-         }\n-   \n-    }\n-    public function getlistproduk(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listuser(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.user');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistuser(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Visitor::all();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listtrx(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.transaction');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlisttrx(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getInvoiceDetailAdmin(Request $request ){\n-        $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n-                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n-                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n-                    ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-                    $hasil = \"\";\n-      \n-                    foreach($myproduct as $mp){\n-                        $variant = \"Tidak Ada\";\n-                        if($mp->variant_descriptions != null){\n-                            $variant = $mp->variant_descriptions;\n-                        }\n-                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n-                    }\n-        return response()->json(['output' => $hasil]);\n-    }\n-    public function getdetailproductadmin(Request $request){\n-        $id_product = $request->idproduct;\n-        $hasil = \"\";\n-        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = Product::where(\"id\",'=',$id_product)->get();\n-        foreach($myproduct as $mp){\n-           \n-            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        }\n-        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n-    }\n-    public function editproductadmin(Request $request){\n-        $id_product = $request->id_product;\n-        $nama_product = $request->nama_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n-        $desc_produk = $request->desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('gbr_produk')) {\n-            $file_product = $request->file('gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n-            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n-\n-        }else{\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n-\n-        }\n-    }\n-\n-    public function editproductvariantadmin(Request $request){\n-        $id_productvariant = $request->id_variant_product;\n-        $nama_product = $request->desc_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n-    \n-        $status_gbr_product = \"\";\n-        if($request->hasFile('gbr_produk')) {\n-            $file_product = $request->file('gbr_produk');\n-            $tujuan_upload = public_path('images/variant');\n-            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n-\n-        }else{\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n-\n-        }\n-    }\n-\n-    public function getdetailvariantproductadmin(Request $request){\n-        $id_productvariant = $request->idproductvariant;\n-        $hasil = \"\";\n-        // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = ProductVariant::where(\"id\",'=',$id_productvariant)->get();\n-        // foreach($myproduct as $mp){\n-           \n-        //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        // }\n-        return response()->json(['output' => \"-\", \"output_proudct\"=>$products]);\n-    }\n-\n-\n-\n-    public function listvariant(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.variant_product');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistvariant(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\", \"product.images\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function addproductadmin(){\n-        // $id_productvariant = $request->id_variant_product;\n-        $nama_product = $request->add_desc_produk;\n-        $harga_product = $request->add_hrg_produk;\n-        $discount_product = $request->add_dsc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('add_gbr_produk')) {\n-            $file_product = $request->file('add_gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n-            $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            Product::insert([\"names\" => $myname, \"username\" => $myemail, \"password\" => $encrypted_password, \"address\" => $myaddress, \"whatsapp_number\" => $mwa]);\n-\n-            // ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n-\n-        }else{\n-            // ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n-\n-        }\n-    }\n-    \n-\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719565548364,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -230,9 +230,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            Product::insert([\"names\" => $nama_product, \"username\" => $myemail, \"password\" => $encrypted_password, \"address\" => $myaddress, \"whatsapp_number\" => $mwa]);\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"images\" => $nama_file]);\n \n             // ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n \n         }else{\n"
                },
                {
                    "date": 1719565581050,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -230,9 +230,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"images\" => $nama_file]);\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"images\" => $nama_file, \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n \n             // ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n \n         }else{\n"
                },
                {
                    "date": 1719565589981,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -235,8 +235,10 @@\n \n             // ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n \n         }else{\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"images\" => $nama_file, \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n+\n             // ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n \n         }\n     }\n"
                },
                {
                    "date": 1719565595948,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -235,9 +235,9 @@\n \n             // ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n \n         }else{\n-            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"images\" => $nama_file, \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n \n             // ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n \n         }\n"
                },
                {
                    "date": 1719565603538,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -232,14 +232,12 @@\n        \n         if($status_gbr_product == \"ada\"){\n             Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"images\" => $nama_file, \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n \n-            // ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n \n         }else{\n             Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n \n-            // ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n \n         }\n     }\n     \n"
                },
                {
                    "date": 1719565649292,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -214,9 +214,9 @@\n          }else{\n              return view('admin.login');\n          }\n     }\n-    public function addproductadmin(){\n+    public function addproductadmin(Request $request;){\n         // $id_productvariant = $request->id_variant_product;\n         $nama_product = $request->add_nama_produk;\n         $harga_product = $request->add_hrg_produk;\n         $discount_product = $request->add_dsc_produk;\n"
                },
                {
                    "date": 1719565712783,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -214,9 +214,9 @@\n          }else{\n              return view('admin.login');\n          }\n     }\n-    public function addproductadmin(Request $request;){\n+    public function addproductadmin(Request $request){\n         // $id_productvariant = $request->id_variant_product;\n         $nama_product = $request->add_nama_produk;\n         $harga_product = $request->add_hrg_produk;\n         $discount_product = $request->add_dsc_produk;\n@@ -230,11 +230,12 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"images\" => $nama_file, \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n+            $myproduk = Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"images\" => $nama_file, \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n+            $products_id = \n+            $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n \n-\n         }else{\n             Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n \n \n"
                },
                {
                    "date": 1719565739052,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -231,9 +231,9 @@\n         }\n        \n         if($status_gbr_product == \"ada\"){\n             $myproduk = Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"images\" => $nama_file, \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n-            $products_id = \n+            $products_id = $myproduk->id;\n             $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n \n         }else{\n             Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n"
                },
                {
                    "date": 1719565750409,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -225,16 +225,17 @@\n         if($request->hasFile('add_gbr_produk')) {\n             $file_product = $request->file('add_gbr_produk');\n             $tujuan_upload = public_path('images/product');\n             $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n+           \n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n             $myproduk = Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"images\" => $nama_file, \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n             $products_id = $myproduk->id;\n-            $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+            $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n \n         }else{\n             Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n \n"
                },
                {
                    "date": 1719565855633,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -224,9 +224,9 @@\n         $status_gbr_product = \"\";\n         if($request->hasFile('add_gbr_produk')) {\n             $file_product = $request->file('add_gbr_produk');\n             $tujuan_upload = public_path('images/product');\n-            $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n            \n             $status_gbr_product = \"ada\";\n         }\n        \n"
                },
                {
                    "date": 1719565862934,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -230,9 +230,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            $myproduk = Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"images\" => $nama_file, \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n+            $myproduk = Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n \n"
                },
                {
                    "date": 1719565976203,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,315 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n+use App\\Models\\TransactionHistory;\n+use App\\Models\\ProductVariant;\n+\n+\n+use DataTables;\n+use Hash;\n+use Session;\n+use DB;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+    public function listproduk(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n+   \n+    }\n+    public function getlistproduk(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Product::latest();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listuser(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.user');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistuser(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Visitor::all();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.transaction');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getInvoiceDetailAdmin(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+                    $hasil = \"\";\n+      \n+                    foreach($myproduct as $mp){\n+                        $variant = \"Tidak Ada\";\n+                        if($mp->variant_descriptions != null){\n+                            $variant = $mp->variant_descriptions;\n+                        }\n+                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+                    }\n+        return response()->json(['output' => $hasil]);\n+    }\n+    public function getdetailproductadmin(Request $request){\n+        $id_product = $request->idproduct;\n+        $hasil = \"\";\n+        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = Product::where(\"id\",'=',$id_product)->get();\n+        foreach($myproduct as $mp){\n+           \n+            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        }\n+        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n+    }\n+    public function editproductadmin(Request $request){\n+        $id_product = $request->id_product;\n+        $nama_product = $request->nama_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+        $desc_produk = $request->desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n+\n+        }else{\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n+\n+        }\n+    }\n+\n+    public function editproductvariantadmin(Request $request){\n+        $id_productvariant = $request->id_variant_product;\n+        $nama_product = $request->desc_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+    \n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/variant');\n+            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n+\n+        }else{\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n+\n+        }\n+    }\n+\n+    public function getdetailvariantproductadmin(Request $request){\n+        $id_productvariant = $request->idproductvariant;\n+        $hasil = \"\";\n+        // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = ProductVariant::where(\"id\",'=',$id_productvariant)->get();\n+        // foreach($myproduct as $mp){\n+           \n+        //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        // }\n+        return response()->json(['output' => \"-\", \"output_proudct\"=>$products]);\n+    }\n+\n+\n+\n+    public function listvariant(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.variant_product');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistvariant(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\", \"product.images\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function addproductadmin(Request $request){\n+        // $id_productvariant = $request->id_variant_product;\n+        $nama_product = $request->add_nama_produk;\n+        $harga_product = $request->add_hrg_produk;\n+        $discount_product = $request->add_dsc_produk;\n+        $desc_product =  $request->add_desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('add_gbr_produk')) {\n+            $file_product = $request->file('add_gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+           \n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            $myproduk = Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n+            $products_id = $myproduk->id;\n+            $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            ProductVariant::where(['id' => $products_id ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n+\n+\n+        }else{\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n+\n+\n+        }\n+    }\n+    \n+\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719565987332,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,315 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n+use App\\Models\\TransactionHistory;\n+use App\\Models\\ProductVariant;\n+\n+\n+use DataTables;\n+use Hash;\n+use Session;\n+use DB;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+    public function listproduk(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n+   \n+    }\n+    public function getlistproduk(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Product::latest();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listuser(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.user');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistuser(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Visitor::all();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.transaction');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getInvoiceDetailAdmin(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+                    $hasil = \"\";\n+      \n+                    foreach($myproduct as $mp){\n+                        $variant = \"Tidak Ada\";\n+                        if($mp->variant_descriptions != null){\n+                            $variant = $mp->variant_descriptions;\n+                        }\n+                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+                    }\n+        return response()->json(['output' => $hasil]);\n+    }\n+    public function getdetailproductadmin(Request $request){\n+        $id_product = $request->idproduct;\n+        $hasil = \"\";\n+        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = Product::where(\"id\",'=',$id_product)->get();\n+        foreach($myproduct as $mp){\n+           \n+            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        }\n+        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n+    }\n+    public function editproductadmin(Request $request){\n+        $id_product = $request->id_product;\n+        $nama_product = $request->nama_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+        $desc_produk = $request->desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n+\n+        }else{\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n+\n+        }\n+    }\n+\n+    public function editproductvariantadmin(Request $request){\n+        $id_productvariant = $request->id_variant_product;\n+        $nama_product = $request->desc_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+    \n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/variant');\n+            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n+\n+        }else{\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n+\n+        }\n+    }\n+\n+    public function getdetailvariantproductadmin(Request $request){\n+        $id_productvariant = $request->idproductvariant;\n+        $hasil = \"\";\n+        // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = ProductVariant::where(\"id\",'=',$id_productvariant)->get();\n+        // foreach($myproduct as $mp){\n+           \n+        //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        // }\n+        return response()->json(['output' => \"-\", \"output_proudct\"=>$products]);\n+    }\n+\n+\n+\n+    public function listvariant(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.variant_product');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistvariant(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\", \"product.images\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function addproductadmin(Request $request){\n+        // $id_productvariant = $request->id_variant_product;\n+        $nama_product = $request->add_nama_produk;\n+        $harga_product = $request->add_hrg_produk;\n+        $discount_product = $request->add_dsc_produk;\n+        $desc_product =  $request->add_desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('add_gbr_produk')) {\n+            $file_product = $request->file('add_gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+           \n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            $myproduk = Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n+            $products_id = $myproduk->id;\n+            $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            ProductVariant::where(['id' => $products_id ])->update(['images' => $nama_file]);\n+\n+\n+        }else{\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n+\n+\n+        }\n+    }\n+    \n+\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719565997930,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -311,633 +311,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use App\\Models\\Product;\n-use App\\Models\\Transaction;\n-use App\\Models\\TransactionHistory;\n-use App\\Models\\ProductVariant;\n-\n-\n-use DataTables;\n-use Hash;\n-use Session;\n-use DB;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-\n-        if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index', compact('visitor','product','transaction'));\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myadmin->count() > 0){\n-            if(Hash::check($password, $myadmin[0]->pass)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n-        \n-    }\n-    public function listproduk(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.product');\n-         }else{\n-             return view('admin.login');\n-         }\n-   \n-    }\n-    public function getlistproduk(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listuser(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.user');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistuser(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Visitor::all();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listtrx(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.transaction');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlisttrx(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getInvoiceDetailAdmin(Request $request ){\n-        $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n-                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n-                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n-                    ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-                    $hasil = \"\";\n-      \n-                    foreach($myproduct as $mp){\n-                        $variant = \"Tidak Ada\";\n-                        if($mp->variant_descriptions != null){\n-                            $variant = $mp->variant_descriptions;\n-                        }\n-                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n-                    }\n-        return response()->json(['output' => $hasil]);\n-    }\n-    public function getdetailproductadmin(Request $request){\n-        $id_product = $request->idproduct;\n-        $hasil = \"\";\n-        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = Product::where(\"id\",'=',$id_product)->get();\n-        foreach($myproduct as $mp){\n-           \n-            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        }\n-        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n-    }\n-    public function editproductadmin(Request $request){\n-        $id_product = $request->id_product;\n-        $nama_product = $request->nama_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n-        $desc_produk = $request->desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('gbr_produk')) {\n-            $file_product = $request->file('gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n-            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n-\n-        }else{\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n-\n-        }\n-    }\n-\n-    public function editproductvariantadmin(Request $request){\n-        $id_productvariant = $request->id_variant_product;\n-        $nama_product = $request->desc_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n-    \n-        $status_gbr_product = \"\";\n-        if($request->hasFile('gbr_produk')) {\n-            $file_product = $request->file('gbr_produk');\n-            $tujuan_upload = public_path('images/variant');\n-            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n-\n-        }else{\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n-\n-        }\n-    }\n-\n-    public function getdetailvariantproductadmin(Request $request){\n-        $id_productvariant = $request->idproductvariant;\n-        $hasil = \"\";\n-        // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = ProductVariant::where(\"id\",'=',$id_productvariant)->get();\n-        // foreach($myproduct as $mp){\n-           \n-        //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        // }\n-        return response()->json(['output' => \"-\", \"output_proudct\"=>$products]);\n-    }\n-\n-\n-\n-    public function listvariant(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.variant_product');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistvariant(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\", \"product.images\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function addproductadmin(Request $request){\n-        // $id_productvariant = $request->id_variant_product;\n-        $nama_product = $request->add_nama_produk;\n-        $harga_product = $request->add_hrg_produk;\n-        $discount_product = $request->add_dsc_produk;\n-        $desc_product =  $request->add_desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('add_gbr_produk')) {\n-            $file_product = $request->file('add_gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n-            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-           \n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            $myproduk = Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n-            $products_id = $myproduk->id;\n-            $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            ProductVariant::where(['id' => $products_id ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n-\n-\n-        }else{\n-            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n-\n-\n-        }\n-    }\n-    \n-\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use App\\Models\\Product;\n-use App\\Models\\Transaction;\n-use App\\Models\\TransactionHistory;\n-use App\\Models\\ProductVariant;\n-\n-\n-use DataTables;\n-use Hash;\n-use Session;\n-use DB;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-\n-        if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index', compact('visitor','product','transaction'));\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myadmin->count() > 0){\n-            if(Hash::check($password, $myadmin[0]->pass)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n-        \n-    }\n-    public function listproduk(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.product');\n-         }else{\n-             return view('admin.login');\n-         }\n-   \n-    }\n-    public function getlistproduk(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listuser(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.user');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistuser(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Visitor::all();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listtrx(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.transaction');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlisttrx(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getInvoiceDetailAdmin(Request $request ){\n-        $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n-                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n-                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n-                    ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-                    $hasil = \"\";\n-      \n-                    foreach($myproduct as $mp){\n-                        $variant = \"Tidak Ada\";\n-                        if($mp->variant_descriptions != null){\n-                            $variant = $mp->variant_descriptions;\n-                        }\n-                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n-                    }\n-        return response()->json(['output' => $hasil]);\n-    }\n-    public function getdetailproductadmin(Request $request){\n-        $id_product = $request->idproduct;\n-        $hasil = \"\";\n-        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = Product::where(\"id\",'=',$id_product)->get();\n-        foreach($myproduct as $mp){\n-           \n-            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        }\n-        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n-    }\n-    public function editproductadmin(Request $request){\n-        $id_product = $request->id_product;\n-        $nama_product = $request->nama_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n-        $desc_produk = $request->desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('gbr_produk')) {\n-            $file_product = $request->file('gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n-            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n-\n-        }else{\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n-\n-        }\n-    }\n-\n-    public function editproductvariantadmin(Request $request){\n-        $id_productvariant = $request->id_variant_product;\n-        $nama_product = $request->desc_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n-    \n-        $status_gbr_product = \"\";\n-        if($request->hasFile('gbr_produk')) {\n-            $file_product = $request->file('gbr_produk');\n-            $tujuan_upload = public_path('images/variant');\n-            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n-\n-        }else{\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n-\n-        }\n-    }\n-\n-    public function getdetailvariantproductadmin(Request $request){\n-        $id_productvariant = $request->idproductvariant;\n-        $hasil = \"\";\n-        // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = ProductVariant::where(\"id\",'=',$id_productvariant)->get();\n-        // foreach($myproduct as $mp){\n-           \n-        //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        // }\n-        return response()->json(['output' => \"-\", \"output_proudct\"=>$products]);\n-    }\n-\n-\n-\n-    public function listvariant(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.variant_product');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistvariant(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\", \"product.images\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function addproductadmin(Request $request){\n-        // $id_productvariant = $request->id_variant_product;\n-        $nama_product = $request->add_nama_produk;\n-        $harga_product = $request->add_hrg_produk;\n-        $discount_product = $request->add_dsc_produk;\n-        $desc_product =  $request->add_desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('add_gbr_produk')) {\n-            $file_product = $request->file('add_gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n-            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-           \n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            $myproduk = Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n-            $products_id = $myproduk->id;\n-            $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-\n-        }else{\n-            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n-\n-\n-        }\n-    }\n-    \n-\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719566030378,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -230,17 +230,17 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            $myproduk = Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n+            $myproduk = Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\",\"images\" => \"-\"]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             ProductVariant::where(['id' => $products_id ])->update(['images' => $nama_file]);\n \n \n         }else{\n-            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\"]);\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\", \"images\" => \"-\"]);\n \n \n         }\n     }\n"
                },
                {
                    "date": 1719566049612,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -230,17 +230,17 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            $myproduk = Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\",\"images\" => \"-\"]);\n+            $myproduk = Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             ProductVariant::where(['id' => $products_id ])->update(['images' => $nama_file]);\n \n \n         }else{\n-            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\", \"images\" => \"-\"]);\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now()]);\n \n \n         }\n     }\n"
                },
                {
                    "date": 1719566075156,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -230,17 +230,17 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            $myproduk = Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now()]);\n+            $myproduk = Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             ProductVariant::where(['id' => $products_id ])->update(['images' => $nama_file]);\n \n \n         }else{\n-            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now()]);\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n \n \n         }\n     }\n"
                },
                {
                    "date": 1719566128491,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -230,9 +230,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            $myproduk = Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             ProductVariant::where(['id' => $products_id ])->update(['images' => $nama_file]);\n"
                },
                {
                    "date": 1719566151435,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -234,9 +234,9 @@\n             $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n-            ProductVariant::where(['id' => $products_id ])->update(['images' => $nama_file]);\n+            Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n \n \n         }else{\n             Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n"
                },
                {
                    "date": 1719566240744,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -230,9 +230,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n"
                },
                {
                    "date": 1719568415978,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -199,8 +199,9 @@\n \n \n     public function listvariant(){\n         if(Session::has('id_superadmin')){\n+            $product = Product::all();\n             return view('admin.variant_product');\n          }else{\n              return view('admin.login');\n          }\n@@ -238,9 +239,9 @@\n             Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n \n \n         }else{\n-            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"1\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n \n \n         }\n     }\n"
                },
                {
                    "date": 1719568422396,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -199,9 +199,9 @@\n \n \n     public function listvariant(){\n         if(Session::has('id_superadmin')){\n-            $product = Product::all();\n+            $product = Product::latest();\n             return view('admin.variant_product');\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1719568434941,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -199,10 +199,10 @@\n \n \n     public function listvariant(){\n         if(Session::has('id_superadmin')){\n-            $product = Product::latest();\n-            return view('admin.variant_product');\n+            $list_product = Product::latest();\n+            return view('admin.variant_product', compact('list_product'));\n          }else{\n              return view('admin.login');\n          }\n     }\n"
                },
                {
                    "date": 1719568540291,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -199,9 +199,9 @@\n \n \n     public function listvariant(){\n         if(Session::has('id_superadmin')){\n-            $list_product = Product::latest();\n+            $list_product = Product::latest()->get();\n             return view('admin.variant_product', compact('list_product'));\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1719568599572,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -244,8 +244,37 @@\n \n \n         }\n     }\n+    public function addproductadmin(Request $request){\n+        // $id_productvariant = $request->id_variant_product;\n+        $nama_product = $request->add_nama_produk;\n+        $harga_product = $request->add_hrg_produk;\n+        $discount_product = $request->add_dsc_produk;\n+        $desc_product =  $request->add_desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('add_gbr_produk')) {\n+            $file_product = $request->file('add_gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+           \n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $products_id = $myproduk->id;\n+            $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n+\n+\n+        }else{\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n+\n+\n+        }\n+    }\n     \n \n \n     /**\n"
                },
                {
                    "date": 1719568606014,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -244,11 +244,12 @@\n \n \n         }\n     }\n-    public function addproductadmin(Request $request){\n+    public function addvariantproductadmin(Request $request){\n         // $id_productvariant = $request->id_variant_product;\n         $nama_product = $request->add_nama_produk;\n+        $nama_product = $request->add_nama_produk;\n         $harga_product = $request->add_hrg_produk;\n         $discount_product = $request->add_dsc_produk;\n         $desc_product =  $request->add_desc_produk;\n         $status_gbr_product = \"\";\n"
                },
                {
                    "date": 1719568612449,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -245,9 +245,9 @@\n \n         }\n     }\n     public function addvariantproductadmin(Request $request){\n-        // $id_productvariant = $request->id_variant_product;\n+        // $id_productvariant = $request->add_pil_produk;\n         $nama_product = $request->add_nama_produk;\n         $nama_product = $request->add_nama_produk;\n         $harga_product = $request->add_hrg_produk;\n         $discount_product = $request->add_dsc_produk;\n"
                },
                {
                    "date": 1719568620400,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -245,9 +245,9 @@\n \n         }\n     }\n     public function addvariantproductadmin(Request $request){\n-        // $id_productvariant = $request->add_pil_produk;\n+        $pilihan_productvariant = $request->add_pil_produk;\n         $nama_product = $request->add_nama_produk;\n         $nama_product = $request->add_nama_produk;\n         $harga_product = $request->add_hrg_produk;\n         $discount_product = $request->add_dsc_produk;\n"
                },
                {
                    "date": 1719568668444,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -246,10 +246,10 @@\n         }\n     }\n     public function addvariantproductadmin(Request $request){\n         $pilihan_productvariant = $request->add_pil_produk;\n+        // $nama_product = $request->add_nama_produk;\n         $nama_product = $request->add_nama_produk;\n-        $nama_product = $request->add_nama_produk;\n         $harga_product = $request->add_hrg_produk;\n         $discount_product = $request->add_dsc_produk;\n         $desc_product =  $request->add_desc_produk;\n         $status_gbr_product = \"\";\n@@ -261,9 +261,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $myproduk = ProductVariant::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n"
                },
                {
                    "date": 1719568676553,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -265,13 +265,13 @@\n             $myproduk = ProductVariant::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n-            Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n+            ProductVariant::where(['id' => $products_id ])->update(['images' => $nama_file]);\n \n \n         }else{\n-            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n+            ProductVariant::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n \n \n         }\n     }\n"
                },
                {
                    "date": 1719568695158,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -254,9 +254,9 @@\n         $desc_product =  $request->add_desc_produk;\n         $status_gbr_product = \"\";\n         if($request->hasFile('add_gbr_produk')) {\n             $file_product = $request->file('add_gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n+            $tujuan_upload = public_path('images/variant');\n             // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n            \n             $status_gbr_product = \"ada\";\n         }\n"
                },
                {
                    "date": 1719568721715,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -250,9 +250,9 @@\n         // $nama_product = $request->add_nama_produk;\n         $nama_product = $request->add_nama_produk;\n         $harga_product = $request->add_hrg_produk;\n         $discount_product = $request->add_dsc_produk;\n-        $desc_product =  $request->add_desc_produk;\n+        // $desc_product =  $request->add_desc_produk;\n         $status_gbr_product = \"\";\n         if($request->hasFile('add_gbr_produk')) {\n             $file_product = $request->file('add_gbr_produk');\n             $tujuan_upload = public_path('images/variant');\n@@ -261,9 +261,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            $myproduk = ProductVariant::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $myproduk = ProductVariant::create([\"descriptions\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             ProductVariant::where(['id' => $products_id ])->update(['images' => $nama_file]);\n"
                },
                {
                    "date": 1719568760108,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -246,10 +246,10 @@\n         }\n     }\n     public function addvariantproductadmin(Request $request){\n         $pilihan_productvariant = $request->add_pil_produk;\n-        // $nama_product = $request->add_nama_produk;\n         $nama_product = $request->add_nama_produk;\n+        $nama_product = $request->add_nama_produk;\n         $harga_product = $request->add_hrg_produk;\n         $discount_product = $request->add_dsc_produk;\n         // $desc_product =  $request->add_desc_produk;\n         $status_gbr_product = \"\";\n@@ -261,9 +261,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            $myproduk = ProductVariant::create([\"descriptions\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"descriptions\" => $nama_product,  \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             ProductVariant::where(['id' => $products_id ])->update(['images' => $nama_file]);\n"
                },
                {
                    "date": 1719568773383,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -261,9 +261,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"descriptions\" => $nama_product,  \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"id_product\" => $pilihan_productvariant,\"descriptions\" => $nama_product,  \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             ProductVariant::where(['id' => $products_id ])->update(['images' => $nama_file]);\n"
                },
                {
                    "date": 1719568788909,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -261,9 +261,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"id_product\" => $pilihan_productvariant,\"descriptions\" => $nama_product,  \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product,\"descriptions\" => $nama_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             ProductVariant::where(['id' => $products_id ])->update(['images' => $nama_file]);\n"
                },
                {
                    "date": 1719568799173,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -261,9 +261,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product,\"descriptions\" => $nama_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             ProductVariant::where(['id' => $products_id ])->update(['images' => $nama_file]);\n"
                },
                {
                    "date": 1719568849359,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -261,9 +261,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => \"0\", \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             ProductVariant::where(['id' => $products_id ])->update(['images' => $nama_file]);\n"
                },
                {
                    "date": 1719568856438,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -261,9 +261,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => \"0\", \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             ProductVariant::where(['id' => $products_id ])->update(['images' => $nama_file]);\n"
                },
                {
                    "date": 1719568893120,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -269,9 +269,9 @@\n             ProductVariant::where(['id' => $products_id ])->update(['images' => $nama_file]);\n \n \n         }else{\n-            ProductVariant::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n+            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n \n \n         }\n     }\n"
                },
                {
                    "date": 1719568917267,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -263,9 +263,9 @@\n        \n         if($status_gbr_product == \"ada\"){\n             $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n-            $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+            $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             ProductVariant::where(['id' => $products_id ])->update(['images' => $nama_file]);\n \n \n"
                },
                {
                    "date": 1719569053088,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -265,9 +265,9 @@\n             $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n-            ProductVariant::where(['id' => $products_id ])->update(['images' => $nama_file]);\n+            ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n \n \n         }else{\n             $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n"
                },
                {
                    "date": 1719569339820,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -266,10 +266,10 @@\n             $products_id = $myproduk->id;\n             $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n+            ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n \n-\n         }else{\n             $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n \n \n"
                },
                {
                    "date": 1719569357693,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -266,9 +266,9 @@\n             $products_id = $myproduk->id;\n             $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n-            ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n+            Product::where(['id' => $products_id ])->update(['has_varitans' => $nama_file]);\n \n         }else{\n             $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n \n"
                },
                {
                    "date": 1719569363874,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -266,9 +266,9 @@\n             $products_id = $myproduk->id;\n             $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n-            Product::where(['id' => $products_id ])->update(['has_varitans' => $nama_file]);\n+            Product::where(['id' => $products_id ])->update(['has_variants' => 1]);\n \n         }else{\n             $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n \n"
                },
                {
                    "date": 1719569381343,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -266,9 +266,9 @@\n             $products_id = $myproduk->id;\n             $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n-            Product::where(['id' => $products_id ])->update(['has_variants' => 1]);\n+            Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n         }else{\n             $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n \n"
                },
                {
                    "date": 1719572773876,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,349 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n+use App\\Models\\TransactionHistory;\n+use App\\Models\\ProductVariant;\n+\n+\n+use DataTables;\n+use Hash;\n+use Session;\n+use DB;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+    public function listproduk(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n+   \n+    }\n+    public function getlistproduk(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Product::latest();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listuser(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.user');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistuser(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Visitor::all();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.transaction');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getInvoiceDetailAdmin(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+                    $hasil = \"\";\n+      \n+                    foreach($myproduct as $mp){\n+                        $variant = \"Tidak Ada\";\n+                        if($mp->variant_descriptions != null){\n+                            $variant = $mp->variant_descriptions;\n+                        }\n+                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+                    }\n+        return response()->json(['output' => $hasil]);\n+    }\n+    public function getdetailproductadmin(Request $request){\n+        $id_product = $request->idproduct;\n+        $hasil = \"\";\n+        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = Product::where(\"id\",'=',$id_product)->get();\n+        foreach($myproduct as $mp){\n+           \n+            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        }\n+        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n+    }\n+    public function editproductadmin(Request $request){\n+        $id_product = $request->id_product;\n+        $nama_product = $request->nama_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+        $desc_produk = $request->desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n+\n+        }else{\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n+\n+        }\n+    }\n+\n+    public function editproductvariantadmin(Request $request){\n+        $id_productvariant = $request->id_variant_product;\n+        $nama_product = $request->desc_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+    \n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/variant');\n+            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n+\n+        }else{\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n+\n+        }\n+    }\n+\n+    public function getdetailvariantproductadmin(Request $request){\n+        $id_productvariant = $request->idproductvariant;\n+        $hasil = \"\";\n+        // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = ProductVariant::where(\"id\",'=',$id_productvariant)->get();\n+        // foreach($myproduct as $mp){\n+           \n+        //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        // }\n+        return response()->json(['output' => \"-\", \"output_proudct\"=>$products]);\n+    }\n+\n+\n+\n+    public function listvariant(){\n+        if(Session::has('id_superadmin')){\n+            $list_product = Product::latest()->get();\n+            return view('admin.variant_product', compact('list_product'));\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistvariant(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\", \"product.images\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function addproductadmin(Request $request){\n+        // $id_productvariant = $request->id_variant_product;\n+        $nama_product = $request->add_nama_produk;\n+        $harga_product = $request->add_hrg_produk;\n+        $discount_product = $request->add_dsc_produk;\n+        $desc_product =  $request->add_desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('add_gbr_produk')) {\n+            $file_product = $request->file('add_gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+           \n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $products_id = $myproduk->id;\n+            $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n+\n+\n+        }else{\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n+\n+\n+        }\n+    }\n+    public function addvariantproductadmin(Request $request){\n+        $pilihan_productvariant = $request->add_pil_produk;\n+        $nama_product = $request->add_nama_produk;\n+        $nama_product = $request->add_nama_produk;\n+        $harga_product = $request->add_hrg_produk;\n+        $discount_product = $request->add_dsc_produk;\n+        // $desc_product =  $request->add_desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('add_gbr_produk')) {\n+            $file_product = $request->file('add_gbr_produk');\n+            $tujuan_upload = public_path('images/variant');\n+            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+           \n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $products_id = $myproduk->id;\n+            $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n+            Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n+\n+        }else{\n+            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n+\n+        }\n+    }\n+    public function changestatusvariant(){\n+        \n+    }\n+    \n+\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719572780087,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -274,9 +274,9 @@\n             Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n         }\n     }\n-    public function changestatusvariant(){\n+    public function changestatusvariant(Request $reqeust){\n         \n     }\n     \n \n@@ -345,351 +345,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use App\\Models\\Product;\n-use App\\Models\\Transaction;\n-use App\\Models\\TransactionHistory;\n-use App\\Models\\ProductVariant;\n-\n-\n-use DataTables;\n-use Hash;\n-use Session;\n-use DB;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-\n-        if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index', compact('visitor','product','transaction'));\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myadmin->count() > 0){\n-            if(Hash::check($password, $myadmin[0]->pass)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n-        \n-    }\n-    public function listproduk(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.product');\n-         }else{\n-             return view('admin.login');\n-         }\n-   \n-    }\n-    public function getlistproduk(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listuser(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.user');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistuser(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Visitor::all();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listtrx(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.transaction');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlisttrx(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getInvoiceDetailAdmin(Request $request ){\n-        $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n-                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n-                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n-                    ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-                    $hasil = \"\";\n-      \n-                    foreach($myproduct as $mp){\n-                        $variant = \"Tidak Ada\";\n-                        if($mp->variant_descriptions != null){\n-                            $variant = $mp->variant_descriptions;\n-                        }\n-                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n-                    }\n-        return response()->json(['output' => $hasil]);\n-    }\n-    public function getdetailproductadmin(Request $request){\n-        $id_product = $request->idproduct;\n-        $hasil = \"\";\n-        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = Product::where(\"id\",'=',$id_product)->get();\n-        foreach($myproduct as $mp){\n-           \n-            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        }\n-        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n-    }\n-    public function editproductadmin(Request $request){\n-        $id_product = $request->id_product;\n-        $nama_product = $request->nama_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n-        $desc_produk = $request->desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('gbr_produk')) {\n-            $file_product = $request->file('gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n-            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n-\n-        }else{\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n-\n-        }\n-    }\n-\n-    public function editproductvariantadmin(Request $request){\n-        $id_productvariant = $request->id_variant_product;\n-        $nama_product = $request->desc_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n-    \n-        $status_gbr_product = \"\";\n-        if($request->hasFile('gbr_produk')) {\n-            $file_product = $request->file('gbr_produk');\n-            $tujuan_upload = public_path('images/variant');\n-            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n-\n-        }else{\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n-\n-        }\n-    }\n-\n-    public function getdetailvariantproductadmin(Request $request){\n-        $id_productvariant = $request->idproductvariant;\n-        $hasil = \"\";\n-        // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = ProductVariant::where(\"id\",'=',$id_productvariant)->get();\n-        // foreach($myproduct as $mp){\n-           \n-        //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        // }\n-        return response()->json(['output' => \"-\", \"output_proudct\"=>$products]);\n-    }\n-\n-\n-\n-    public function listvariant(){\n-        if(Session::has('id_superadmin')){\n-            $list_product = Product::latest()->get();\n-            return view('admin.variant_product', compact('list_product'));\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistvariant(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\", \"product.images\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function addproductadmin(Request $request){\n-        // $id_productvariant = $request->id_variant_product;\n-        $nama_product = $request->add_nama_produk;\n-        $harga_product = $request->add_hrg_produk;\n-        $discount_product = $request->add_dsc_produk;\n-        $desc_product =  $request->add_desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('add_gbr_produk')) {\n-            $file_product = $request->file('add_gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n-            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-           \n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-            $products_id = $myproduk->id;\n-            $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n-\n-\n-        }else{\n-            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n-\n-\n-        }\n-    }\n-    public function addvariantproductadmin(Request $request){\n-        $pilihan_productvariant = $request->add_pil_produk;\n-        $nama_product = $request->add_nama_produk;\n-        $nama_product = $request->add_nama_produk;\n-        $harga_product = $request->add_hrg_produk;\n-        $discount_product = $request->add_dsc_produk;\n-        // $desc_product =  $request->add_desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('add_gbr_produk')) {\n-            $file_product = $request->file('add_gbr_produk');\n-            $tujuan_upload = public_path('images/variant');\n-            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-           \n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-            $products_id = $myproduk->id;\n-            $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n-            Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n-\n-        }else{\n-            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-\n-\n-        }\n-    }\n-    \n-\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719572804116,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -274,10 +274,10 @@\n             Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n         }\n     }\n-    public function changestatusvariant(Request $reqeust){\n-        \n+    public function changestatusvariant(Request $request){\n+        $id_variant = $request->idproductvariant;\n     }\n     \n \n \n"
                },
                {
                    "date": 1719572857415,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -276,8 +276,9 @@\n         }\n     }\n     public function changestatusvariant(Request $request){\n         $id_variant = $request->idproductvariant;\n+        ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719572871872,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -276,9 +276,9 @@\n         }\n     }\n     public function changestatusvariant(Request $request){\n         $id_variant = $request->idproductvariant;\n-        ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n+        ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => $nama_file]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719572898434,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -276,9 +276,10 @@\n         }\n     }\n     public function changestatusvariant(Request $request){\n         $id_variant = $request->idproductvariant;\n-        ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => $nama_file]);\n+        $status = ProductVariant::where(\"\");\n+        ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => ]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719572915194,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -276,9 +276,9 @@\n         }\n     }\n     public function changestatusvariant(Request $request){\n         $id_variant = $request->idproductvariant;\n-        $status = ProductVariant::where(\"\");\n+        $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n         ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => ]);\n     }\n     \n \n"
                },
                {
                    "date": 1719572942918,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -277,8 +277,9 @@\n     }\n     public function changestatusvariant(Request $request){\n         $id_variant = $request->idproductvariant;\n         $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n+        $status_variant = $status[0]['variant_status'];\n         ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => ]);\n     }\n     \n \n"
                },
                {
                    "date": 1719572977975,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -278,8 +278,12 @@\n     public function changestatusvariant(Request $request){\n         $id_variant = $request->idproductvariant;\n         $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n         $status_variant = $status[0]['variant_status'];\n+        $ganti = \"0\";\n+        if($status_variant == \"0\"){\n+\n+        }\n         ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => ]);\n     }\n     \n \n"
                },
                {
                    "date": 1719572983329,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -280,9 +280,9 @@\n         $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n         $status_variant = $status[0]['variant_status'];\n         $ganti = \"0\";\n         if($status_variant == \"0\"){\n-\n+            $ganti = \"0\";\n         }\n         ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => ]);\n     }\n     \n"
                },
                {
                    "date": 1719572994495,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -280,10 +280,13 @@\n         $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n         $status_variant = $status[0]['variant_status'];\n         $ganti = \"0\";\n         if($status_variant == \"0\"){\n-            $ganti = \"0\";\n+            $ganti = \"1\";\n         }\n+        else{\n+            $ganti =\"0\";\n+        }\n         ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => ]);\n     }\n     \n \n"
                },
                {
                    "date": 1719573000825,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -285,9 +285,9 @@\n         }\n         else{\n             $ganti =\"0\";\n         }\n-        ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => ]);\n+        ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => $ganti]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719573518343,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -287,8 +287,11 @@\n             $ganti =\"0\";\n         }\n         ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => $ganti]);\n     }\n+    public function changestatusproduct(Request $request){\n+        \n+    }\n     \n \n \n     /**\n"
                },
                {
                    "date": 1719573525225,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -288,9 +288,19 @@\n         }\n         ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => $ganti]);\n     }\n     public function changestatusproduct(Request $request){\n-        \n+        $id_product = $request->idproductvariant;\n+        $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n+        $status_variant = $status[0]['variant_status'];\n+        $ganti = \"0\";\n+        if($status_variant == \"0\"){\n+            $ganti = \"1\";\n+        }\n+        else{\n+            $ganti =\"0\";\n+        }\n+        ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => $ganti]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719573536897,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -288,9 +288,9 @@\n         }\n         ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => $ganti]);\n     }\n     public function changestatusproduct(Request $request){\n-        $id_product = $request->idproductvariant;\n+        $id_product = $request->idproduct;\n         $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n         $status_variant = $status[0]['variant_status'];\n         $ganti = \"0\";\n         if($status_variant == \"0\"){\n"
                },
                {
                    "date": 1719573546581,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -289,9 +289,9 @@\n         ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => $ganti]);\n     }\n     public function changestatusproduct(Request $request){\n         $id_product = $request->idproduct;\n-        $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n+        $status = Product::where(\"id\",'=',$id_product)->get();\n         $status_variant = $status[0]['variant_status'];\n         $ganti = \"0\";\n         if($status_variant == \"0\"){\n             $ganti = \"1\";\n"
                },
                {
                    "date": 1719573564106,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -290,9 +290,9 @@\n     }\n     public function changestatusproduct(Request $request){\n         $id_product = $request->idproduct;\n         $status = Product::where(\"id\",'=',$id_product)->get();\n-        $status_variant = $status[0]['variant_status'];\n+        $status_variant = $status[0]['product_status'];\n         $ganti = \"0\";\n         if($status_variant == \"0\"){\n             $ganti = \"1\";\n         }\n"
                },
                {
                    "date": 1719573574831,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -290,17 +290,17 @@\n     }\n     public function changestatusproduct(Request $request){\n         $id_product = $request->idproduct;\n         $status = Product::where(\"id\",'=',$id_product)->get();\n-        $status_variant = $status[0]['product_status'];\n+        $status_product = $status[0]['product_status'];\n         $ganti = \"0\";\n         if($status_variant == \"0\"){\n             $ganti = \"1\";\n         }\n         else{\n             $ganti =\"0\";\n         }\n-        ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => $ganti]);\n+        ProductVariant::where(['id' => $id_variant ])->update(['product_status' => $ganti]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719573587282,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -292,15 +292,15 @@\n         $id_product = $request->idproduct;\n         $status = Product::where(\"id\",'=',$id_product)->get();\n         $status_product = $status[0]['product_status'];\n         $ganti = \"0\";\n-        if($status_variant == \"0\"){\n+        if($status_product == \"0\"){\n             $ganti = \"1\";\n         }\n         else{\n             $ganti =\"0\";\n         }\n-        ProductVariant::where(['id' => $id_variant ])->update(['product_status' => $ganti]);\n+        Product::where(['id' => $id_variant ])->update(['product_status' => $ganti]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719573835190,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -131,9 +131,9 @@\n         $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n         $products = Product::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n            \n-            $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+            $hasil .= '<tr><td><img src  = \"{{asset(\"images/variant/'.$mp->gambar_produk.'\")}}\"></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n     public function editproductadmin(Request $request){\n@@ -298,9 +298,9 @@\n         }\n         else{\n             $ganti =\"0\";\n         }\n-        Product::where(['id' => $id_variant ])->update(['product_status' => $ganti]);\n+        Product::where(['id' => $id_product ])->update(['product_status' => $ganti]);\n     }\n     \n \n \n"
                },
                {
                    "date": 1719573852609,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -131,9 +131,9 @@\n         $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n         $products = Product::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n            \n-            $hasil .= '<tr><td><img src  = \"{{asset(\"images/variant/'.$mp->gambar_produk.'\")}}\"></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+            $hasil .= '<tr><td><img src  = \"'.$mp->gambar_produk.'\"></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n     public function editproductadmin(Request $request){\n"
                },
                {
                    "date": 1719573858806,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -131,9 +131,9 @@\n         $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n         $products = Product::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n            \n-            $hasil .= '<tr><td><img src  = \"'.$mp->gambar_produk.'\"></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+            $hasil .= '<tr><td></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n     public function editproductadmin(Request $request){\n"
                },
                {
                    "date": 1719573885611,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -130,9 +130,9 @@\n         $hasil = \"\";\n         $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n         $products = Product::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n-           \n+           $gambar = public_path('images/product');\n             $hasil .= '<tr><td></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n"
                },
                {
                    "date": 1719573919835,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -130,9 +130,10 @@\n         $hasil = \"\";\n         $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n         $products = Product::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n-           $gambar = public_path('images/product');\n+           $gambar = public_path('images/variant/product_variant'.$id_product);\n+\n             $hasil .= '<tr><td></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n"
                },
                {
                    "date": 1719573958341,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -130,9 +130,9 @@\n         $hasil = \"\";\n         $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n         $products = Product::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n-           $gambar = public_path('images/variant/product_variant'.$id_product);\n+           $gambar = public_path('images/variant/'.$mp->images_variant);\n \n             $hasil .= '<tr><td></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n"
                },
                {
                    "date": 1719573967760,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -132,9 +132,9 @@\n         $products = Product::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n            $gambar = public_path('images/variant/'.$mp->images_variant);\n \n-            $hasil .= '<tr><td></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+            $hasil .= '<tr><td>'.$gambar.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n     public function editproductadmin(Request $request){\n"
                },
                {
                    "date": 1719574011617,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -132,9 +132,9 @@\n         $products = Product::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n            $gambar = public_path('images/variant/'.$mp->images_variant);\n \n-            $hasil .= '<tr><td>'.$gambar.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+            $hasil .= '<tr><td>'.$mp->images_variant.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n     public function editproductadmin(Request $request){\n"
                },
                {
                    "date": 1719574046025,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -132,9 +132,9 @@\n         $products = Product::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n            $gambar = public_path('images/variant/'.$mp->images_variant);\n \n-            $hasil .= '<tr><td>'.$mp->images_variant.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+            $hasil .= '<tr><td><img src = \"'.$gambar.'\"</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n     public function editproductadmin(Request $request){\n"
                },
                {
                    "date": 1719574078123,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -130,11 +130,11 @@\n         $hasil = \"\";\n         $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n         $products = Product::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n-           $gambar = public_path('images/variant/'.$mp->images_variant);\n+           $gambar = asset('images/variant/'.$mp->images_variant);\n \n-            $hasil .= '<tr><td><img src = \"'.$gambar.'\"</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+            $hasil .= '<tr><td><img src = \"{{url}}\"</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n     public function editproductadmin(Request $request){\n"
                },
                {
                    "date": 1719574085371,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -132,9 +132,9 @@\n         $products = Product::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n            $gambar = asset('images/variant/'.$mp->images_variant);\n \n-            $hasil .= '<tr><td><img src = \"{{url}}\"</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+            $hasil .= '<tr><td><img src = \"'.$gambar'\"</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n     public function editproductadmin(Request $request){\n"
                },
                {
                    "date": 1719574118800,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -132,9 +132,9 @@\n         $products = Product::where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n            $gambar = asset('images/variant/'.$mp->images_variant);\n \n-            $hasil .= '<tr><td><img src = \"'.$gambar'\"</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+            $hasil .= '<tr><td><img src = \"'.$gambar.'\" style = \"width:50px;height:50px;\"></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n     public function editproductadmin(Request $request){\n"
                },
                {
                    "date": 1719574267191,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -300,8 +300,10 @@\n         else{\n             $ganti =\"0\";\n         }\n         Product::where(['id' => $id_product ])->update(['product_status' => $ganti]);\n+        return response()->json(['output' => $hasil]);\n+\n     }\n     \n \n \n"
                },
                {
                    "date": 1719574275437,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -287,8 +287,9 @@\n         else{\n             $ganti =\"0\";\n         }\n         ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => $ganti]);\n+        return response()->json(['output' => \"ok\"]);\n     }\n     public function changestatusproduct(Request $request){\n         $id_product = $request->idproduct;\n         $status = Product::where(\"id\",'=',$id_product)->get();\n@@ -300,9 +301,9 @@\n         else{\n             $ganti =\"0\";\n         }\n         Product::where(['id' => $id_product ])->update(['product_status' => $ganti]);\n-        return response()->json(['output' => $hasil]);\n+        return response()->json(['output' => \"ok\"]);\n \n     }\n     \n \n"
                },
                {
                    "date": 1720020469598,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -246,36 +246,36 @@\n \n         }\n     }\n     public function addvariantproductadmin(Request $request){\n-        $pilihan_productvariant = $request->add_pil_produk;\n-        $nama_product = $request->add_nama_produk;\n-        $nama_product = $request->add_nama_produk;\n-        $harga_product = $request->add_hrg_produk;\n-        $discount_product = $request->add_dsc_produk;\n-        // $desc_product =  $request->add_desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('add_gbr_produk')) {\n-            $file_product = $request->file('add_gbr_produk');\n-            $tujuan_upload = public_path('images/variant');\n-            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+        // $pilihan_productvariant = $request->add_pil_produk;\n+        // $nama_product = $request->add_nama_produk;\n+        // $nama_product = $request->add_nama_produk;\n+        // $harga_product = $request->add_hrg_produk;\n+        // $discount_product = $request->add_dsc_produk;\n+        // // $desc_product =  $request->add_desc_produk;\n+        // $status_gbr_product = \"\";\n+        // if($request->hasFile('add_gbr_produk')) {\n+        //     $file_product = $request->file('add_gbr_produk');\n+        //     $tujuan_upload = public_path('images/variant');\n+        //     // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n            \n-            $status_gbr_product = \"ada\";\n-        }\n+        //     $status_gbr_product = \"ada\";\n+        // }\n        \n-        if($status_gbr_product == \"ada\"){\n-            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-            $products_id = $myproduk->id;\n-            $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n-            Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n+        // if($status_gbr_product == \"ada\"){\n+        //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+        //     $products_id = $myproduk->id;\n+        //     $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+        //     $file_product->move($tujuan_upload, $nama_file);\n+        //     ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n+        //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n-        }else{\n-            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-            Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n+        // }else{\n+        //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+        //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n-        }\n+        // }\n     }\n     public function changestatusvariant(Request $request){\n         $id_variant = $request->idproductvariant;\n         $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n"
                },
                {
                    "date": 1720020552186,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -274,8 +274,9 @@\n         //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n         //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n         // }\n+        \n     }\n     public function changestatusvariant(Request $request){\n         $id_variant = $request->idproductvariant;\n         $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n"
                },
                {
                    "date": 1720020560321,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -274,9 +274,9 @@\n         //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n         //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n         // }\n-        \n+        return response()->json(['output' => $request]);\n     }\n     public function changestatusvariant(Request $request){\n         $id_variant = $request->idproductvariant;\n         $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n"
                },
                {
                    "date": 1720020571980,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -274,9 +274,9 @@\n         //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n         //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n         // }\n-        return response()->json(['output' => $request]);\n+        return response()->json(['output' => $request->add_nama_produk[0]]);\n     }\n     public function changestatusvariant(Request $request){\n         $id_variant = $request->idproductvariant;\n         $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n"
                },
                {
                    "date": 1720020654848,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -246,37 +246,37 @@\n \n         }\n     }\n     public function addvariantproductadmin(Request $request){\n-        // $pilihan_productvariant = $request->add_pil_produk;\n-        // $nama_product = $request->add_nama_produk;\n-        // $nama_product = $request->add_nama_produk;\n-        // $harga_product = $request->add_hrg_produk;\n-        // $discount_product = $request->add_dsc_produk;\n-        // // $desc_product =  $request->add_desc_produk;\n-        // $status_gbr_product = \"\";\n-        // if($request->hasFile('add_gbr_produk')) {\n-        //     $file_product = $request->file('add_gbr_produk');\n-        //     $tujuan_upload = public_path('images/variant');\n-        //     // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+        $pilihan_productvariant = $request->add_pil_produk;\n+        $nama_product = $request->add_nama_produk;\n+        $nama_product = $request->add_nama_produk;\n+        $harga_product = $request->add_hrg_produk;\n+        $discount_product = $request->add_dsc_produk;\n+        // $desc_product =  $request->add_desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('add_gbr_produk')) {\n+            $file_product = $request->file('add_gbr_produk');\n+            $tujuan_upload = public_path('images/variant');\n+            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n            \n-        //     $status_gbr_product = \"ada\";\n-        // }\n+            $status_gbr_product = \"ada\";\n+        }\n        \n-        // if($status_gbr_product == \"ada\"){\n-        //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-        //     $products_id = $myproduk->id;\n-        //     $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n-        //     $file_product->move($tujuan_upload, $nama_file);\n-        //     ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n-        //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n+        if($status_gbr_product == \"ada\"){\n+            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $products_id = $myproduk->id;\n+            $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n+            Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n-        // }else{\n-        //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-        //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n+        }else{\n+            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n-        // }\n-        return response()->json(['output' => $request->add_nama_produk[0]]);\n+        }\n+        // return response()->json(['output' => $request->add_nama_produk[0]]);\n     }\n     public function changestatusvariant(Request $request){\n         $id_variant = $request->idproductvariant;\n         $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n"
                },
                {
                    "date": 1720020856057,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -246,8 +246,9 @@\n \n         }\n     }\n     public function addvariantproductadmin(Request $request){\n+        \n         $pilihan_productvariant = $request->add_pil_produk;\n         $nama_product = $request->add_nama_produk;\n         $nama_product = $request->add_nama_produk;\n         $harga_product = $request->add_hrg_produk;\n"
                },
                {
                    "date": 1720020909304,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -246,9 +246,10 @@\n \n         }\n     }\n     public function addvariantproductadmin(Request $request){\n-        \n+        $data = $request->all();\n+        foreach()\n         $pilihan_productvariant = $request->add_pil_produk;\n         $nama_product = $request->add_nama_produk;\n         $nama_product = $request->add_nama_produk;\n         $harga_product = $request->add_hrg_produk;\n"
                },
                {
                    "date": 1720020917026,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -247,9 +247,11 @@\n         }\n     }\n     public function addvariantproductadmin(Request $request){\n         $data = $request->all();\n-        foreach()\n+        foreach($data as dat){\n+            \n+        }\n         $pilihan_productvariant = $request->add_pil_produk;\n         $nama_product = $request->add_nama_produk;\n         $nama_product = $request->add_nama_produk;\n         $harga_product = $request->add_hrg_produk;\n"
                },
                {
                    "date": 1720020928798,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -247,39 +247,39 @@\n         }\n     }\n     public function addvariantproductadmin(Request $request){\n         $data = $request->all();\n-        foreach($data as dat){\n+        foreach $data as dat {\n             \n         }\n-        $pilihan_productvariant = $request->add_pil_produk;\n-        $nama_product = $request->add_nama_produk;\n-        $nama_product = $request->add_nama_produk;\n-        $harga_product = $request->add_hrg_produk;\n-        $discount_product = $request->add_dsc_produk;\n-        // $desc_product =  $request->add_desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('add_gbr_produk')) {\n-            $file_product = $request->file('add_gbr_produk');\n-            $tujuan_upload = public_path('images/variant');\n-            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+        // $pilihan_productvariant = $request->add_pil_produk;\n+        // $nama_product = $request->add_nama_produk;\n+        // $nama_product = $request->add_nama_produk;\n+        // $harga_product = $request->add_hrg_produk;\n+        // $discount_product = $request->add_dsc_produk;\n+        // // $desc_product =  $request->add_desc_produk;\n+        // $status_gbr_product = \"\";\n+        // if($request->hasFile('add_gbr_produk')) {\n+        //     $file_product = $request->file('add_gbr_produk');\n+        //     $tujuan_upload = public_path('images/variant');\n+        //     // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n            \n-            $status_gbr_product = \"ada\";\n-        }\n+        //     $status_gbr_product = \"ada\";\n+        // }\n        \n-        if($status_gbr_product == \"ada\"){\n-            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-            $products_id = $myproduk->id;\n-            $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n-            Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n+        // if($status_gbr_product == \"ada\"){\n+        //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+        //     $products_id = $myproduk->id;\n+        //     $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+        //     $file_product->move($tujuan_upload, $nama_file);\n+        //     ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n+        //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n-        }else{\n-            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-            Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n+        // }else{\n+        //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+        //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n-        }\n+        // }\n         // return response()->json(['output' => $request->add_nama_produk[0]]);\n     }\n     public function changestatusvariant(Request $request){\n         $id_variant = $request->idproductvariant;\n"
                },
                {
                    "date": 1720020941496,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -247,9 +247,9 @@\n         }\n     }\n     public function addvariantproductadmin(Request $request){\n         $data = $request->all();\n-        foreach $data as dat {\n+        foreach( $data as $dat){\n             \n         }\n         // $pilihan_productvariant = $request->add_pil_produk;\n         // $nama_product = $request->add_nama_produk;\n"
                },
                {
                    "date": 1720020953882,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -247,8 +247,9 @@\n         }\n     }\n     public function addvariantproductadmin(Request $request){\n         $data = $request->all();\n+        $myallname = \"\";\n         foreach( $data as $dat){\n             \n         }\n         // $pilihan_productvariant = $request->add_pil_produk;\n"
                },
                {
                    "date": 1720020964110,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -279,9 +279,9 @@\n         //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n         //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n         // }\n-        // return response()->json(['output' => $request->add_nama_produk[0]]);\n+        return response()->json(['output' => $myallname);\n     }\n     public function changestatusvariant(Request $request){\n         $id_variant = $request->idproductvariant;\n         $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n"
                },
                {
                    "date": 1720020999087,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -249,9 +249,9 @@\n     public function addvariantproductadmin(Request $request){\n         $data = $request->all();\n         $myallname = \"\";\n         foreach( $data as $dat){\n-            \n+            $myallname .= $dat->add_nama_produk;\n         }\n         // $pilihan_productvariant = $request->add_pil_produk;\n         // $nama_product = $request->add_nama_produk;\n         // $nama_product = $request->add_nama_produk;\n@@ -279,9 +279,9 @@\n         //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n         //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n         // }\n-        return response()->json(['output' => $myallname);\n+        return response()->json(['output' => $myallname]);\n     }\n     public function changestatusvariant(Request $request){\n         $id_variant = $request->idproductvariant;\n         $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n"
                },
                {
                    "date": 1720021051064,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -249,9 +249,9 @@\n     public function addvariantproductadmin(Request $request){\n         $data = $request->all();\n         $myallname = \"\";\n         foreach( $data as $dat){\n-            $myallname .= $dat->add_nama_produk;\n+            $myallname .= $dat['add_nama_produk'];\n         }\n         // $pilihan_productvariant = $request->add_pil_produk;\n         // $nama_product = $request->add_nama_produk;\n         // $nama_product = $request->add_nama_produk;\n"
                },
                {
                    "date": 1720021076029,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -248,10 +248,10 @@\n     }\n     public function addvariantproductadmin(Request $request){\n         $data = $request->all();\n         $myallname = \"\";\n-        foreach( $data as $dat){\n-            $myallname .= $dat['add_nama_produk'];\n+        foreach( $data as $value => $dat){\n+            $myallname .= $dat['add_nama_produk'][0];\n         }\n         // $pilihan_productvariant = $request->add_pil_produk;\n         // $nama_product = $request->add_nama_produk;\n         // $nama_product = $request->add_nama_produk;\n"
                },
                {
                    "date": 1720021082756,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -248,10 +248,10 @@\n     }\n     public function addvariantproductadmin(Request $request){\n         $data = $request->all();\n         $myallname = \"\";\n-        foreach( $data as $value => $dat){\n-            $myallname .= $dat['add_nama_produk'][0];\n+        foreach( $data as $myindex => $dat){\n+            $myallname .= $dat['add_nama_produk'][$myindex];\n         }\n         // $pilihan_productvariant = $request->add_pil_produk;\n         // $nama_product = $request->add_nama_produk;\n         // $nama_product = $request->add_nama_produk;\n"
                },
                {
                    "date": 1720021101634,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -249,9 +249,9 @@\n     public function addvariantproductadmin(Request $request){\n         $data = $request->all();\n         $myallname = \"\";\n         foreach( $data as $myindex => $dat){\n-            $myallname .= $dat['add_nama_produk'][$myindex];\n+            $myallname .= $dat;\n         }\n         // $pilihan_productvariant = $request->add_pil_produk;\n         // $nama_product = $request->add_nama_produk;\n         // $nama_product = $request->add_nama_produk;\n"
                },
                {
                    "date": 1720021120697,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -249,9 +249,9 @@\n     public function addvariantproductadmin(Request $request){\n         $data = $request->all();\n         $myallname = \"\";\n         foreach( $data as $myindex => $dat){\n-            $myallname .= $dat;\n+            $myallname .= $dat[0];\n         }\n         // $pilihan_productvariant = $request->add_pil_produk;\n         // $nama_product = $request->add_nama_produk;\n         // $nama_product = $request->add_nama_produk;\n"
                },
                {
                    "date": 1720021159790,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,382 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n+use App\\Models\\TransactionHistory;\n+use App\\Models\\ProductVariant;\n+\n+\n+use DataTables;\n+use Hash;\n+use Session;\n+use DB;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+    public function listproduk(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n+   \n+    }\n+    public function getlistproduk(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Product::latest();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listuser(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.user');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistuser(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Visitor::all();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.transaction');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getInvoiceDetailAdmin(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+                    $hasil = \"\";\n+      \n+                    foreach($myproduct as $mp){\n+                        $variant = \"Tidak Ada\";\n+                        if($mp->variant_descriptions != null){\n+                            $variant = $mp->variant_descriptions;\n+                        }\n+                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+                    }\n+        return response()->json(['output' => $hasil]);\n+    }\n+    public function getdetailproductadmin(Request $request){\n+        $id_product = $request->idproduct;\n+        $hasil = \"\";\n+        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = Product::where(\"id\",'=',$id_product)->get();\n+        foreach($myproduct as $mp){\n+           $gambar = asset('images/variant/'.$mp->images_variant);\n+\n+            $hasil .= '<tr><td><img src = \"'.$gambar.'\" style = \"width:50px;height:50px;\"></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        }\n+        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n+    }\n+    public function editproductadmin(Request $request){\n+        $id_product = $request->id_product;\n+        $nama_product = $request->nama_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+        $desc_produk = $request->desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n+\n+        }else{\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n+\n+        }\n+    }\n+\n+    public function editproductvariantadmin(Request $request){\n+        $id_productvariant = $request->id_variant_product;\n+        $nama_product = $request->desc_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+    \n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/variant');\n+            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n+\n+        }else{\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n+\n+        }\n+    }\n+\n+    public function getdetailvariantproductadmin(Request $request){\n+        $id_productvariant = $request->idproductvariant;\n+        $hasil = \"\";\n+        // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = ProductVariant::where(\"id\",'=',$id_productvariant)->get();\n+        // foreach($myproduct as $mp){\n+           \n+        //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        // }\n+        return response()->json(['output' => \"-\", \"output_proudct\"=>$products]);\n+    }\n+\n+\n+\n+    public function listvariant(){\n+        if(Session::has('id_superadmin')){\n+            $list_product = Product::latest()->get();\n+            return view('admin.variant_product', compact('list_product'));\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistvariant(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\", \"product.images\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function addproductadmin(Request $request){\n+        // $id_productvariant = $request->id_variant_product;\n+        $nama_product = $request->add_nama_produk;\n+        $harga_product = $request->add_hrg_produk;\n+        $discount_product = $request->add_dsc_produk;\n+        $desc_product =  $request->add_desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('add_gbr_produk')) {\n+            $file_product = $request->file('add_gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+           \n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $products_id = $myproduk->id;\n+            $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n+\n+\n+        }else{\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n+\n+\n+        }\n+    }\n+    public function addvariantproductadmin(Request $request){\n+        $data = $request->all();\n+        $myallname = \"\";\n+        foreach( $data as $myindex => $dat){\n+            $myallname .= $dat[0]['add_nama_produk'];\n+        }\n+        // $pilihan_productvariant = $request->add_pil_produk;\n+        // $nama_product = $request->add_nama_produk;\n+        // $nama_product = $request->add_nama_produk;\n+        // $harga_product = $request->add_hrg_produk;\n+        // $discount_product = $request->add_dsc_produk;\n+        // // $desc_product =  $request->add_desc_produk;\n+        // $status_gbr_product = \"\";\n+        // if($request->hasFile('add_gbr_produk')) {\n+        //     $file_product = $request->file('add_gbr_produk');\n+        //     $tujuan_upload = public_path('images/variant');\n+        //     // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+           \n+        //     $status_gbr_product = \"ada\";\n+        // }\n+       \n+        // if($status_gbr_product == \"ada\"){\n+        //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+        //     $products_id = $myproduk->id;\n+        //     $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+        //     $file_product->move($tujuan_upload, $nama_file);\n+        //     ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n+        //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n+\n+        // }else{\n+        //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+        //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n+\n+        // }\n+        return response()->json(['output' => $myallname]);\n+    }\n+    public function changestatusvariant(Request $request){\n+        $id_variant = $request->idproductvariant;\n+        $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n+        $status_variant = $status[0]['variant_status'];\n+        $ganti = \"0\";\n+        if($status_variant == \"0\"){\n+            $ganti = \"1\";\n+        }\n+        else{\n+            $ganti =\"0\";\n+        }\n+        ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => $ganti]);\n+        return response()->json(['output' => \"ok\"]);\n+    }\n+    public function changestatusproduct(Request $request){\n+        $id_product = $request->idproduct;\n+        $status = Product::where(\"id\",'=',$id_product)->get();\n+        $status_product = $status[0]['product_status'];\n+        $ganti = \"0\";\n+        if($status_product == \"0\"){\n+            $ganti = \"1\";\n+        }\n+        else{\n+            $ganti =\"0\";\n+        }\n+        Product::where(['id' => $id_product ])->update(['product_status' => $ganti]);\n+        return response()->json(['output' => \"ok\"]);\n+\n+    }\n+    \n+\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1720021178177,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -249,9 +249,9 @@\n     public function addvariantproductadmin(Request $request){\n         $data = $request->all();\n         $myallname = \"\";\n         foreach( $data as $myindex => $dat){\n-            $myallname .= $dat[0]['add_nama_produk'];\n+            $myallname .= $dat[0]->add_nama_produk;\n         }\n         // $pilihan_productvariant = $request->add_pil_produk;\n         // $nama_product = $request->add_nama_produk;\n         // $nama_product = $request->add_nama_produk;\n"
                },
                {
                    "date": 1720021178308,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -378,387 +378,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use App\\Models\\Product;\n-use App\\Models\\Transaction;\n-use App\\Models\\TransactionHistory;\n-use App\\Models\\ProductVariant;\n-\n-\n-use DataTables;\n-use Hash;\n-use Session;\n-use DB;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-\n-        if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index', compact('visitor','product','transaction'));\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myadmin->count() > 0){\n-            if(Hash::check($password, $myadmin[0]->pass)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n-        \n-    }\n-    public function listproduk(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.product');\n-         }else{\n-             return view('admin.login');\n-         }\n-   \n-    }\n-    public function getlistproduk(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listuser(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.user');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistuser(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Visitor::all();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listtrx(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.transaction');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlisttrx(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getInvoiceDetailAdmin(Request $request ){\n-        $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n-                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n-                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n-                    ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-                    $hasil = \"\";\n-      \n-                    foreach($myproduct as $mp){\n-                        $variant = \"Tidak Ada\";\n-                        if($mp->variant_descriptions != null){\n-                            $variant = $mp->variant_descriptions;\n-                        }\n-                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n-                    }\n-        return response()->json(['output' => $hasil]);\n-    }\n-    public function getdetailproductadmin(Request $request){\n-        $id_product = $request->idproduct;\n-        $hasil = \"\";\n-        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = Product::where(\"id\",'=',$id_product)->get();\n-        foreach($myproduct as $mp){\n-           $gambar = asset('images/variant/'.$mp->images_variant);\n-\n-            $hasil .= '<tr><td><img src = \"'.$gambar.'\" style = \"width:50px;height:50px;\"></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        }\n-        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n-    }\n-    public function editproductadmin(Request $request){\n-        $id_product = $request->id_product;\n-        $nama_product = $request->nama_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n-        $desc_produk = $request->desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('gbr_produk')) {\n-            $file_product = $request->file('gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n-            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n-\n-        }else{\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n-\n-        }\n-    }\n-\n-    public function editproductvariantadmin(Request $request){\n-        $id_productvariant = $request->id_variant_product;\n-        $nama_product = $request->desc_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n-    \n-        $status_gbr_product = \"\";\n-        if($request->hasFile('gbr_produk')) {\n-            $file_product = $request->file('gbr_produk');\n-            $tujuan_upload = public_path('images/variant');\n-            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n-\n-        }else{\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n-\n-        }\n-    }\n-\n-    public function getdetailvariantproductadmin(Request $request){\n-        $id_productvariant = $request->idproductvariant;\n-        $hasil = \"\";\n-        // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = ProductVariant::where(\"id\",'=',$id_productvariant)->get();\n-        // foreach($myproduct as $mp){\n-           \n-        //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        // }\n-        return response()->json(['output' => \"-\", \"output_proudct\"=>$products]);\n-    }\n-\n-\n-\n-    public function listvariant(){\n-        if(Session::has('id_superadmin')){\n-            $list_product = Product::latest()->get();\n-            return view('admin.variant_product', compact('list_product'));\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistvariant(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\", \"product.images\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function addproductadmin(Request $request){\n-        // $id_productvariant = $request->id_variant_product;\n-        $nama_product = $request->add_nama_produk;\n-        $harga_product = $request->add_hrg_produk;\n-        $discount_product = $request->add_dsc_produk;\n-        $desc_product =  $request->add_desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('add_gbr_produk')) {\n-            $file_product = $request->file('add_gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n-            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-           \n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-            $products_id = $myproduk->id;\n-            $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n-\n-\n-        }else{\n-            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n-\n-\n-        }\n-    }\n-    public function addvariantproductadmin(Request $request){\n-        $data = $request->all();\n-        $myallname = \"\";\n-        foreach( $data as $myindex => $dat){\n-            $myallname .= $dat[0];\n-        }\n-        // $pilihan_productvariant = $request->add_pil_produk;\n-        // $nama_product = $request->add_nama_produk;\n-        // $nama_product = $request->add_nama_produk;\n-        // $harga_product = $request->add_hrg_produk;\n-        // $discount_product = $request->add_dsc_produk;\n-        // // $desc_product =  $request->add_desc_produk;\n-        // $status_gbr_product = \"\";\n-        // if($request->hasFile('add_gbr_produk')) {\n-        //     $file_product = $request->file('add_gbr_produk');\n-        //     $tujuan_upload = public_path('images/variant');\n-        //     // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-           \n-        //     $status_gbr_product = \"ada\";\n-        // }\n-       \n-        // if($status_gbr_product == \"ada\"){\n-        //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-        //     $products_id = $myproduk->id;\n-        //     $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n-        //     $file_product->move($tujuan_upload, $nama_file);\n-        //     ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n-        //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n-\n-        // }else{\n-        //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-        //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n-\n-        // }\n-        return response()->json(['output' => $myallname]);\n-    }\n-    public function changestatusvariant(Request $request){\n-        $id_variant = $request->idproductvariant;\n-        $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n-        $status_variant = $status[0]['variant_status'];\n-        $ganti = \"0\";\n-        if($status_variant == \"0\"){\n-            $ganti = \"1\";\n-        }\n-        else{\n-            $ganti =\"0\";\n-        }\n-        ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => $ganti]);\n-        return response()->json(['output' => \"ok\"]);\n-    }\n-    public function changestatusproduct(Request $request){\n-        $id_product = $request->idproduct;\n-        $status = Product::where(\"id\",'=',$id_product)->get();\n-        $status_product = $status[0]['product_status'];\n-        $ganti = \"0\";\n-        if($status_product == \"0\"){\n-            $ganti = \"1\";\n-        }\n-        else{\n-            $ganti =\"0\";\n-        }\n-        Product::where(['id' => $id_product ])->update(['product_status' => $ganti]);\n-        return response()->json(['output' => \"ok\"]);\n-\n-    }\n-    \n-\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1720021391320,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -248,9 +248,9 @@\n     }\n     public function addvariantproductadmin(Request $request){\n         $data = $request->all();\n         $myallname = \"\";\n-        foreach( $data as $myindex => $dat){\n+        foreach( $request->add_nama_produk as $myindex => $dat){\n             $myallname .= $dat[0]->add_nama_produk;\n         }\n         // $pilihan_productvariant = $request->add_pil_produk;\n         // $nama_product = $request->add_nama_produk;\n"
                },
                {
                    "date": 1720021400114,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -249,9 +249,9 @@\n     public function addvariantproductadmin(Request $request){\n         $data = $request->all();\n         $myallname = \"\";\n         foreach( $request->add_nama_produk as $myindex => $dat){\n-            $myallname .= $dat[0]->add_nama_produk;\n+            $myallname .= $dat[$myindex]->add_nama_produk;\n         }\n         // $pilihan_productvariant = $request->add_pil_produk;\n         // $nama_product = $request->add_nama_produk;\n         // $nama_product = $request->add_nama_produk;\n"
                },
                {
                    "date": 1720021452889,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -249,9 +249,9 @@\n     public function addvariantproductadmin(Request $request){\n         $data = $request->all();\n         $myallname = \"\";\n         foreach( $request->add_nama_produk as $myindex => $dat){\n-            $myallname .= $dat[$myindex]->add_nama_produk;\n+            $myallname .= $request->add_nama_produk[$myindex];\n         }\n         // $pilihan_productvariant = $request->add_pil_produk;\n         // $nama_product = $request->add_nama_produk;\n         // $nama_product = $request->add_nama_produk;\n"
                },
                {
                    "date": 1720021488396,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -250,9 +250,9 @@\n         $data = $request->all();\n         $myallname = \"\";\n         foreach( $request->add_nama_produk as $myindex => $dat){\n             $myallname .= $request->add_nama_produk[$myindex];\n-        }\n+        \n         // $pilihan_productvariant = $request->add_pil_produk;\n         // $nama_product = $request->add_nama_produk;\n         // $nama_product = $request->add_nama_produk;\n         // $harga_product = $request->add_hrg_produk;\n@@ -279,8 +279,9 @@\n         //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n         //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n         // }\n+    }\n         return response()->json(['output' => $myallname]);\n     }\n     public function changestatusvariant(Request $request){\n         $id_variant = $request->idproductvariant;\n"
                },
                {
                    "date": 1720021493867,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -251,37 +251,37 @@\n         $myallname = \"\";\n         foreach( $request->add_nama_produk as $myindex => $dat){\n             $myallname .= $request->add_nama_produk[$myindex];\n         \n-        // $pilihan_productvariant = $request->add_pil_produk;\n-        // $nama_product = $request->add_nama_produk;\n-        // $nama_product = $request->add_nama_produk;\n-        // $harga_product = $request->add_hrg_produk;\n-        // $discount_product = $request->add_dsc_produk;\n-        // // $desc_product =  $request->add_desc_produk;\n-        // $status_gbr_product = \"\";\n-        // if($request->hasFile('add_gbr_produk')) {\n-        //     $file_product = $request->file('add_gbr_produk');\n-        //     $tujuan_upload = public_path('images/variant');\n-        //     // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+        $pilihan_productvariant = $request->add_pil_produk;\n+        $nama_product = $request->add_nama_produk;\n+        $nama_product = $request->add_nama_produk;\n+        $harga_product = $request->add_hrg_produk;\n+        $discount_product = $request->add_dsc_produk;\n+        // $desc_product =  $request->add_desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('add_gbr_produk')) {\n+            $file_product = $request->file('add_gbr_produk');\n+            $tujuan_upload = public_path('images/variant');\n+            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n            \n-        //     $status_gbr_product = \"ada\";\n-        // }\n+            $status_gbr_product = \"ada\";\n+        }\n        \n-        // if($status_gbr_product == \"ada\"){\n-        //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-        //     $products_id = $myproduk->id;\n-        //     $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n-        //     $file_product->move($tujuan_upload, $nama_file);\n-        //     ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n-        //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n+        if($status_gbr_product == \"ada\"){\n+            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $products_id = $myproduk->id;\n+            $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n+            Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n-        // }else{\n-        //     $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-        //     Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n+        }else{\n+            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n-        // }\n-    }\n+        }\n+         }\n         return response()->json(['output' => $myallname]);\n     }\n     public function changestatusvariant(Request $request){\n         $id_variant = $request->idproductvariant;\n"
                },
                {
                    "date": 1720021502064,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -251,13 +251,13 @@\n         $myallname = \"\";\n         foreach( $request->add_nama_produk as $myindex => $dat){\n             $myallname .= $request->add_nama_produk[$myindex];\n         \n-        $pilihan_productvariant = $request->add_pil_produk;\n-        $nama_product = $request->add_nama_produk;\n-        $nama_product = $request->add_nama_produk;\n-        $harga_product = $request->add_hrg_produk;\n-        $discount_product = $request->add_dsc_produk;\n+        $pilihan_productvariant = $request->add_pil_produk[$myindex];\n+        $nama_product = $request->add_nama_produk[$myindex];\n+        $nama_product = $request->add_nama_produk[$myindex];\n+        $harga_product = $request->add_hrg_produk[$myindex];\n+        $discount_product = $request->add_dsc_produk[$myindex];\n         // $desc_product =  $request->add_desc_produk;\n         $status_gbr_product = \"\";\n         if($request->hasFile('add_gbr_produk')) {\n             $file_product = $request->file('add_gbr_produk');\n"
                },
                {
                    "date": 1720021518345,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -259,9 +259,9 @@\n         $discount_product = $request->add_dsc_produk[$myindex];\n         // $desc_product =  $request->add_desc_produk;\n         $status_gbr_product = \"\";\n         if($request->hasFile('add_gbr_produk')) {\n-            $file_product = $request->file('add_gbr_produk');\n+            $file_product = $request->file('add_gbr_produk')[$myindex];\n             $tujuan_upload = public_path('images/variant');\n             // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n            \n             $status_gbr_product = \"ada\";\n"
                },
                {
                    "date": 1720022390614,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -248,12 +248,13 @@\n     }\n     public function addvariantproductadmin(Request $request){\n         $data = $request->all();\n         $myallname = \"\";\n+        $pilihan_productvariant = $request->add_pil_produk;\n         foreach( $request->add_nama_produk as $myindex => $dat){\n             $myallname .= $request->add_nama_produk[$myindex];\n         \n-        $pilihan_productvariant = $request->add_pil_produk[$myindex];\n+      \n         $nama_product = $request->add_nama_produk[$myindex];\n         $nama_product = $request->add_nama_produk[$myindex];\n         $harga_product = $request->add_hrg_produk[$myindex];\n         $discount_product = $request->add_dsc_produk[$myindex];\n"
                },
                {
                    "date": 1720797259317,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -312,8 +312,11 @@\n         Product::where(['id' => $id_product ])->update(['product_status' => $ganti]);\n         return response()->json(['output' => \"ok\"]);\n \n     }\n+    public function getlistcategory(){\n+        \n+    }\n     \n \n \n     /**\n"
                },
                {
                    "date": 1720797300936,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -313,9 +313,11 @@\n         return response()->json(['output' => \"ok\"]);\n \n     }\n     public function getlistcategory(){\n-        \n+        $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+        // $mydatalast = $data->created_at->format('d M Y');\n+         return DataTables::of($data)->make(true);\n     }\n     \n \n \n"
                },
                {
                    "date": 1720797335411,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -313,9 +313,9 @@\n         return response()->json(['output' => \"ok\"]);\n \n     }\n     public function getlistcategory(){\n-        $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+        $data = Category::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n         // $mydatalast = $data->created_at->format('d M Y');\n          return DataTables::of($data)->make(true);\n     }\n     \n"
                },
                {
                    "date": 1720797343392,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -313,9 +313,9 @@\n         return response()->json(['output' => \"ok\"]);\n \n     }\n     public function getlistcategory(){\n-        $data = Category::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+        $data = Category::>latest()->get;\n         // $mydatalast = $data->created_at->format('d M Y');\n          return DataTables::of($data)->make(true);\n     }\n     \n"
                },
                {
                    "date": 1720797359079,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,8 +8,10 @@\n use App\\Models\\Product;\n use App\\Models\\Transaction;\n use App\\Models\\TransactionHistory;\n use App\\Models\\ProductVariant;\n+use App\\Models\\ProductVariant;\n+Category\n \n \n use DataTables;\n use Hash;\n@@ -313,9 +315,9 @@\n         return response()->json(['output' => \"ok\"]);\n \n     }\n     public function getlistcategory(){\n-        $data = Category::>latest()->get;\n+        $data = Category::latest()->get();\n         // $mydatalast = $data->created_at->format('d M Y');\n          return DataTables::of($data)->make(true);\n     }\n     \n"
                },
                {
                    "date": 1720797365805,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -8,12 +8,12 @@\n use App\\Models\\Product;\n use App\\Models\\Transaction;\n use App\\Models\\TransactionHistory;\n use App\\Models\\ProductVariant;\n-use App\\Models\\ProductVariant;\n-Category\n+use App\\Models\\Category;\n \n \n+\n use DataTables;\n use Hash;\n use Session;\n use DB;\n"
                },
                {
                    "date": 1720797459982,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -319,9 +319,11 @@\n         $data = Category::latest()->get();\n         // $mydatalast = $data->created_at->format('d M Y');\n          return DataTables::of($data)->make(true);\n     }\n-    \n+    public function listcategory(){\n+        \n+    }\n \n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1720797473901,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -320,9 +320,14 @@\n         // $mydatalast = $data->created_at->format('d M Y');\n          return DataTables::of($data)->make(true);\n     }\n     public function listcategory(){\n-        \n+        if(Session::has('id_superadmin')){\n+            $list_product = Product::latest()->get();\n+            return view('admin.variant_product', compact('list_product'));\n+         }else{\n+             return view('admin.login');\n+         }\n     }\n \n \n     /**\n"
                },
                {
                    "date": 1720797482558,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -321,10 +321,10 @@\n          return DataTables::of($data)->make(true);\n     }\n     public function listcategory(){\n         if(Session::has('id_superadmin')){\n-            $list_product = Product::latest()->get();\n-            return view('admin.variant_product', compact('list_product'));\n+            $list_product = Category::latest()->get();\n+            return view('admin.category', compact('list_product'));\n          }else{\n              return view('admin.login');\n          }\n     }\n"
                },
                {
                    "date": 1720797489312,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -321,10 +321,10 @@\n          return DataTables::of($data)->make(true);\n     }\n     public function listcategory(){\n         if(Session::has('id_superadmin')){\n-            $list_product = Category::latest()->get();\n-            return view('admin.category', compact('list_product'));\n+            $list_category = Category::latest()->get();\n+            return view('admin.category', compact('list_category'));\n          }else{\n              return view('admin.login');\n          }\n     }\n"
                },
                {
                    "date": 1720797513403,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -321,9 +321,8 @@\n          return DataTables::of($data)->make(true);\n     }\n     public function listcategory(){\n         if(Session::has('id_superadmin')){\n-            $list_category = Category::latest()->get();\n             return view('admin.category', compact('list_category'));\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1720797520152,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -321,9 +321,9 @@\n          return DataTables::of($data)->make(true);\n     }\n     public function listcategory(){\n         if(Session::has('id_superadmin')){\n-            return view('admin.category', compact('list_category'));\n+            return view('admin.category');\n          }else{\n              return view('admin.login');\n          }\n     }\n"
                },
                {
                    "date": 1720844748725,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -326,8 +326,11 @@\n          }else{\n              return view('admin.login');\n          }\n     }\n+    public function addcategoryadmin(){\n+        \n+    }\n \n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1720844769956,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -327,9 +327,34 @@\n              return view('admin.login');\n          }\n     }\n     public function addcategoryadmin(){\n-        \n+        $nama_product = $request->add_nama_produk;\n+        $harga_product = $request->add_hrg_produk;\n+        $discount_product = $request->add_dsc_produk;\n+        $desc_product =  $request->add_desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('add_gbr_produk')) {\n+            $file_product = $request->file('add_gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+           \n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $products_id = $myproduk->id;\n+            $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n+\n+\n+        }else{\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n+\n+\n+        }\n     }\n \n \n     /**\n"
                },
                {
                    "date": 1720844801375,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -327,14 +327,14 @@\n              return view('admin.login');\n          }\n     }\n     public function addcategoryadmin(){\n-        $nama_product = $request->add_nama_produk;\n+        $nama_product = $request->add_nama_category;\n         $harga_product = $request->add_hrg_produk;\n         $discount_product = $request->add_dsc_produk;\n         $desc_product =  $request->add_desc_produk;\n         $status_gbr_product = \"\";\n-        if($request->hasFile('add_gbr_produk')) {\n+        if($request->hasFile('add_gbr_category')) {\n             $file_product = $request->file('add_gbr_produk');\n             $tujuan_upload = public_path('images/product');\n             // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n            \n"
                },
                {
                    "date": 1720844809874,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,425 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Visitor;\n+use App\\Models\\Superadmin;\n+use App\\Models\\Product;\n+use App\\Models\\Transaction;\n+use App\\Models\\TransactionHistory;\n+use App\\Models\\ProductVariant;\n+use App\\Models\\Category;\n+\n+\n+\n+use DataTables;\n+use Hash;\n+use Session;\n+use DB;\n+\n+class AdminController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n+            return view('admin.login');\n+        }\n+    }\n+    public function loginadmincheck(Request $request){\n+        $username = $request->user;\n+        $password = $request->pass;\n+\n+        $myhashpassword = bcrypt(\"mypwd\");\n+        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n+        if($myadmin->count() > 0){\n+            if(Hash::check($password, $myadmin[0]->pass)) {\n+                Session::put('id_superadmin',$myadmin[0]->id);\n+                Session::put('nama_superadmin',$myadmin[0]->name);\n+                return \"cocok\";\n+            }\n+            else{\n+                return \"tidak cocok\";\n+            }\n+        }\n+        else{\n+            return \"tidak ada data\";\n+        }\n+      \n+        \n+    }\n+    public function listproduk(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.product');\n+         }else{\n+             return view('admin.login');\n+         }\n+   \n+    }\n+    public function getlistproduk(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Product::latest();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listuser(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.user');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistuser(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Visitor::all();\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function listtrx(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.transaction');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlisttrx(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getInvoiceDetailAdmin(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+                    $hasil = \"\";\n+      \n+                    foreach($myproduct as $mp){\n+                        $variant = \"Tidak Ada\";\n+                        if($mp->variant_descriptions != null){\n+                            $variant = $mp->variant_descriptions;\n+                        }\n+                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n+                    }\n+        return response()->json(['output' => $hasil]);\n+    }\n+    public function getdetailproductadmin(Request $request){\n+        $id_product = $request->idproduct;\n+        $hasil = \"\";\n+        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = Product::where(\"id\",'=',$id_product)->get();\n+        foreach($myproduct as $mp){\n+           $gambar = asset('images/variant/'.$mp->images_variant);\n+\n+            $hasil .= '<tr><td><img src = \"'.$gambar.'\" style = \"width:50px;height:50px;\"></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        }\n+        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n+    }\n+    public function editproductadmin(Request $request){\n+        $id_product = $request->id_product;\n+        $nama_product = $request->nama_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+        $desc_produk = $request->desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n+\n+        }else{\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n+\n+        }\n+    }\n+\n+    public function editproductvariantadmin(Request $request){\n+        $id_productvariant = $request->id_variant_product;\n+        $nama_product = $request->desc_produk;\n+        $harga_product = $request->hrg_produk;\n+        $discount_product = $request->dsc_produk;\n+    \n+        $status_gbr_product = \"\";\n+        if($request->hasFile('gbr_produk')) {\n+            $file_product = $request->file('gbr_produk');\n+            $tujuan_upload = public_path('images/variant');\n+            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n+\n+        }else{\n+            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n+\n+        }\n+    }\n+\n+    public function getdetailvariantproductadmin(Request $request){\n+        $id_productvariant = $request->idproductvariant;\n+        $hasil = \"\";\n+        // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n+        $products = ProductVariant::where(\"id\",'=',$id_productvariant)->get();\n+        // foreach($myproduct as $mp){\n+           \n+        //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n+        // }\n+        return response()->json(['output' => \"-\", \"output_proudct\"=>$products]);\n+    }\n+\n+\n+\n+    public function listvariant(){\n+        if(Session::has('id_superadmin')){\n+            $list_product = Product::latest()->get();\n+            return view('admin.variant_product', compact('list_product'));\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function getlistvariant(){\n+        \n+        if(Session::has('id_superadmin')){\n+            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\", \"product.images\")->latest();\n+            // $mydatalast = $data->created_at->format('d M Y');\n+             return DataTables::of($data)->make(true);\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function addproductadmin(Request $request){\n+        // $id_productvariant = $request->id_variant_product;\n+        $nama_product = $request->add_nama_produk;\n+        $harga_product = $request->add_hrg_produk;\n+        $discount_product = $request->add_dsc_produk;\n+        $desc_product =  $request->add_desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('add_gbr_produk')) {\n+            $file_product = $request->file('add_gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+           \n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $products_id = $myproduk->id;\n+            $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n+\n+\n+        }else{\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n+\n+\n+        }\n+    }\n+    public function addvariantproductadmin(Request $request){\n+        $data = $request->all();\n+        $myallname = \"\";\n+        $pilihan_productvariant = $request->add_pil_produk;\n+        foreach( $request->add_nama_produk as $myindex => $dat){\n+            $myallname .= $request->add_nama_produk[$myindex];\n+        \n+      \n+        $nama_product = $request->add_nama_produk[$myindex];\n+        $nama_product = $request->add_nama_produk[$myindex];\n+        $harga_product = $request->add_hrg_produk[$myindex];\n+        $discount_product = $request->add_dsc_produk[$myindex];\n+        // $desc_product =  $request->add_desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('add_gbr_produk')) {\n+            $file_product = $request->file('add_gbr_produk')[$myindex];\n+            $tujuan_upload = public_path('images/variant');\n+            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+           \n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $products_id = $myproduk->id;\n+            $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n+            Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n+\n+        }else{\n+            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n+\n+        }\n+         }\n+        return response()->json(['output' => $myallname]);\n+    }\n+    public function changestatusvariant(Request $request){\n+        $id_variant = $request->idproductvariant;\n+        $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n+        $status_variant = $status[0]['variant_status'];\n+        $ganti = \"0\";\n+        if($status_variant == \"0\"){\n+            $ganti = \"1\";\n+        }\n+        else{\n+            $ganti =\"0\";\n+        }\n+        ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => $ganti]);\n+        return response()->json(['output' => \"ok\"]);\n+    }\n+    public function changestatusproduct(Request $request){\n+        $id_product = $request->idproduct;\n+        $status = Product::where(\"id\",'=',$id_product)->get();\n+        $status_product = $status[0]['product_status'];\n+        $ganti = \"0\";\n+        if($status_product == \"0\"){\n+            $ganti = \"1\";\n+        }\n+        else{\n+            $ganti =\"0\";\n+        }\n+        Product::where(['id' => $id_product ])->update(['product_status' => $ganti]);\n+        return response()->json(['output' => \"ok\"]);\n+\n+    }\n+    public function getlistcategory(){\n+        $data = Category::latest()->get();\n+        // $mydatalast = $data->created_at->format('d M Y');\n+         return DataTables::of($data)->make(true);\n+    }\n+    public function listcategory(){\n+        if(Session::has('id_superadmin')){\n+            return view('admin.category');\n+         }else{\n+             return view('admin.login');\n+         }\n+    }\n+    public function addcategoryadmin(){\n+        $nama_category = $request->add_nama_category;\n+        $harga_category = $request->add_hrg_produk;\n+        $discount_product = $request->add_dsc_produk;\n+        $desc_product =  $request->add_desc_produk;\n+        $status_gbr_product = \"\";\n+        if($request->hasFile('add_gbr_category')) {\n+            $file_product = $request->file('add_gbr_produk');\n+            $tujuan_upload = public_path('images/product');\n+            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+           \n+            $status_gbr_product = \"ada\";\n+        }\n+       \n+        if($status_gbr_product == \"ada\"){\n+            $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $products_id = $myproduk->id;\n+            $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n+\n+\n+        }else{\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n+\n+\n+        }\n+    }\n+\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1720844810281,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -421,430 +421,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Visitor;\n-use App\\Models\\Superadmin;\n-use App\\Models\\Product;\n-use App\\Models\\Transaction;\n-use App\\Models\\TransactionHistory;\n-use App\\Models\\ProductVariant;\n-use App\\Models\\Category;\n-\n-\n-\n-use DataTables;\n-use Hash;\n-use Session;\n-use DB;\n-\n-class AdminController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-\n-        if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index', compact('visitor','product','transaction'));\n-        }else{\n-            return view('admin.login');\n-        }\n-    }\n-    public function loginadmincheck(Request $request){\n-        $username = $request->user;\n-        $password = $request->pass;\n-\n-        $myhashpassword = bcrypt(\"mypwd\");\n-        $myadmin = Superadmin::where(\"user\",\"=\",$username)->get();\n-        if($myadmin->count() > 0){\n-            if(Hash::check($password, $myadmin[0]->pass)) {\n-                Session::put('id_superadmin',$myadmin[0]->id);\n-                Session::put('nama_superadmin',$myadmin[0]->name);\n-                return \"cocok\";\n-            }\n-            else{\n-                return \"tidak cocok\";\n-            }\n-        }\n-        else{\n-            return \"tidak ada data\";\n-        }\n-      \n-        \n-    }\n-    public function listproduk(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.product');\n-         }else{\n-             return view('admin.login');\n-         }\n-   \n-    }\n-    public function getlistproduk(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listuser(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.user');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistuser(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Visitor::all();\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function listtrx(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.transaction');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlisttrx(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = Transaction::join(\"visitor\",\"visitor.id\",'=','transaction.id_user')->select(\"transaction.*\",\"visitor.nama\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getInvoiceDetailAdmin(Request $request ){\n-        $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n-                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n-                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n-                    ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-                    $hasil = \"\";\n-      \n-                    foreach($myproduct as $mp){\n-                        $variant = \"Tidak Ada\";\n-                        if($mp->variant_descriptions != null){\n-                            $variant = $mp->variant_descriptions;\n-                        }\n-                        $hasil .= '<tr><td>'.$mp->product_name.'</td>'.'<td>'.$variant.'</td>'.'<td>'.$mp->buy_qty.'</td>'.'<td>'.$mp->buy_subtotal.'</td></tr>';\n-                    }\n-        return response()->json(['output' => $hasil]);\n-    }\n-    public function getdetailproductadmin(Request $request){\n-        $id_product = $request->idproduct;\n-        $hasil = \"\";\n-        $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = Product::where(\"id\",'=',$id_product)->get();\n-        foreach($myproduct as $mp){\n-           $gambar = asset('images/variant/'.$mp->images_variant);\n-\n-            $hasil .= '<tr><td><img src = \"'.$gambar.'\" style = \"width:50px;height:50px;\"></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        }\n-        return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n-    }\n-    public function editproductadmin(Request $request){\n-        $id_product = $request->id_product;\n-        $nama_product = $request->nama_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n-        $desc_produk = $request->desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('gbr_produk')) {\n-            $file_product = $request->file('gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n-            $nama_file = \"product\".$id_product.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n-\n-        }else{\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n-\n-        }\n-    }\n-\n-    public function editproductvariantadmin(Request $request){\n-        $id_productvariant = $request->id_variant_product;\n-        $nama_product = $request->desc_produk;\n-        $harga_product = $request->hrg_produk;\n-        $discount_product = $request->dsc_produk;\n-    \n-        $status_gbr_product = \"\";\n-        if($request->hasFile('gbr_produk')) {\n-            $file_product = $request->file('gbr_produk');\n-            $tujuan_upload = public_path('images/variant');\n-            $nama_file = \"product_variant\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product,  \"images_variant\" => $nama_file]);\n-\n-        }else{\n-            ProductVariant::where(['id' => $id_productvariant ])->update(['descriptions' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product]);\n-\n-        }\n-    }\n-\n-    public function getdetailvariantproductadmin(Request $request){\n-        $id_productvariant = $request->idproductvariant;\n-        $hasil = \"\";\n-        // $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = ProductVariant::where(\"id\",'=',$id_productvariant)->get();\n-        // foreach($myproduct as $mp){\n-           \n-        //     $hasil .= '<tr><td>'.$mp->gambar_produk.'</td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n-        // }\n-        return response()->json(['output' => \"-\", \"output_proudct\"=>$products]);\n-    }\n-\n-\n-\n-    public function listvariant(){\n-        if(Session::has('id_superadmin')){\n-            $list_product = Product::latest()->get();\n-            return view('admin.variant_product', compact('list_product'));\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function getlistvariant(){\n-        \n-        if(Session::has('id_superadmin')){\n-            $data = ProductVariant::join(\"product\",\"product.id\",'=','product_variant.id_product')->select(\"product_variant.*\",\"product.names\", \"product.images\")->latest();\n-            // $mydatalast = $data->created_at->format('d M Y');\n-             return DataTables::of($data)->make(true);\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function addproductadmin(Request $request){\n-        // $id_productvariant = $request->id_variant_product;\n-        $nama_product = $request->add_nama_produk;\n-        $harga_product = $request->add_hrg_produk;\n-        $discount_product = $request->add_dsc_produk;\n-        $desc_product =  $request->add_desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('add_gbr_produk')) {\n-            $file_product = $request->file('add_gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n-            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-           \n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-            $products_id = $myproduk->id;\n-            $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n-\n-\n-        }else{\n-            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n-\n-\n-        }\n-    }\n-    public function addvariantproductadmin(Request $request){\n-        $data = $request->all();\n-        $myallname = \"\";\n-        $pilihan_productvariant = $request->add_pil_produk;\n-        foreach( $request->add_nama_produk as $myindex => $dat){\n-            $myallname .= $request->add_nama_produk[$myindex];\n-        \n-      \n-        $nama_product = $request->add_nama_produk[$myindex];\n-        $nama_product = $request->add_nama_produk[$myindex];\n-        $harga_product = $request->add_hrg_produk[$myindex];\n-        $discount_product = $request->add_dsc_produk[$myindex];\n-        // $desc_product =  $request->add_desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('add_gbr_produk')) {\n-            $file_product = $request->file('add_gbr_produk')[$myindex];\n-            $tujuan_upload = public_path('images/variant');\n-            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-           \n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-            $products_id = $myproduk->id;\n-            $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            ProductVariant::where(['id' => $products_id ])->update(['images_variant' => $nama_file]);\n-            Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n-\n-        }else{\n-            $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-            Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n-\n-        }\n-         }\n-        return response()->json(['output' => $myallname]);\n-    }\n-    public function changestatusvariant(Request $request){\n-        $id_variant = $request->idproductvariant;\n-        $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n-        $status_variant = $status[0]['variant_status'];\n-        $ganti = \"0\";\n-        if($status_variant == \"0\"){\n-            $ganti = \"1\";\n-        }\n-        else{\n-            $ganti =\"0\";\n-        }\n-        ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => $ganti]);\n-        return response()->json(['output' => \"ok\"]);\n-    }\n-    public function changestatusproduct(Request $request){\n-        $id_product = $request->idproduct;\n-        $status = Product::where(\"id\",'=',$id_product)->get();\n-        $status_product = $status[0]['product_status'];\n-        $ganti = \"0\";\n-        if($status_product == \"0\"){\n-            $ganti = \"1\";\n-        }\n-        else{\n-            $ganti =\"0\";\n-        }\n-        Product::where(['id' => $id_product ])->update(['product_status' => $ganti]);\n-        return response()->json(['output' => \"ok\"]);\n-\n-    }\n-    public function getlistcategory(){\n-        $data = Category::latest()->get();\n-        // $mydatalast = $data->created_at->format('d M Y');\n-         return DataTables::of($data)->make(true);\n-    }\n-    public function listcategory(){\n-        if(Session::has('id_superadmin')){\n-            return view('admin.category');\n-         }else{\n-             return view('admin.login');\n-         }\n-    }\n-    public function addcategoryadmin(){\n-        $nama_product = $request->add_nama_category;\n-        $harga_product = $request->add_hrg_produk;\n-        $discount_product = $request->add_dsc_produk;\n-        $desc_product =  $request->add_desc_produk;\n-        $status_gbr_product = \"\";\n-        if($request->hasFile('add_gbr_category')) {\n-            $file_product = $request->file('add_gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n-            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-           \n-            $status_gbr_product = \"ada\";\n-        }\n-       \n-        if($status_gbr_product == \"ada\"){\n-            $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-            $products_id = $myproduk->id;\n-            $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n-            Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n-\n-\n-        }else{\n-            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n-\n-\n-        }\n-    }\n-\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1720844819692,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -328,10 +328,8 @@\n          }\n     }\n     public function addcategoryadmin(){\n         $nama_category = $request->add_nama_category;\n-        $harga_category = $request->add_hrg_produk;\n-        $discount_product = $request->add_dsc_produk;\n         $desc_product =  $request->add_desc_produk;\n         $status_gbr_product = \"\";\n         if($request->hasFile('add_gbr_category')) {\n             $file_product = $request->file('add_gbr_produk');\n"
                },
                {
                    "date": 1720844825795,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -328,9 +328,8 @@\n          }\n     }\n     public function addcategoryadmin(){\n         $nama_category = $request->add_nama_category;\n-        $desc_product =  $request->add_desc_produk;\n         $status_gbr_product = \"\";\n         if($request->hasFile('add_gbr_category')) {\n             $file_product = $request->file('add_gbr_produk');\n             $tujuan_upload = public_path('images/product');\n"
                },
                {
                    "date": 1720844831585,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -328,8 +328,9 @@\n          }\n     }\n     public function addcategoryadmin(){\n         $nama_category = $request->add_nama_category;\n+        \n         $status_gbr_product = \"\";\n         if($request->hasFile('add_gbr_category')) {\n             $file_product = $request->file('add_gbr_produk');\n             $tujuan_upload = public_path('images/product');\n"
                },
                {
                    "date": 1720844844125,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -329,18 +329,18 @@\n     }\n     public function addcategoryadmin(){\n         $nama_category = $request->add_nama_category;\n         \n-        $status_gbr_product = \"\";\n+        $status_gbr_category = \"\";\n         if($request->hasFile('add_gbr_category')) {\n             $file_product = $request->file('add_gbr_produk');\n             $tujuan_upload = public_path('images/product');\n             // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n            \n             $status_gbr_product = \"ada\";\n         }\n        \n-        if($status_gbr_product == \"ada\"){\n+        if($status_gbr_category == \"ada\"){\n             $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n"
                },
                {
                    "date": 1720844853880,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -331,13 +331,13 @@\n         $nama_category = $request->add_nama_category;\n         \n         $status_gbr_category = \"\";\n         if($request->hasFile('add_gbr_category')) {\n-            $file_product = $request->file('add_gbr_produk');\n-            $tujuan_upload = public_path('images/product');\n+            $file_product = $request->file('add_gbr_category');\n+            $tujuan_upload = public_path('images/category');\n             // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n            \n-            $status_gbr_product = \"ada\";\n+            $status_gbr_category = \"ada\";\n         }\n        \n         if($status_gbr_category == \"ada\"){\n             $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n"
                },
                {
                    "date": 1720844882301,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -339,11 +339,11 @@\n             $status_gbr_category = \"ada\";\n         }\n        \n         if($status_gbr_category == \"ada\"){\n-            $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $myproduk = Categroy::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n-            $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+            $nama_file = \"category\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n \n \n"
                },
                {
                    "date": 1720846368762,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -339,9 +339,9 @@\n             $status_gbr_category = \"ada\";\n         }\n        \n         if($status_gbr_category == \"ada\"){\n-            $myproduk = Categroy::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $myproduk = Category::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"category\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n"
                },
                {
                    "date": 1720846508996,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -339,9 +339,9 @@\n             $status_gbr_category = \"ada\";\n         }\n        \n         if($status_gbr_category == \"ada\"){\n-            $myproduk = Category::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $myproduk = Category::create([\"category_name\" => $nama_category, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"category\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n"
                },
                {
                    "date": 1720846518527,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -339,9 +339,9 @@\n             $status_gbr_category = \"ada\";\n         }\n        \n         if($status_gbr_category == \"ada\"){\n-            $myproduk = Category::create([\"category_name\" => $nama_category, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $myproduk = Category::create([\"category_name\" => $nama_category \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"category\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n"
                },
                {
                    "date": 1720846524933,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -339,9 +339,9 @@\n             $status_gbr_category = \"ada\";\n         }\n        \n         if($status_gbr_category == \"ada\"){\n-            $myproduk = Category::create([\"category_name\" => $nama_category \"updated_at\" => now(), \"created_at\" => now()]);\n+            $myproduk = Category::create([\"category_name\" => $nama_category, \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"category\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n"
                },
                {
                    "date": 1720846535515,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -339,9 +339,9 @@\n             $status_gbr_category = \"ada\";\n         }\n        \n         if($status_gbr_category == \"ada\"){\n-            $myproduk = Category::create([\"category_name\" => $nama_category, \"updated_at\" => now(), \"created_at\" => now()]);\n+            $mycategrory = Category::create([\"category_name\" => $nama_category, \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"category\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n"
                },
                {
                    "date": 1720846541189,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -339,10 +339,10 @@\n             $status_gbr_category = \"ada\";\n         }\n        \n         if($status_gbr_category == \"ada\"){\n-            $mycategrory = Category::create([\"category_name\" => $nama_category, \"updated_at\" => now(), \"created_at\" => now()]);\n-            $products_id = $myproduk->id;\n+            $mycategory = Category::create([\"category_name\" => $nama_category, \"updated_at\" => now(), \"created_at\" => now()]);\n+            $products_id = $mycategory->id;\n             $nama_file = \"category\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n \n"
                },
                {
                    "date": 1720846547244,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -340,10 +340,10 @@\n         }\n        \n         if($status_gbr_category == \"ada\"){\n             $mycategory = Category::create([\"category_name\" => $nama_category, \"updated_at\" => now(), \"created_at\" => now()]);\n-            $products_id = $mycategory->id;\n-            $nama_file = \"category\".$products_id.\".\".$file_product->getClientOriginalExtension();\n+            $category_id = $mycategory->id;\n+            $nama_file = \"category\".$category_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n \n \n"
                },
                {
                    "date": 1720846556773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -343,9 +343,9 @@\n             $mycategory = Category::create([\"category_name\" => $nama_category, \"updated_at\" => now(), \"created_at\" => now()]);\n             $category_id = $mycategory->id;\n             $nama_file = \"category\".$category_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n-            Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n+            Category::where(['id' => $products_id ])->update(['images' => $nama_file]);\n \n \n         }else{\n             Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n"
                },
                {
                    "date": 1720846600791,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -343,9 +343,9 @@\n             $mycategory = Category::create([\"category_name\" => $nama_category, \"updated_at\" => now(), \"created_at\" => now()]);\n             $category_id = $mycategory->id;\n             $nama_file = \"category\".$category_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n-            Category::where(['id' => $products_id ])->update(['images' => $nama_file]);\n+            Category::where(['id' => $category_id ])->update(['category_image' => $nama_file]);\n \n \n         }else{\n             Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n"
                },
                {
                    "date": 1720846606723,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -347,9 +347,9 @@\n             Category::where(['id' => $category_id ])->update(['category_image' => $nama_file]);\n \n \n         }else{\n-            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n+            Category::where(['id' => $category_id ])->update(['category_image' => $nama_file]);\n \n \n         }\n     }\n"
                },
                {
                    "date": 1720846613961,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -347,9 +347,9 @@\n             Category::where(['id' => $category_id ])->update(['category_image' => $nama_file]);\n \n \n         }else{\n-            Category::where(['id' => $category_id ])->update(['category_image' => $nama_file]);\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n \n \n         }\n     }\n"
                },
                {
                    "date": 1720846630128,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -339,9 +339,9 @@\n             $status_gbr_category = \"ada\";\n         }\n        \n         if($status_gbr_category == \"ada\"){\n-            $mycategory = Category::create([\"category_name\" => $nama_category, \"updated_at\" => now(), \"created_at\" => now()]);\n+            $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $category_id = $mycategory->id;\n             $nama_file = \"category\".$category_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             Category::where(['id' => $category_id ])->update(['category_image' => $nama_file]);\n"
                },
                {
                    "date": 1720846637088,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -347,9 +347,9 @@\n             Category::where(['id' => $category_id ])->update(['category_image' => $nama_file]);\n \n \n         }else{\n-            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n+            $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n \n \n         }\n     }\n"
                },
                {
                    "date": 1720846644741,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -344,14 +344,10 @@\n             $category_id = $mycategory->id;\n             $nama_file = \"category\".$category_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             Category::where(['id' => $category_id ])->update(['category_image' => $nama_file]);\n-\n-\n         }else{\n             $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-\n-\n         }\n     }\n \n \n"
                },
                {
                    "date": 1720846690635,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -326,9 +326,9 @@\n          }else{\n              return view('admin.login');\n          }\n     }\n-    public function addcategoryadmin(){\n+    public function addcategoryadmin(Request $request){\n         $nama_category = $request->add_nama_category;\n         \n         $status_gbr_category = \"\";\n         if($request->hasFile('add_gbr_category')) {\n"
                },
                {
                    "date": 1720846805396,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -315,9 +315,9 @@\n         return response()->json(['output' => \"ok\"]);\n \n     }\n     public function getlistcategory(){\n-        $data = Category::latest()->get();\n+        $data = Category::latest(\"id\")->get();\n         // $mydatalast = $data->created_at->format('d M Y');\n          return DataTables::of($data)->make(true);\n     }\n     public function listcategory(){\n"
                },
                {
                    "date": 1720846875723,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -315,9 +315,9 @@\n         return response()->json(['output' => \"ok\"]);\n \n     }\n     public function getlistcategory(){\n-        $data = Category::latest(\"id\")->get();\n+        $data = Category::latest(\"id\");\n         // $mydatalast = $data->created_at->format('d M Y');\n          return DataTables::of($data)->make(true);\n     }\n     public function listcategory(){\n"
                },
                {
                    "date": 1720847108822,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -348,8 +348,11 @@\n         }else{\n             $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n         }\n     }\n+    public function getdetailcategoryadmin(){\n+        getdetailcategoryadmin\n+    }\n \n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1720847152441,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -349,9 +349,9 @@\n             $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n         }\n     }\n     public function getdetailcategoryadmin(){\n-        getdetailcategoryadmin\n+        return response()->json(['output' => \"ok\"]);\n     }\n \n \n     /**\n"
                },
                {
                    "date": 1720847158175,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -348,9 +348,10 @@\n         }else{\n             $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n         }\n     }\n-    public function getdetailcategoryadmin(){\n+    public function getdetailcategoryadmin(Request $request){\n+        \n         return response()->json(['output' => \"ok\"]);\n     }\n \n \n"
                },
                {
                    "date": 1720847170700,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -349,9 +349,9 @@\n             $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n         }\n     }\n     public function getdetailcategoryadmin(Request $request){\n-        \n+        $category_id = $request->idcategory;l\n         return response()->json(['output' => \"ok\"]);\n     }\n \n \n"
                },
                {
                    "date": 1720847193720,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -349,9 +349,10 @@\n             $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n         }\n     }\n     public function getdetailcategoryadmin(Request $request){\n-        $category_id = $request->idcategory;l\n+        $category_id = $request->idcategory;\n+        $search_category = Category::where(\"id\",\"=\",$category_id);\n         return response()->json(['output' => \"ok\"]);\n     }\n \n \n"
                },
                {
                    "date": 1720847203260,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -350,10 +350,10 @@\n         }\n     }\n     public function getdetailcategoryadmin(Request $request){\n         $category_id = $request->idcategory;\n-        $search_category = Category::where(\"id\",\"=\",$category_id);\n-        return response()->json(['output' => \"ok\"]);\n+        $search_category = Category::where(\"id\",\"=\",$category_id)->get();\n+        return response()->json(['output' => $search_category]);\n     }\n \n \n     /**\n"
                },
                {
                    "date": 1720847465481,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -353,8 +353,11 @@\n         $category_id = $request->idcategory;\n         $search_category = Category::where(\"id\",\"=\",$category_id)->get();\n         return response()->json(['output' => $search_category]);\n     }\n+    public function editcategoryadmin(Request $request){\n+        \n+    }\n \n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1720847472945,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -354,9 +354,28 @@\n         $search_category = Category::where(\"id\",\"=\",$category_id)->get();\n         return response()->json(['output' => $search_category]);\n     }\n     public function editcategoryadmin(Request $request){\n+        $nama_category = $request->add_nama_category;\n         \n+        $status_gbr_category = \"\";\n+        if($request->hasFile('add_gbr_category')) {\n+            $file_product = $request->file('add_gbr_category');\n+            $tujuan_upload = public_path('images/category');\n+            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+           \n+            $status_gbr_category = \"ada\";\n+        }\n+       \n+        if($status_gbr_category == \"ada\"){\n+            $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $category_id = $mycategory->id;\n+            $nama_file = \"category\".$category_id.\".\".$file_product->getClientOriginalExtension();\n+            $file_product->move($tujuan_upload, $nama_file);\n+            Category::where(['id' => $category_id ])->update(['category_image' => $nama_file]);\n+        }else{\n+            $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+        }\n     }\n \n \n     /**\n"
                },
                {
                    "date": 1720847498181,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -354,13 +354,14 @@\n         $search_category = Category::where(\"id\",\"=\",$category_id)->get();\n         return response()->json(['output' => $search_category]);\n     }\n     public function editcategoryadmin(Request $request){\n-        $nama_category = $request->add_nama_category;\n+        $nama_category = $request->nama_category;\n         \n+\n         $status_gbr_category = \"\";\n-        if($request->hasFile('add_gbr_category')) {\n-            $file_product = $request->file('add_gbr_category');\n+        if($request->hasFile('gbr_category')) {\n+            $file_product = $request->file('gbr_category');\n             $tujuan_upload = public_path('images/category');\n             // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n            \n             $status_gbr_category = \"ada\";\n"
                },
                {
                    "date": 1720847513762,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -361,18 +361,13 @@\n         $status_gbr_category = \"\";\n         if($request->hasFile('gbr_category')) {\n             $file_product = $request->file('gbr_category');\n             $tujuan_upload = public_path('images/category');\n-            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n            \n             $status_gbr_category = \"ada\";\n         }\n        \n         if($status_gbr_category == \"ada\"){\n-            $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-            $category_id = $mycategory->id;\n-            $nama_file = \"category\".$category_id.\".\".$file_product->getClientOriginalExtension();\n-            $file_product->move($tujuan_upload, $nama_file);\n             Category::where(['id' => $category_id ])->update(['category_image' => $nama_file]);\n         }else{\n             $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n         }\n"
                },
                {
                    "date": 1720847543572,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -355,8 +355,9 @@\n         return response()->json(['output' => $search_category]);\n     }\n     public function editcategoryadmin(Request $request){\n         $nama_category = $request->nama_category;\n+        $id_Category = $request->id_category;\n         \n \n         $status_gbr_category = \"\";\n         if($request->hasFile('gbr_category')) {\n"
                },
                {
                    "date": 1720847599772,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -367,9 +367,9 @@\n             $status_gbr_category = \"ada\";\n         }\n        \n         if($status_gbr_category == \"ada\"){\n-            Category::where(['id' => $category_id ])->update(['category_image' => $nama_file]);\n+            Category::where(['id' => $category_id ])->update(['category_name' => $nama_category,'category_image' => $nama_file]);\n         }else{\n             $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n         }\n     }\n"
                },
                {
                    "date": 1720847608617,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -367,12 +367,11 @@\n             $status_gbr_category = \"ada\";\n         }\n        \n         if($status_gbr_category == \"ada\"){\n-            Category::where(['id' => $category_id ])->update(['category_name' => $nama_category,'category_image' => $nama_file]);\n+            Category::where(['id' => $id_Category ])->update(['category_name' => $nama_category,'category_image' => $nama_file]);\n         }else{\n-            $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n-        }\n+            Category::where(['id' => $id_Category ])->update(['category_name' => $nama_category,'category_image' => $nama_file]);        }\n     }\n \n \n     /**\n"
                },
                {
                    "date": 1720847617643,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -369,9 +369,10 @@\n        \n         if($status_gbr_category == \"ada\"){\n             Category::where(['id' => $id_Category ])->update(['category_name' => $nama_category,'category_image' => $nama_file]);\n         }else{\n-            Category::where(['id' => $id_Category ])->update(['category_name' => $nama_category,'category_image' => $nama_file]);        }\n+            Category::where(['id' => $id_Category ])->update(['category_name' => $nama_category]);\n+        }\n     }\n \n \n     /**\n"
                },
                {
                    "date": 1720847774721,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -362,9 +362,9 @@\n         $status_gbr_category = \"\";\n         if($request->hasFile('gbr_category')) {\n             $file_product = $request->file('gbr_category');\n             $tujuan_upload = public_path('images/category');\n-           \n+            $nama_file = \"category\".$category_id.\".\".$file_product->getClientOriginalExtension();\n             $status_gbr_category = \"ada\";\n         }\n        \n         if($status_gbr_category == \"ada\"){\n"
                },
                {
                    "date": 1720847805370,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -362,9 +362,9 @@\n         $status_gbr_category = \"\";\n         if($request->hasFile('gbr_category')) {\n             $file_product = $request->file('gbr_category');\n             $tujuan_upload = public_path('images/category');\n-            $nama_file = \"category\".$category_id.\".\".$file_product->getClientOriginalExtension();\n+            $nama_file = \"category\".$id_Category.\".\".$file_product->getClientOriginalExtension();\n             $status_gbr_category = \"ada\";\n         }\n        \n         if($status_gbr_category == \"ada\"){\n"
                },
                {
                    "date": 1720847889782,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -367,8 +367,9 @@\n             $status_gbr_category = \"ada\";\n         }\n        \n         if($status_gbr_category == \"ada\"){\n+            $file_product->move($tujuan_upload, $nama_file);\n             Category::where(['id' => $id_Category ])->update(['category_name' => $nama_category,'category_image' => $nama_file]);\n         }else{\n             Category::where(['id' => $id_Category ])->update(['category_name' => $nama_category]);\n         }\n"
                },
                {
                    "date": 1720848814613,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -317,9 +317,9 @@\n     }\n     public function getlistcategory(){\n         $data = Category::latest(\"id\");\n         // $mydatalast = $data->created_at->format('d M Y');\n-         return DataTables::of($data)->make(true);\n+         return DataTables::of($data)->rawColumns(['vehicle_image', 'action']);->make(true);\n     }\n     public function listcategory(){\n         if(Session::has('id_superadmin')){\n             return view('admin.category');\n"
                },
                {
                    "date": 1720848822048,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -317,9 +317,9 @@\n     }\n     public function getlistcategory(){\n         $data = Category::latest(\"id\");\n         // $mydatalast = $data->created_at->format('d M Y');\n-         return DataTables::of($data)->rawColumns(['vehicle_image', 'action']);->make(true);\n+         return DataTables::of($data)->rawColumns(['image_category', 'action'])->make(true);\n     }\n     public function listcategory(){\n         if(Session::has('id_superadmin')){\n             return view('admin.category');\n"
                },
                {
                    "date": 1720848881873,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -317,9 +317,9 @@\n     }\n     public function getlistcategory(){\n         $data = Category::latest(\"id\");\n         // $mydatalast = $data->created_at->format('d M Y');\n-         return DataTables::of($data)->rawColumns(['image_category', 'action'])->make(true);\n+         return DataTables::of($data)->make(true);\n     }\n     public function listcategory(){\n         if(Session::has('id_superadmin')){\n             return view('admin.category');\n"
                },
                {
                    "date": 1720849018346,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -339,9 +339,9 @@\n             $status_gbr_category = \"ada\";\n         }\n        \n         if($status_gbr_category == \"ada\"){\n-            $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $category_id = $mycategory->id;\n             $nama_file = \"category\".$category_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             Category::where(['id' => $category_id ])->update(['category_image' => $nama_file]);\n"
                },
                {
                    "date": 1720849027167,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -339,15 +339,15 @@\n             $status_gbr_category = \"ada\";\n         }\n        \n         if($status_gbr_category == \"ada\"){\n-            $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"category_status\" => \"1\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $category_id = $mycategory->id;\n             $nama_file = \"category\".$category_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             Category::where(['id' => $category_id ])->update(['category_image' => $nama_file]);\n         }else{\n-            $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $mycategory = Category::create([\"category_name\" => $nama_category, \"category_image\" => \"-\", \"category_status\" => \"1\", \"updated_at\" => now(), \"created_at\" => now()]);\n         }\n     }\n     public function getdetailcategoryadmin(Request $request){\n         $category_id = $request->idcategory;\n"
                },
                {
                    "date": 1720849092272,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -373,8 +373,22 @@\n         }else{\n             Category::where(['id' => $id_Category ])->update(['category_name' => $nama_category]);\n         }\n     }\n+    public function changestatusvariant(Request $request){\n+        $id_variant = $request->idproductvariant;\n+        $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n+        $status_variant = $status[0]['variant_status'];\n+        $ganti = \"0\";\n+        if($status_variant == \"0\"){\n+            $ganti = \"1\";\n+        }\n+        else{\n+            $ganti =\"0\";\n+        }\n+        ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => $ganti]);\n+        return response()->json(['output' => \"ok\"]);\n+    }\n \n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1720849098510,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -373,9 +373,9 @@\n         }else{\n             Category::where(['id' => $id_Category ])->update(['category_name' => $nama_category]);\n         }\n     }\n-    public function changestatusvariant(Request $request){\n+    public function changestatuscategory(Request $request){\n         $id_variant = $request->idproductvariant;\n         $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n         $status_variant = $status[0]['variant_status'];\n         $ganti = \"0\";\n"
                },
                {
                    "date": 1720849105645,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -374,9 +374,9 @@\n             Category::where(['id' => $id_Category ])->update(['category_name' => $nama_category]);\n         }\n     }\n     public function changestatuscategory(Request $request){\n-        $id_variant = $request->idproductvariant;\n+        $id_category = $request->idproductvariant;\n         $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n         $status_variant = $status[0]['variant_status'];\n         $ganti = \"0\";\n         if($status_variant == \"0\"){\n"
                },
                {
                    "date": 1720849113176,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -374,10 +374,10 @@\n             Category::where(['id' => $id_Category ])->update(['category_name' => $nama_category]);\n         }\n     }\n     public function changestatuscategory(Request $request){\n-        $id_category = $request->idproductvariant;\n-        $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n+        $id_category = $request->idcategory;\n+        $status = Categroy::where(\"id\",'=',$id_variant)->get();\n         $status_variant = $status[0]['variant_status'];\n         $ganti = \"0\";\n         if($status_variant == \"0\"){\n             $ganti = \"1\";\n"
                },
                {
                    "date": 1720849122326,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -375,10 +375,10 @@\n         }\n     }\n     public function changestatuscategory(Request $request){\n         $id_category = $request->idcategory;\n-        $status = Categroy::where(\"id\",'=',$id_variant)->get();\n-        $status_variant = $status[0]['variant_status'];\n+        $status = Categroy::where(\"id\",'=',$id_category)->get();\n+        $status_variant = $status[0]['category_status'];\n         $ganti = \"0\";\n         if($status_variant == \"0\"){\n             $ganti = \"1\";\n         }\n"
                },
                {
                    "date": 1720849128954,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -376,11 +376,11 @@\n     }\n     public function changestatuscategory(Request $request){\n         $id_category = $request->idcategory;\n         $status = Categroy::where(\"id\",'=',$id_category)->get();\n-        $status_variant = $status[0]['category_status'];\n+        $status_category = $status[0]['category_status'];\n         $ganti = \"0\";\n-        if($status_variant == \"0\"){\n+        if($status_category == \"0\"){\n             $ganti = \"1\";\n         }\n         else{\n             $ganti =\"0\";\n"
                },
                {
                    "date": 1720849137748,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -384,9 +384,9 @@\n         }\n         else{\n             $ganti =\"0\";\n         }\n-        ProductVariant::where(['id' => $id_variant ])->update(['variant_status' => $ganti]);\n+        Category::where(['id' => $id_category ])->update(['variant_status' => $ganti]);\n         return response()->json(['output' => \"ok\"]);\n     }\n \n \n"
                },
                {
                    "date": 1720849248641,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -375,18 +375,18 @@\n         }\n     }\n     public function changestatuscategory(Request $request){\n         $id_category = $request->idcategory;\n-        $status = Categroy::where(\"id\",'=',$id_category)->get();\n+        $status = Category::where(\"id\",'=',$id_category)->get();\n         $status_category = $status[0]['category_status'];\n         $ganti = \"0\";\n         if($status_category == \"0\"){\n             $ganti = \"1\";\n         }\n         else{\n             $ganti =\"0\";\n         }\n-        Category::where(['id' => $id_category ])->update(['variant_status' => $ganti]);\n+        Category::where(['id' => $id_category ])->update(['category_status' => $ganti]);\n         return response()->json(['output' => \"ok\"]);\n     }\n \n \n"
                },
                {
                    "date": 1720850384307,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -60,8 +60,9 @@\n         \n     }\n     public function listproduk(){\n         if(Session::has('id_superadmin')){\n+            $cat = Category::all();\n             return view('admin.product');\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1720850392446,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,9 +61,9 @@\n     }\n     public function listproduk(){\n         if(Session::has('id_superadmin')){\n             $cat = Category::all();\n-            return view('admin.product');\n+            return view('admin.product', compact(\"cat\"));\n          }else{\n              return view('admin.login');\n          }\n    \n"
                },
                {
                    "date": 1720850651642,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -221,8 +221,9 @@\n          }\n     }\n     public function addproductadmin(Request $request){\n         // $id_productvariant = $request->id_variant_product;\n+        $pilihan_category = $request->add_kategori_produk;\n         $nama_product = $request->add_nama_produk;\n         $harga_product = $request->add_hrg_produk;\n         $discount_product = $request->add_dsc_produk;\n         $desc_product =  $request->add_desc_produk;\n"
                },
                {
                    "date": 1720850691957,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -236,9 +236,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n+            $myproduk = Product::create([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\",\"images\" => \"-\", \"product_category\"=>$pilihan_category, \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product\".$products_id.\".\".$file_product->getClientOriginalExtension();\n             $file_product->move($tujuan_upload, $nama_file);\n             Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n"
                },
                {
                    "date": 1720850701829,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -244,9 +244,9 @@\n             Product::where(['id' => $products_id ])->update(['images' => $nama_file]);\n \n \n         }else{\n-            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"updated_at\" => now(), \"created_at\"=>now()]);\n+            Product::insert([\"names\" => $nama_product, \"descriptions\" => $desc_product, \"prices\" => $harga_product, \"discounts\" => $discount_product, \"stocks\" => \"1\", \"has_variants\" => \"0\", \"product_status\" => \"1\", \"images\" => \"-\", \"product_category\"=>$pilihan_category, \"updated_at\" => now(), \"created_at\"=>now()]);\n \n \n         }\n     }\n"
                },
                {
                    "date": 1720850802346,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,9 +70,9 @@\n     }\n     public function getlistproduk(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Product::latest();\n+            $data = Product::leftJoin(\"category\")latest();\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1720850831595,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,9 +70,9 @@\n     }\n     public function getlistproduk(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Product::leftJoin(\"category\")latest();\n+            $data = Product::leftJoin(\"category\", \"category.id\", \"=\",\"product.id\")->latest();\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1720850851512,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,9 +70,9 @@\n     }\n     public function getlistproduk(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Product::leftJoin(\"category\", \"category.id\", \"=\",\"product.id\")->latest();\n+            $data = Product::leftJoin(\"category\", \"category.id\", \"=\",\"product.id\")->select(\"product.*\", \"category.category_name\")->latest();\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1720850916675,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,9 +70,9 @@\n     }\n     public function getlistproduk(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Product::leftJoin(\"category\", \"category.id\", \"=\",\"product.id\")->select(\"product.*\", \"category.category_name\")->latest();\n+            $data = Product::leftJoin(\"category\", \"category.id\", \"=\",\"product.id\")->select(\"product.*\", \"category.category_name\")->latest()->get();\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1720850925174,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,9 +70,9 @@\n     }\n     public function getlistproduk(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Product::leftJoin(\"category\", \"category.id\", \"=\",\"product.id\")->select(\"product.*\", \"category.category_name\")->latest()->get();\n+            $data = Product::leftJoin(\"category\", \"category.id\", \"=\",\"product.id\")->select(\"product.*\", \"category.category_name\")->latest();\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1720850943897,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,9 +70,9 @@\n     }\n     public function getlistproduk(){\n         \n         if(Session::has('id_superadmin')){\n-            $data = Product::leftJoin(\"category\", \"category.id\", \"=\",\"product.id\")->select(\"product.*\", \"category.category_name\")->latest();\n+            $data = Product::leftJoin(\"category\", \"category.id\", \"=\",\"product.product_category\")->select(\"product.*\", \"category.category_name\")->latest();\n              return DataTables::of($data)->make(true);\n          }else{\n              return view('admin.login');\n          }\n"
                },
                {
                    "date": 1720851094516,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,8 +140,9 @@\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n     public function editproductadmin(Request $request){\n+        $edit_product = $request->edit_kategori_produk;\n         $id_product = $request->id_product;\n         $nama_product = $request->nama_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n"
                },
                {
                    "date": 1720851105999,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,9 +140,9 @@\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n     public function editproductadmin(Request $request){\n-        $edit_product = $request->edit_kategori_produk;\n+        $kategori_produt = $request->edit_kategori_produk;\n         $id_product = $request->id_product;\n         $nama_product = $request->nama_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n"
                },
                {
                    "date": 1720851145125,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -140,9 +140,9 @@\n         }\n         return response()->json(['output' => $hasil, \"output_proudct\"=>$products]);\n     }\n     public function editproductadmin(Request $request){\n-        $kategori_produt = $request->edit_kategori_produk;\n+        $kategori_product = $request->edit_kategori_produk;\n         $id_product = $request->id_product;\n         $nama_product = $request->nama_produk;\n         $harga_product = $request->hrg_produk;\n         $discount_product = $request->dsc_produk;\n@@ -156,9 +156,9 @@\n             $status_gbr_product = \"ada\";\n         }\n        \n         if($status_gbr_product == \"ada\"){\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file]);\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file, \"product_category\" => $kategori_product]);\n \n         }else{\n             Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n \n"
                },
                {
                    "date": 1720851152498,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -159,9 +159,9 @@\n         if($status_gbr_product == \"ada\"){\n             Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk, \"images\" => $nama_file, \"product_category\" => $kategori_product]);\n \n         }else{\n-            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk]);\n+            Product::where(['id' => $id_product ])->update(['names' => $nama_product,\"prices\"=>$harga_product, \"discounts\" => $discount_product, \"descriptions\"=>$desc_produk,\"product_category\" => $kategori_product]);\n \n         }\n     }\n \n"
                },
                {
                    "date": 1720851277523,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -131,9 +131,9 @@\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n         $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = Product::where(\"id\",'=',$id_product)->get();\n+        $products = Product::leftJoin(\"category\", \"category.id\",'=',\"product.product_categorey\")->where(\"id\",'=',$id_product)->get();\n         foreach($myproduct as $mp){\n            $gambar = asset('images/variant/'.$mp->images_variant);\n \n             $hasil .= '<tr><td><img src = \"'.$gambar.'\" style = \"width:50px;height:50px;\"></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n"
                },
                {
                    "date": 1720851297715,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -131,9 +131,9 @@\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n         $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = Product::leftJoin(\"category\", \"category.id\",'=',\"product.product_categorey\")->where(\"id\",'=',$id_product)->get();\n+        $products = Product::leftJoin(\"category\", \"category.id\",'=',\"product.product_category\")->where(\"id\",'=',$id_product)->select(\"product.*\",\"category.category_name\")->get();\n         foreach($myproduct as $mp){\n            $gambar = asset('images/variant/'.$mp->images_variant);\n \n             $hasil .= '<tr><td><img src = \"'.$gambar.'\" style = \"width:50px;height:50px;\"></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n"
                },
                {
                    "date": 1720851357368,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -131,9 +131,9 @@\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n         $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = Product::leftJoin(\"category\", \"category.id\",'=',\"product.product_category\")->where(\"id\",'=',$id_product)->select(\"product.*\",\"category.category_name\")->get();\n+        $products = Product::leftJoin(\"category\", \"category.id\",'=',\"product.product_category\")->where(\"id\",'=',$id_product)->select(\"product.*\",\"category.category_name\", \"category.id as category_id\")->get();\n         foreach($myproduct as $mp){\n            $gambar = asset('images/variant/'.$mp->images_variant);\n \n             $hasil .= '<tr><td><img src = \"'.$gambar.'\" style = \"width:50px;height:50px;\"></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n"
                },
                {
                    "date": 1720851409629,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -131,9 +131,9 @@\n     public function getdetailproductadmin(Request $request){\n         $id_product = $request->idproduct;\n         $hasil = \"\";\n         $myproduct = ProductVariant::leftJoin(\"product\",'product.id','=','product_variant.id_product')->where(\"product_variant.id_product\",'=',$id_product)->select(\"product_variant.*\",\"product.images as gambar_produk\", \"product.names as nama_produk\", \"product.prices as harga_produk\", \"product.discounts as discount_produk\")->get();\n-        $products = Product::leftJoin(\"category\", \"category.id\",'=',\"product.product_category\")->where(\"id\",'=',$id_product)->select(\"product.*\",\"category.category_name\", \"category.id as category_id\")->get();\n+        $products = Product::leftJoin(\"category\", \"category.id\",'=',\"product.product_category\")->where(\"product.id\",'=',$id_product)->select(\"product.*\",\"category.category_name\", \"category.id as category_id\")->get();\n         foreach($myproduct as $mp){\n            $gambar = asset('images/variant/'.$mp->images_variant);\n \n             $hasil .= '<tr><td><img src = \"'.$gambar.'\" style = \"width:50px;height:50px;\"></td>'.'<td>'.$mp->descriptions.'</td>'.'<td>'.$mp->discounts.'</td>'.'<td>'.$mp->prices.'</td></tr>';\n"
                },
                {
                    "date": 1720851786402,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,16 +27,16 @@\n      */\n     public function index()\n     {\n \n-        if(Session::has('id_superadmin')){\n+        // if(Session::has('id_superadmin')){\n            $visitor = Visitor::all();\n            $product = Product::all();\n            $transaction = Transaction::all();\n             return view('admin.index', compact('visitor','product','transaction'));\n-        }else{\n-            return view('admin.login');\n-        }\n+        // }else{\n+        //     return view('admin.login');\n+        // }\n     }\n     public function loginadmincheck(Request $request){\n         $username = $request->user;\n         $password = $request->pass;\n"
                },
                {
                    "date": 1720851819002,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,14 +28,14 @@\n     public function index()\n     {\n \n         // if(Session::has('id_superadmin')){\n-           $visitor = Visitor::all();\n-           $product = Product::all();\n-           $transaction = Transaction::all();\n-            return view('admin.index', compact('visitor','product','transaction'));\n+        //    $visitor = Visitor::all();\n+        //    $product = Product::all();\n+        //    $transaction = Transaction::all();\n+        //     return view('admin.index', compact('visitor','product','transaction'));\n         // }else{\n-        //     return view('admin.login');\n+            return view('admin.login');\n         // }\n     }\n     public function loginadmincheck(Request $request){\n         $username = $request->user;\n"
                },
                {
                    "date": 1720851975282,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,16 +27,16 @@\n      */\n     public function index()\n     {\n \n-        // if(Session::has('id_superadmin')){\n-        //    $visitor = Visitor::all();\n-        //    $product = Product::all();\n-        //    $transaction = Transaction::all();\n-        //     return view('admin.index', compact('visitor','product','transaction'));\n-        // }else{\n+        if(Session::has('id_superadmin')){\n+           $visitor = Visitor::all();\n+           $product = Product::all();\n+           $transaction = Transaction::all();\n+            return view('admin.index', compact('visitor','product','transaction'));\n+        }else{\n             return view('admin.login');\n-        // }\n+        }\n     }\n     public function loginadmincheck(Request $request){\n         $username = $request->user;\n         $password = $request->pass;\n"
                },
                {
                    "date": 1721291739855,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -264,16 +264,20 @@\n         $harga_product = $request->add_hrg_produk[$myindex];\n         $discount_product = $request->add_dsc_produk[$myindex];\n         // $desc_product =  $request->add_desc_produk;\n         $status_gbr_product = \"\";\n-        if($request->hasFile('add_gbr_produk')) {\n-            $file_product = $request->file('add_gbr_produk')[$myindex];\n-            $tujuan_upload = public_path('images/variant');\n-            // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n-           \n-            $status_gbr_product = \"ada\";\n+        if(isset($request->file('add_gbr_produk')[$myindex])){\n+\n+            if($request->hasFile('add_gbr_produk')) {\n+                $file_product = $request->file('add_gbr_produk')[$myindex];\n+                $tujuan_upload = public_path('images/variant');\n+                // $nama_file = \"product\".$id_productvariant.\".\".$file_product->getClientOriginalExtension();\n+               \n+                $status_gbr_product = \"ada\";\n+            }\n         }\n        \n+       \n         if($status_gbr_product == \"ada\"){\n             $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n             $products_id = $myproduk->id;\n             $nama_file = \"product_variant\".$products_id.\".\".$file_product->getClientOriginalExtension();\n"
                },
                {
                    "date": 1721291747570,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -274,8 +274,9 @@\n                \n                 $status_gbr_product = \"ada\";\n             }\n         }\n+        $status_gbr_product = \"tidak\";\n        \n        \n         if($status_gbr_product == \"ada\"){\n             $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n"
                },
                {
                    "date": 1721291863519,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -274,8 +274,11 @@\n                \n                 $status_gbr_product = \"ada\";\n             }\n         }\n+        else{\n+            \n+        }\n         $status_gbr_product = \"tidak\";\n        \n        \n         if($status_gbr_product == \"ada\"){\n"
                },
                {
                    "date": 1721292110007,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -261,8 +261,11 @@\n       \n         $nama_product = $request->add_nama_produk[$myindex];\n         $nama_product = $request->add_nama_produk[$myindex];\n         $harga_product = $request->add_hrg_produk[$myindex];\n+        if($request->add_dsc_produk[$myindex]){\n+            \n+        }\n         $discount_product = $request->add_dsc_produk[$myindex];\n         // $desc_product =  $request->add_desc_produk;\n         $status_gbr_product = \"\";\n         if(isset($request->file('add_gbr_produk')[$myindex])){\n@@ -275,11 +278,11 @@\n                 $status_gbr_product = \"ada\";\n             }\n         }\n         else{\n-            \n+            $status_gbr_product = \"tidak\";\n         }\n-        $status_gbr_product = \"tidak\";\n+ \n        \n        \n         if($status_gbr_product == \"ada\"){\n             $myproduk = ProductVariant::create([\"id_product\" => $pilihan_productvariant,\"stocks\" => \"1\",  \"prices\" => $harga_product, \"discounts\" => $discount_product,\"descriptions\" => $nama_product, \"stocks\" => \"1\", \"name\" => $nama_product, \"variant_status\" => \"1\",\"images_variant\" => \"-\", \"updated_at\" => now(), \"created_at\" => now()]);\n"
                },
                {
                    "date": 1721292118371,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -261,12 +261,12 @@\n       \n         $nama_product = $request->add_nama_produk[$myindex];\n         $nama_product = $request->add_nama_produk[$myindex];\n         $harga_product = $request->add_hrg_produk[$myindex];\n+        $discount_product = $request->add_dsc_produk[$myindex];\n         if($request->add_dsc_produk[$myindex]){\n             \n         }\n-        $discount_product = $request->add_dsc_produk[$myindex];\n         // $desc_product =  $request->add_desc_produk;\n         $status_gbr_product = \"\";\n         if(isset($request->file('add_gbr_produk')[$myindex])){\n \n"
                },
                {
                    "date": 1721292129341,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -262,9 +262,9 @@\n         $nama_product = $request->add_nama_produk[$myindex];\n         $nama_product = $request->add_nama_produk[$myindex];\n         $harga_product = $request->add_hrg_produk[$myindex];\n         $discount_product = $request->add_dsc_produk[$myindex];\n-        if($request->add_dsc_produk[$myindex]){\n+        if($request->add_dsc_produk[$myindex] == \"\"){\n             \n         }\n         // $desc_product =  $request->add_desc_produk;\n         $status_gbr_product = \"\";\n"
                },
                {
                    "date": 1721292146901,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -263,9 +263,9 @@\n         $nama_product = $request->add_nama_produk[$myindex];\n         $harga_product = $request->add_hrg_produk[$myindex];\n         $discount_product = $request->add_dsc_produk[$myindex];\n         if($request->add_dsc_produk[$myindex] == \"\"){\n-            \n+            $discount_product = 0;\n         }\n         // $desc_product =  $request->add_desc_produk;\n         $status_gbr_product = \"\";\n         if(isset($request->file('add_gbr_produk')[$myindex])){\n"
                },
                {
                    "date": 1721297192532,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -297,9 +297,9 @@\n             Product::where(['id' => $pilihan_productvariant ])->update(['has_variants' => 1]);\n \n         }\n          }\n-        return response()->json(['output' => $myallname]);\n+        return response()->json(['output' => \"ok\"]);\n     }\n     public function changestatusvariant(Request $request){\n         $id_variant = $request->idproductvariant;\n         $status = ProductVariant::where(\"id\",'=',$id_variant)->get();\n"
                }
            ],
            "date": 1719492549189,
            "name": "Commit-0",
            "content": "<?php\n\nnamespace App\\Http\\Controllers;\n\nuse Illuminate\\Http\\Request;\n\nclass AdminController extends Controller\n{\n    /**\n     * Display a listing of the resource.\n     *\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function index()\n    {\n        if(Session::has('user'))\n    }\n\n    /**\n     * Show the form for creating a new resource.\n     *\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function create()\n    {\n        //\n    }\n\n    /**\n     * Store a newly created resource in storage.\n     *\n     * @param  \\Illuminate\\Http\\Request  $request\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function store(Request $request)\n    {\n        //\n    }\n\n    /**\n     * Display the specified resource.\n     *\n     * @param  int  $id\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function show($id)\n    {\n        //\n    }\n\n    /**\n     * Show the form for editing the specified resource.\n     *\n     * @param  int  $id\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function edit($id)\n    {\n        //\n    }\n\n    /**\n     * Update the specified resource in storage.\n     *\n     * @param  \\Illuminate\\Http\\Request  $request\n     * @param  int  $id\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function update(Request $request, $id)\n    {\n        //\n    }\n\n    /**\n     * Remove the specified resource from storage.\n     *\n     * @param  int  $id\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function destroy($id)\n    {\n        //\n    }\n}"
        }
    ]
}