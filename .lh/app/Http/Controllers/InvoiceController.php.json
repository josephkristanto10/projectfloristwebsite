{
    "sourceFile": "app/Http/Controllers/InvoiceController.php",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 75,
            "patches": [
                {
                    "date": 1719302635452,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1719302767715,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -2,8 +2,10 @@\n \n namespace App\\Http\\Controllers;\n \n use Illuminate\\Http\\Request;\n+use App\\Models\\Transaction;\n+use App\\Models\\TransactionHistory;\n \n class InvoiceController extends Controller\n {\n     /**\n"
                },
                {
                    "date": 1719302788205,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,8 +14,9 @@\n      * @return \\Illuminate\\Http\\Response\n      */\n     public function index()\n     {\n+        \n         return view('order');\n     }\n \n     /**\n"
                },
                {
                    "date": 1719302843039,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,10 +14,12 @@\n      * @return \\Illuminate\\Http\\Response\n      */\n     public function index()\n     {\n+        if(!empty(Session::has('user'))){\n+            return view('order');\n+        }\n         \n-        return view('order');\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719302985222,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,8 +15,9 @@\n      */\n     public function index()\n     {\n         if(!empty(Session::has('user'))){\n+            $transaction = Transaction::all();\n             return view('order');\n         }\n         \n     }\n"
                },
                {
                    "date": 1719303018061,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n      */\n     public function index()\n     {\n         if(!empty(Session::has('user'))){\n-            $transaction = Transaction::all();\n+            $transaction = Transaction::where('id_user');\n             return view('order');\n         }\n         \n     }\n"
                },
                {
                    "date": 1719303069033,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n      */\n     public function index()\n     {\n         if(!empty(Session::has('user'))){\n-            $transaction = Transaction::where('id_user');\n+            $transaction = Transaction::where('id_user','=',Session::has('id_user'));\n             return view('order');\n         }\n         \n     }\n"
                },
                {
                    "date": 1719303181622,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,9 +16,9 @@\n     public function index()\n     {\n         if(!empty(Session::has('user'))){\n             $transaction = Transaction::where('id_user','=',Session::has('id_user'));\n-            return view('order');\n+            return view('order', compact(\"\"));\n         }\n         \n     }\n \n"
                },
                {
                    "date": 1719303867479,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,8 +4,9 @@\n \n use Illuminate\\Http\\Request;\n use App\\Models\\Transaction;\n use App\\Models\\TransactionHistory;\n+use Session;\n \n class InvoiceController extends Controller\n {\n     /**\n@@ -16,9 +17,9 @@\n     public function index()\n     {\n         if(!empty(Session::has('user'))){\n             $transaction = Transaction::where('id_user','=',Session::has('id_user'));\n-            return view('order', compact(\"\"));\n+            return view('order', compact($));\n         }\n         \n     }\n \n"
                },
                {
                    "date": 1719303873898,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n     public function index()\n     {\n         if(!empty(Session::has('user'))){\n             $transaction = Transaction::where('id_user','=',Session::has('id_user'));\n-            return view('order', compact($));\n+            return view('order', compact(\"transaction\"));\n         }\n         \n     }\n \n"
                },
                {
                    "date": 1719304070381,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -15,9 +15,9 @@\n      * @return \\Illuminate\\Http\\Response\n      */\n     public function index()\n     {\n-        if(!empty(Session::has('user'))){\n+        if(Session::has('user')){\n             $transaction = Transaction::where('id_user','=',Session::has('id_user'));\n             return view('order', compact(\"transaction\"));\n         }\n         \n"
                },
                {
                    "date": 1719304164318,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -19,8 +19,11 @@\n         if(Session::has('user')){\n             $transaction = Transaction::where('id_user','=',Session::has('id_user'));\n             return view('order', compact(\"transaction\"));\n         }\n+        else{\n+            \n+        }\n         \n     }\n \n     /**\n"
                },
                {
                    "date": 1719304182953,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n             $transaction = Transaction::where('id_user','=',Session::has('id_user'));\n             return view('order', compact(\"transaction\"));\n         }\n         else{\n-            \n+            return view('order', compact(\"transaction\"));\n         }\n         \n     }\n \n"
                },
                {
                    "date": 1719304197128,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n             $transaction = Transaction::where('id_user','=',Session::has('id_user'));\n             return view('order', compact(\"transaction\"));\n         }\n         else{\n-            return view('order', compact(\"transaction\"));\n+            return redirect('');\n         }\n         \n     }\n \n"
                },
                {
                    "date": 1719304214884,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n             $transaction = Transaction::where('id_user','=',Session::has('id_user'));\n             return view('order', compact(\"transaction\"));\n         }\n         else{\n-            return redirect('');\n+            return redirect('/masuk');\n         }\n         \n     }\n \n"
                },
                {
                    "date": 1719304264651,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,23 @@\n             $transaction = Transaction::where('id_user','=',Session::has('id_user'));\n             return view('order', compact(\"transaction\"));\n         }\n         else{\n-            return redirect('/masuk');\n+            return redirect('/masuk','  Swal.fire({\n+        title: \"<strong>Log Out</strong>\",\n+        icon: \"success\",\n+        html: `\n+          Anda telah logout, Silahkan login kembali.\n+        `,\n+        showCloseButton: false,\n+        showCancelButton: false,\n+        allowOutsideClick:false,\n+        focusConfirm: false,\n+        confirmButtonText: `\n+          <i class=\"fa fa-thumbs-up\"></i> Ok\n+        `,\n+        confirmButtonAriaLabel: \"Ok\",\n+      })');\n         }\n         \n     }\n \n"
                },
                {
                    "date": 1719304277259,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n             $transaction = Transaction::where('id_user','=',Session::has('id_user'));\n             return view('order', compact(\"transaction\"));\n         }\n         else{\n-            return redirect('/masuk','  Swal.fire({\n+            return redirect('/masuk','<script>Swal.fire({\n         title: \"<strong>Log Out</strong>\",\n         icon: \"success\",\n         html: `\n           Anda telah logout, Silahkan login kembali.\n@@ -34,9 +34,9 @@\n         confirmButtonText: `\n           <i class=\"fa fa-thumbs-up\"></i> Ok\n         `,\n         confirmButtonAriaLabel: \"Ok\",\n-      })');\n+      })</script>');\n         }\n         \n     }\n \n"
                },
                {
                    "date": 1719304401971,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,23 +20,9 @@\n             $transaction = Transaction::where('id_user','=',Session::has('id_user'));\n             return view('order', compact(\"transaction\"));\n         }\n         else{\n-            return redirect('/masuk','<script>Swal.fire({\n-        title: \"<strong>Log Out</strong>\",\n-        icon: \"success\",\n-        html: `\n-          Anda telah logout, Silahkan login kembali.\n-        `,\n-        showCloseButton: false,\n-        showCancelButton: false,\n-        allowOutsideClick:false,\n-        focusConfirm: false,\n-        confirmButtonText: `\n-          <i class=\"fa fa-thumbs-up\"></i> Ok\n-        `,\n-        confirmButtonAriaLabel: \"Ok\",\n-      })</script>');\n+            return redirect('');\n         }\n         \n     }\n \n"
                },
                {
                    "date": 1719304476281,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n             $transaction = Transaction::where('id_user','=',Session::has('id_user'));\n             return view('order', compact(\"transaction\"));\n         }\n         else{\n-            return redirect('');\n+            return redirect('/masuk');\n         }\n         \n     }\n \n"
                },
                {
                    "date": 1719305267516,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,9 +16,9 @@\n      */\n     public function index()\n     {\n         if(Session::has('user')){\n-            $transaction = Transaction::where('id_user','=',Session::has('id_user'));\n+            $transaction = Transaction::where('id_user','=',Session::get('id_user'));\n             return view('order', compact(\"transaction\"));\n         }\n         else{\n             return redirect('/masuk');\n"
                },
                {
                    "date": 1719305726894,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,10 +16,10 @@\n      */\n     public function index()\n     {\n         if(Session::has('user')){\n-            $transaction = Transaction::where('id_user','=',Session::get('id_user'));\n-            return view('order', compact(\"transaction\"));\n+            $transactions = Transaction::where('id_user','=',Session::get('id_user'));\n+            return view('order', compact(\"transactions\"));\n         }\n         else{\n             return redirect('/masuk');\n         }\n"
                },
                {
                    "date": 1719305821241,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,9 +16,9 @@\n      */\n     public function index()\n     {\n         if(Session::has('user')){\n-            $transactions = Transaction::where('id_user','=',Session::get('id_user'));\n+            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->get();\n             return view('order', compact(\"transactions\"));\n         }\n         else{\n             return redirect('/masuk');\n"
                },
                {
                    "date": 1719319934341,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,8 +24,11 @@\n             return redirect('/masuk');\n         }\n         \n     }\n+    public function getInvoiceDetail(){\n+        \n+    }\n \n     /**\n      * Show the form for creating a new resource.\n      *\n"
                },
                {
                    "date": 1719320071562,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n         }\n         \n     }\n     public function getInvoiceDetail(){\n-        \n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\");\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719320196475,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n         }\n         \n     }\n     public function getInvoiceDetail(){\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\");\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->select(\"product.name as product_name\", \"product.descriptions as product_description\", \"product.prices as product_discounts\")->where(\"id_transaction\",\"=\",$id_transaction);\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719320204842,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n         }\n         \n     }\n     public function getInvoiceDetail(){\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->select(\"product.name as product_name\", \"product.descriptions as product_description\", \"product.prices as product_discounts\")->where(\"id_transaction\",\"=\",$id_transaction);\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->select(\"product.name as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\")->where(\"id_transaction\",\"=\",$id_transaction);\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719320284283,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,9 +25,9 @@\n         }\n         \n     }\n     public function getInvoiceDetail(){\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->select(\"product.name as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\")->where(\"id_transaction\",\"=\",$id_transaction);\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->select(\"product.name as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discount as variant_discount\",    \"product_variant.discount as variant_discount\")->where(\"id_transaction\",\"=\",$id_transaction);\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719320368550,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -24,10 +24,11 @@\n             return redirect('/masuk');\n         }\n         \n     }\n-    public function getInvoiceDetail(){\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->select(\"product.name as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discount as variant_discount\",    \"product_variant.discount as variant_discount\")->where(\"id_transaction\",\"=\",$id_transaction);\n+    public function getInvoiceDetail(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->select(\"product.name as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discount as variant_discount\",    \"product_variant.discount as variant_discount\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->where(\"id_transaction\",\"=\",$id_transaction);\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719320379807,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,8 +27,9 @@\n     }\n     public function getInvoiceDetail(Request $request ){\n         $id_transaction = $request->idtrans;\n         $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->select(\"product.name as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discount as variant_discount\",    \"product_variant.discount as variant_discount\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->where(\"id_transaction\",\"=\",$id_transaction);\n+        return response()->json(['output' => Session::all()]);\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719320387177,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n     }\n     public function getInvoiceDetail(Request $request ){\n         $id_transaction = $request->idtrans;\n         $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->select(\"product.name as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discount as variant_discount\",    \"product_variant.discount as variant_discount\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->where(\"id_transaction\",\"=\",$id_transaction);\n-        return response()->json(['output' => Session::all()]);\n+        return response()->json(['output' => myproduct]);\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719320642675,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n     }\n     public function getInvoiceDetail(Request $request ){\n         $id_transaction = $request->idtrans;\n         $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->select(\"product.name as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discount as variant_discount\",    \"product_variant.discount as variant_discount\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->where(\"id_transaction\",\"=\",$id_transaction);\n-        return response()->json(['output' => myproduct]);\n+        return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719320789794,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n         \n     }\n     public function getInvoiceDetail(Request $request ){\n         $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->select(\"product.name as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discount as variant_discount\",    \"product_variant.discount as variant_discount\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->where(\"id_transaction\",\"=\",$id_transaction);\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->where(\"id_transaction\",\"=\",$id_transaction)->select(\"product.name as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discount as variant_discount\",    \"product_variant.discount as variant_discount\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                },
                {
                    "date": 1719320830867,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n         \n     }\n     public function getInvoiceDetail(Request $request ){\n         $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->where(\"id_transaction\",\"=\",$id_transaction)->select(\"product.name as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discount as variant_discount\",    \"product_variant.discount as variant_discount\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->where(\"id_transaction\",\"=\",$id_transaction)->select(\"product.names as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discount as variant_discount\",    \"product_variant.discount as variant_discount\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                },
                {
                    "date": 1719320880403,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n         \n     }\n     public function getInvoiceDetail(Request $request ){\n         $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->where(\"id_transaction\",\"=\",$id_transaction)->select(\"product.names as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discount as variant_discount\",    \"product_variant.discount as variant_discount\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->where(\"id_transaction\",\"=\",$id_transaction)->select(\"product.names as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",    \"product_variant.discount as variant_discount\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                },
                {
                    "date": 1719320925601,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n         \n     }\n     public function getInvoiceDetail(Request $request ){\n         $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->where(\"id_transaction\",\"=\",$id_transaction)->select(\"product.names as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",    \"product_variant.discount as variant_discount\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->where(\"id_transaction\",\"=\",$id_transaction)->select(\"product.names as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                },
                {
                    "date": 1719321036697,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n     }\n     public function getInvoiceDetail(Request $request ){\n         $id_transaction = $request->idtrans;\n         $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->where(\"id_transaction\",\"=\",$id_transaction)->select(\"product.names as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n-        return response()->json(['output' => $myproduct]);\n+        return response()->json(['output' => $id_transaction]);\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719321108298,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,9 @@\n     }\n     public function getInvoiceDetail(Request $request ){\n         $id_transaction = $request->idtrans;\n         $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->where(\"id_transaction\",\"=\",$id_transaction)->select(\"product.names as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n-        return response()->json(['output' => $id_transaction]);\n+        return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719321189258,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n         \n     }\n     public function getInvoiceDetail(Request $request ){\n         $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->where(\"id_transaction\",\"=\",$id_transaction)->select(\"product.names as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->where(\"id_transaction\",\"=\",$id_transaction)->select(\"product.names as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_discount\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                },
                {
                    "date": 1719321211745,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,9 @@\n         \n     }\n     public function getInvoiceDetail(Request $request ){\n         $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->where(\"id_transaction\",\"=\",$id_transaction)->select(\"product.names as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_discount\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->where(\"id_transaction\",\"=\",$id_transaction)->select(\"product.names as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                },
                {
                    "date": 1719325361642,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -26,9 +26,12 @@\n         \n     }\n     public function getInvoiceDetail(Request $request ){\n         $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")->where(\"id_transaction\",\"=\",$id_transaction)->select(\"product.names as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                },
                {
                    "date": 1719331684866,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n         $id_transaction = $request->idtrans;\n         $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n                     ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n+                    ->select(\"product.names as product_name\",\"product.image as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                },
                {
                    "date": 1719331896195,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,9 @@\n         $id_transaction = $request->idtrans;\n         $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n                     ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.image as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                },
                {
                    "date": 1719332519772,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,103 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Transaction;\n+use App\\Models\\TransactionHistory;\n+use Session;\n+\n+class InvoiceController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+        if(Session::has('user')){\n+            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->get();\n+            return view('order', compact(\"transactions\"));\n+        }\n+        else{\n+            return redirect('/masuk');\n+        }\n+        \n+    }\n+    public function getInvoiceDetail(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\");\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n+        return response()->json(['output' => $myproduct]);\n+    }\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719332549601,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -28,11 +28,11 @@\n     public function getInvoiceDetail(Request $request ){\n         $id_transaction = $request->idtrans;\n         $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n                     ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n-                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\");\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n@@ -99,107 +99,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Transaction;\n-use App\\Models\\TransactionHistory;\n-use Session;\n-\n-class InvoiceController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-        if(Session::has('user')){\n-            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->get();\n-            return view('order', compact(\"transactions\"));\n-        }\n-        else{\n-            return redirect('/masuk');\n-        }\n-        \n-    }\n-    public function getInvoiceDetail(Request $request ){\n-        $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n-                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n-                    ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\")->get();\n-        return response()->json(['output' => $myproduct]);\n-    }\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719332606944,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,9 +30,9 @@\n         $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n                     ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n                     ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\")->get();\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\", \"transaction.created_at as date_invoice\", \"transaction.id as id_invoice\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                },
                {
                    "date": 1719333142343,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -5,8 +5,9 @@\n use Illuminate\\Http\\Request;\n use App\\Models\\Transaction;\n use App\\Models\\TransactionHistory;\n use Session;\n+use DB;\n \n class InvoiceController extends Controller\n {\n     /**\n@@ -30,9 +31,9 @@\n         $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n                     ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n                     ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\", \"transaction.created_at as date_invoice\", \"transaction.id as id_invoice\")->get();\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(cust.cust_dob, '%d-%b-%Y') as formatted_dob\") \"transaction.created_at as date_invoice\", \"transaction.id as id_invoice\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                },
                {
                    "date": 1719333168787,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n         $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n                     ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n                     ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(cust.cust_dob, '%d-%b-%Y') as formatted_dob\") \"transaction.created_at as date_invoice\", \"transaction.id as id_invoice\")->get();\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d-%b-%Y') as formatted_dob\") , \"transaction.id as id_invoice\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                },
                {
                    "date": 1719333174096,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n         $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n                     ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n                     ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d-%b-%Y') as formatted_dob\") , \"transaction.id as id_invoice\")->get();\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d-%b-%Y') as  date_invoice\") , \"transaction.id as id_invoice\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                },
                {
                    "date": 1719333204210,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n         $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n                     ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n                     ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d-%b-%Y') as  date_invoice\") , \"transaction.id as id_invoice\")->get();\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d-%b-%Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                },
                {
                    "date": 1719333254673,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n      */\n     public function index()\n     {\n         if(Session::has('user')){\n-            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->get();\n+            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->get();\n             return view('order', compact(\"transactions\"));\n         }\n         else{\n             return redirect('/masuk');\n@@ -31,9 +31,9 @@\n         $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n                     ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n                     ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d-%b-%Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                },
                {
                    "date": 1719333285187,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n      */\n     public function index()\n     {\n         if(Session::has('user')){\n-            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->get();\n+            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->get();\n             return view('order', compact(\"transactions\"));\n         }\n         else{\n             return redirect('/masuk');\n"
                },
                {
                    "date": 1719337567966,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,8 +25,16 @@\n             return redirect('/masuk');\n         }\n         \n     }\n+    function fetch_data(Request $request)\n+    {\n+     if($request->ajax())\n+     {\n+      $products =  Product::latest('id')->paginate(2);\n+      return view('product_cart', compact('products'))->render();\n+     }\n+    }\n     public function getInvoiceDetail(Request $request ){\n         $id_transaction = $request->idtrans;\n         $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n                     ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n"
                },
                {
                    "date": 1719337580083,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -29,9 +29,10 @@\n     function fetch_data(Request $request)\n     {\n      if($request->ajax())\n      {\n-      $products =  Product::latest('id')->paginate(2);\n+        $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->get();\n+\n       return view('product_cart', compact('products'))->render();\n      }\n     }\n     public function getInvoiceDetail(Request $request ){\n"
                },
                {
                    "date": 1719337729979,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n      */\n     public function index()\n     {\n         if(Session::has('user')){\n-            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->get();\n+            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(2);\n             return view('order', compact(\"transactions\"));\n         }\n         else{\n             return redirect('/masuk');\n@@ -29,11 +29,11 @@\n     function fetch_data(Request $request)\n     {\n      if($request->ajax())\n      {\n-        $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->get();\n+        $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(2);\n \n-      return view('product_cart', compact('products'))->render();\n+      return view('product_cart', compact('transactions'))->render();\n      }\n     }\n     public function getInvoiceDetail(Request $request ){\n         $id_transaction = $request->idtrans;\n"
                },
                {
                    "date": 1719337837678,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -31,9 +31,9 @@\n      if($request->ajax())\n      {\n         $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(2);\n \n-      return view('product_cart', compact('transactions'))->render();\n+      return view('invoice_list', compact('transactions'))->render();\n      }\n     }\n     public function getInvoiceDetail(Request $request ){\n         $id_transaction = $request->idtrans;\n"
                },
                {
                    "date": 1719337863691,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n      */\n     public function index()\n     {\n         if(Session::has('user')){\n-            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(2);\n+            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(3);\n             return view('order', compact(\"transactions\"));\n         }\n         else{\n             return redirect('/masuk');\n@@ -29,9 +29,9 @@\n     function fetch_data(Request $request)\n     {\n      if($request->ajax())\n      {\n-        $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(2);\n+        $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(3);\n \n       return view('invoice_list', compact('transactions'))->render();\n      }\n     }\n"
                },
                {
                    "date": 1719337880847,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -17,9 +17,9 @@\n      */\n     public function index()\n     {\n         if(Session::has('user')){\n-            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(3);\n+            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(10);\n             return view('order', compact(\"transactions\"));\n         }\n         else{\n             return redirect('/masuk');\n@@ -29,9 +29,9 @@\n     function fetch_data(Request $request)\n     {\n      if($request->ajax())\n      {\n-        $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(3);\n+        $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(10);\n \n       return view('invoice_list', compact('transactions'))->render();\n      }\n     }\n"
                },
                {
                    "date": 1719508300766,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,8 +41,11 @@\n                     ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n                     ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+        foreach($myproduct){\n+            \n+        }\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                },
                {
                    "date": 1719508307791,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,9 +42,9 @@\n                     ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n         foreach($myproduct){\n-            \n+            asdsa;\n         }\n         return response()->json(['output' => $myproduct]);\n     }\n \n"
                },
                {
                    "date": 1719508313534,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,10 +41,10 @@\n                     ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n                     ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-        foreach($myproduct){\n-            asdsa;\n+        foreach($myproduct as $mp){\n+            $asdsa;\n         }\n         return response()->json(['output' => $myproduct]);\n     }\n \n"
                },
                {
                    "date": 1719508329370,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,10 +41,11 @@\n                     ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n                     ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+        $hasil = \"\";\n         foreach($myproduct as $mp){\n-            $asdsa;\n+            \n         }\n         return response()->json(['output' => $myproduct]);\n     }\n \n"
                },
                {
                    "date": 1719508393060,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,10 +42,15 @@\n                     ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n         $hasil = \"\";\n+        <th>ID</th>\n+        <th>Product Name</th>\n+        <th>Variant Name</th>\n+        <th>Qty</th>\n+        <th>Subtotal</th>\n         foreach($myproduct as $mp){\n-            \n+            $hasil .= '<td>'+$mp->id_invoice+'</td>';\n         }\n         return response()->json(['output' => $myproduct]);\n     }\n \n"
                },
                {
                    "date": 1719508403557,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -42,9 +42,9 @@\n                     ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n         $hasil = \"\";\n-        <th>ID</th>\n+      \n         <th>Product Name</th>\n         <th>Variant Name</th>\n         <th>Qty</th>\n         <th>Subtotal</th>\n"
                },
                {
                    "date": 1719508414293,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,122 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Transaction;\n+use App\\Models\\TransactionHistory;\n+use Session;\n+use DB;\n+\n+class InvoiceController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+        if(Session::has('user')){\n+            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(10);\n+            return view('order', compact(\"transactions\"));\n+        }\n+        else{\n+            return redirect('/masuk');\n+        }\n+        \n+    }\n+    function fetch_data(Request $request)\n+    {\n+     if($request->ajax())\n+     {\n+        $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(10);\n+\n+      return view('invoice_list', compact('transactions'))->render();\n+     }\n+    }\n+    public function getInvoiceDetail(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+        $hasil = \"\";\n+      \n+        <th>Product Name</th>\n+        <th>Variant Name</th>\n+        <th>Qty</th>\n+        <th>Subtotal</th>\n+        foreach($myproduct as $mp){\n+            $hasil .= '<td>'+$mp->product_name+'</td>';\n+        }\n+        return response()->json(['output' => $myproduct]);\n+    }\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719508421991,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,9 +48,9 @@\n         <th>Variant Name</th>\n         <th>Qty</th>\n         <th>Subtotal</th>\n         foreach($myproduct as $mp){\n-            $hasil .= '<td>'+$mp->product_name+'</td>';\n+            $hasil .= '<td>'+$mp->product_name+'</td>'.'<td>'+$mp->product_name+'</td>';\n         }\n         return response()->json(['output' => $myproduct]);\n     }\n \n@@ -118,127 +118,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Transaction;\n-use App\\Models\\TransactionHistory;\n-use Session;\n-use DB;\n-\n-class InvoiceController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-        if(Session::has('user')){\n-            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(10);\n-            return view('order', compact(\"transactions\"));\n-        }\n-        else{\n-            return redirect('/masuk');\n-        }\n-        \n-    }\n-    function fetch_data(Request $request)\n-    {\n-     if($request->ajax())\n-     {\n-        $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(10);\n-\n-      return view('invoice_list', compact('transactions'))->render();\n-     }\n-    }\n-    public function getInvoiceDetail(Request $request ){\n-        $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n-                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n-                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n-                    ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-        $hasil = \"\";\n-      \n-        <th>Product Name</th>\n-        <th>Variant Name</th>\n-        <th>Qty</th>\n-        <th>Subtotal</th>\n-        foreach($myproduct as $mp){\n-            $hasil .= '<td>'+$mp->id_invoice+'</td>';\n-        }\n-        return response()->json(['output' => $myproduct]);\n-    }\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719508440619,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,122 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Transaction;\n+use App\\Models\\TransactionHistory;\n+use Session;\n+use DB;\n+\n+class InvoiceController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+        if(Session::has('user')){\n+            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(10);\n+            return view('order', compact(\"transactions\"));\n+        }\n+        else{\n+            return redirect('/masuk');\n+        }\n+        \n+    }\n+    function fetch_data(Request $request)\n+    {\n+     if($request->ajax())\n+     {\n+        $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(10);\n+\n+      return view('invoice_list', compact('transactions'))->render();\n+     }\n+    }\n+    public function getInvoiceDetail(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+        $hasil = \"\";\n+      \n+        <th>Product Name</th>\n+        <th>Variant Name</th>\n+        <th>Qty</th>\n+        <th>Subtotal</th>\n+        foreach($myproduct as $mp){\n+            $hasil .= '<td>'+$mp->product_name+'</td>'.'<td>'+$mp->variant_descriptions+'</td>';\n+        }\n+        return response()->json(['output' => $myproduct]);\n+    }\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719508467500,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,8 +49,11 @@\n         <th>Qty</th>\n         <th>Subtotal</th>\n         foreach($myproduct as $mp){\n             $hasil .= '<td>'+$mp->product_name+'</td>'.'<td>'+$mp->variant_descriptions+'</td>';\n+         \n+            buy_qty\n+            buy_subtotal\n         }\n         return response()->json(['output' => $myproduct]);\n     }\n \n"
                },
                {
                    "date": 1719508473745,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -0,0 +1,125 @@\n+<?php\n+\n+namespace App\\Http\\Controllers;\n+\n+use Illuminate\\Http\\Request;\n+use App\\Models\\Transaction;\n+use App\\Models\\TransactionHistory;\n+use Session;\n+use DB;\n+\n+class InvoiceController extends Controller\n+{\n+    /**\n+     * Display a listing of the resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function index()\n+    {\n+        if(Session::has('user')){\n+            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(10);\n+            return view('order', compact(\"transactions\"));\n+        }\n+        else{\n+            return redirect('/masuk');\n+        }\n+        \n+    }\n+    function fetch_data(Request $request)\n+    {\n+     if($request->ajax())\n+     {\n+        $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(10);\n+\n+      return view('invoice_list', compact('transactions'))->render();\n+     }\n+    }\n+    public function getInvoiceDetail(Request $request ){\n+        $id_transaction = $request->idtrans;\n+        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n+                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n+                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n+                    ->where(\"id_transaction\",\"=\",$id_transaction)\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+        $hasil = \"\";\n+      \n+        <th>Product Name</th>\n+        <th>Variant Name</th>\n+        <th>Qty</th>\n+        <th>Subtotal</th>\n+        foreach($myproduct as $mp){\n+            $hasil .= '<td>'+$mp->product_name+'</td>'.'<td>'+$mp->variant_descriptions+'</td>'.'<td>'+$mp->variant_descriptions+'</td>';\n+         \n+            buy_qty\n+            buy_subtotal\n+        }\n+        return response()->json(['output' => $myproduct]);\n+    }\n+\n+    /**\n+     * Show the form for creating a new resource.\n+     *\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function create()\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Store a newly created resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function store(Request $request)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Display the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function show($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Show the form for editing the specified resource.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function edit($id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Update the specified resource in storage.\n+     *\n+     * @param  \\Illuminate\\Http\\Request  $request\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function update(Request $request, $id)\n+    {\n+        //\n+    }\n+\n+    /**\n+     * Remove the specified resource from storage.\n+     *\n+     * @param  int  $id\n+     * @return \\Illuminate\\Http\\Response\n+     */\n+    public function destroy($id)\n+    {\n+        //\n+    }\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719508482977,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -48,12 +48,12 @@\n         <th>Variant Name</th>\n         <th>Qty</th>\n         <th>Subtotal</th>\n         foreach($myproduct as $mp){\n-            $hasil .= '<td>'+$mp->product_name+'</td>'.'<td>'+$mp->variant_descriptions+'</td>'.'<td>'+$mp->variant_descriptions+'</td>';\n+            $hasil .= '<td>'+$mp->product_name+'</td>'.'<td>'+$mp->variant_descriptions+'</td>'.'<td>'+$mp->buy_qty+'</td>'.'<td>'+$mp->buy_subtotal+'</td>';\n          \n-            buy_qty\n-            buy_subtotal\n+            \n+            \n         }\n         return response()->json(['output' => $myproduct]);\n     }\n \n@@ -121,252 +121,5 @@\n     public function destroy($id)\n     {\n         //\n     }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Transaction;\n-use App\\Models\\TransactionHistory;\n-use Session;\n-use DB;\n-\n-class InvoiceController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-        if(Session::has('user')){\n-            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(10);\n-            return view('order', compact(\"transactions\"));\n-        }\n-        else{\n-            return redirect('/masuk');\n-        }\n-        \n-    }\n-    function fetch_data(Request $request)\n-    {\n-     if($request->ajax())\n-     {\n-        $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(10);\n-\n-      return view('invoice_list', compact('transactions'))->render();\n-     }\n-    }\n-    public function getInvoiceDetail(Request $request ){\n-        $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n-                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n-                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n-                    ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-        $hasil = \"\";\n-      \n-        <th>Product Name</th>\n-        <th>Variant Name</th>\n-        <th>Qty</th>\n-        <th>Subtotal</th>\n-        foreach($myproduct as $mp){\n-            $hasil .= '<td>'+$mp->product_name+'</td>'.'<td>'+$mp->variant_descriptions+'</td>';\n-         \n-            buy_qty\n-            buy_subtotal\n-        }\n-        return response()->json(['output' => $myproduct]);\n-    }\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n-}\n-<?php\n-\n-namespace App\\Http\\Controllers;\n-\n-use Illuminate\\Http\\Request;\n-use App\\Models\\Transaction;\n-use App\\Models\\TransactionHistory;\n-use Session;\n-use DB;\n-\n-class InvoiceController extends Controller\n-{\n-    /**\n-     * Display a listing of the resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function index()\n-    {\n-        if(Session::has('user')){\n-            $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(10);\n-            return view('order', compact(\"transactions\"));\n-        }\n-        else{\n-            return redirect('/masuk');\n-        }\n-        \n-    }\n-    function fetch_data(Request $request)\n-    {\n-     if($request->ajax())\n-     {\n-        $transactions = Transaction::where('id_user','=',Session::get('id_user'))->latest()->select(\"transaction.*\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\"))->paginate(10);\n-\n-      return view('invoice_list', compact('transactions'))->render();\n-     }\n-    }\n-    public function getInvoiceDetail(Request $request ){\n-        $id_transaction = $request->idtrans;\n-        $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n-                    ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n-                    ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n-                    ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-        $hasil = \"\";\n-      \n-        <th>Product Name</th>\n-        <th>Variant Name</th>\n-        <th>Qty</th>\n-        <th>Subtotal</th>\n-        foreach($myproduct as $mp){\n-            $hasil .= '<td>'+$mp->product_name+'</td>'.'<td>'+$mp->product_name+'</td>';\n-        }\n-        return response()->json(['output' => $myproduct]);\n-    }\n-\n-    /**\n-     * Show the form for creating a new resource.\n-     *\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function create()\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Store a newly created resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function store(Request $request)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Display the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function show($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Show the form for editing the specified resource.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function edit($id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Update the specified resource in storage.\n-     *\n-     * @param  \\Illuminate\\Http\\Request  $request\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function update(Request $request, $id)\n-    {\n-        //\n-    }\n-\n-    /**\n-     * Remove the specified resource from storage.\n-     *\n-     * @param  int  $id\n-     * @return \\Illuminate\\Http\\Response\n-     */\n-    public function destroy($id)\n-    {\n-        //\n-    }\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1719508490211,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -49,13 +49,10 @@\n         <th>Qty</th>\n         <th>Subtotal</th>\n         foreach($myproduct as $mp){\n             $hasil .= '<td>'+$mp->product_name+'</td>'.'<td>'+$mp->variant_descriptions+'</td>'.'<td>'+$mp->buy_qty+'</td>'.'<td>'+$mp->buy_subtotal+'</td>';\n-         \n-            \n-            \n         }\n-        return response()->json(['output' => $myproduct]);\n+        return response()->json(['output' => $hasil]);\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719508529773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,12 +43,8 @@\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n         $hasil = \"\";\n       \n-        <th>Product Name</th>\n-        <th>Variant Name</th>\n-        <th>Qty</th>\n-        <th>Subtotal</th>\n         foreach($myproduct as $mp){\n             $hasil .= '<td>'+$mp->product_name+'</td>'.'<td>'+$mp->variant_descriptions+'</td>'.'<td>'+$mp->buy_qty+'</td>'.'<td>'+$mp->buy_subtotal+'</td>';\n         }\n         return response()->json(['output' => $hasil]);\n"
                },
                {
                    "date": 1719508553884,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,14 +41,10 @@\n                     ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n                     ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-        $hasil = \"\";\n-      \n-        foreach($myproduct as $mp){\n-            $hasil .= '<td>'+$mp->product_name+'</td>'.'<td>'+$mp->variant_descriptions+'</td>'.'<td>'+$mp->buy_qty+'</td>'.'<td>'+$mp->buy_subtotal+'</td>';\n-        }\n-        return response()->json(['output' => $hasil]);\n+    \n+        return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n      * Show the form for creating a new resource.\n"
                },
                {
                    "date": 1719508575482,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -41,9 +41,8 @@\n                     ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n                     ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n-    \n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                },
                {
                    "date": 1719541654669,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,8 +43,9 @@\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n+    \n \n     /**\n      * Show the form for creating a new resource.\n      *\n"
                },
                {
                    "date": 1719541662100,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -43,9 +43,8 @@\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n                     ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n-    \n \n     /**\n      * Show the form for creating a new resource.\n      *\n"
                },
                {
                    "date": 1719552763769,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -40,9 +40,9 @@\n         $myproduct = TransactionHistory::leftJoin(\"product\", \"product.id\",\"=\",\"transaction_history.id_product\")\n                     ->leftJoin(\"product_variant\",\"product_variant.id\",\"=\",\"transaction_history.id_product_variant\")\n                     ->Join(\"transaction\",\"transaction.id\",'=',\"transaction_history.id_transaction\")\n                     ->where(\"id_transaction\",\"=\",$id_transaction)\n-                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\")->get();\n+                    ->select(\"product.names as product_name\",\"product.images as product_image\", \"product.descriptions as product_description\", \"product.discounts as product_discounts\",  \"product_variant.prices as variant_prices\",   \"product_variant.discounts as variant_discount\",\"product_variant.descriptions as variant_descriptions\", \"transaction_history.qty as buy_qty\", \"transaction_history.subtotal as buy_subtotal\", \"transaction.total_price as total_invoice\",DB::raw(\"DATE_FORMAT(transaction.created_at, '%d %b %Y') as date_invoice\") , \"transaction.id as id_invoice\", \"product_variant.images_variant\")->get();\n         return response()->json(['output' => $myproduct]);\n     }\n \n     /**\n"
                }
            ],
            "date": 1719302635452,
            "name": "Commit-0",
            "content": "<?php\n\nnamespace App\\Http\\Controllers;\n\nuse Illuminate\\Http\\Request;\n\nclass InvoiceController extends Controller\n{\n    /**\n     * Display a listing of the resource.\n     *\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function index()\n    {\n        return view('order');\n    }\n\n    /**\n     * Show the form for creating a new resource.\n     *\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function create()\n    {\n        //\n    }\n\n    /**\n     * Store a newly created resource in storage.\n     *\n     * @param  \\Illuminate\\Http\\Request  $request\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function store(Request $request)\n    {\n        //\n    }\n\n    /**\n     * Display the specified resource.\n     *\n     * @param  int  $id\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function show($id)\n    {\n        //\n    }\n\n    /**\n     * Show the form for editing the specified resource.\n     *\n     * @param  int  $id\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function edit($id)\n    {\n        //\n    }\n\n    /**\n     * Update the specified resource in storage.\n     *\n     * @param  \\Illuminate\\Http\\Request  $request\n     * @param  int  $id\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function update(Request $request, $id)\n    {\n        //\n    }\n\n    /**\n     * Remove the specified resource from storage.\n     *\n     * @param  int  $id\n     * @return \\Illuminate\\Http\\Response\n     */\n    public function destroy($id)\n    {\n        //\n    }\n}"
        }
    ]
}